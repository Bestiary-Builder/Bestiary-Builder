import{_ as P}from"./Markdown.vue_vue_type_script_setup_true_lang-D-JFeXwF.js";import{e as I,_ as T,r as B,I as D,o as s,c as t,d as i,t as a,l as o,k as p,F as g,P as m,J as N,b as k,p as H,m as G}from"./index-DfpgvH7N.js";import{f as b,s as v,a as S,b as _,S as L,d as C,e as O,c as E,n as F,h as R,g as z,i as M}from"./LabelledComponent-7asEGFYT.js";function j(e){const r=e.spellcasting.innateSpells,u=e.description.name;let l="";if(!r.spellCastingAbility)return l;!e.description.isProperNoun&&!r.displayAsAction?l+=`The ${u.toLowerCase()}'s spellcasting ability is ${b(r.spellCastingAbility)} (spell save DC ${v(!0,e)}, ${S(!0,e)} to hit with spell attacks). It can innately cast the following spells${_(r.noComponentsOfType)}:`:!e.description.isProperNoun&&r.displayAsAction?l+=`The ${u.toLowerCase()} casts one of the following spells${_(r.noComponentsOfType)} and using ${b(r.spellCastingAbility)} as the spellcasting ability (spell save DC ${v(!0,e)}, ${S(!0,e)} to hit with spell attacks).`:e.description.isProperNoun&&!r.displayAsAction?l+=`${u}'s spellcasting ability is ${b(r.spellCastingAbility)} (spell save DC ${v(!0,e)}, ${S(!0,e)} to hit with spell attacks). ${u} can innately cast the following spells${_(r.noComponentsOfType)}:`:e.description.isProperNoun&&r.displayAsAction&&(l+=`${u} casts one of the following spells${_(r.noComponentsOfType)} and using ${b(r.spellCastingAbility)} as the spellcasting ability (spell save DC ${v(!0,e)}, ${S(!0,e)} to hit with spell attacks).`);for(const d in r.spellList)r.spellList[d].length!==0&&(Number.parseInt(d)===0?l+=`
At will: `:l+=`
${d}/day${r.spellList[d].length>1?" each":""}: `,l+=r.spellList[d].map(f=>f.comment.length>0?`*${f.spell.toLowerCase()} (${f.comment})*`:`*${f.spell.toLowerCase()}*`).sort().join(", "));return l}function U(e){return e.charAt(0).toUpperCase()+e.slice(1)}const W=["str","dex","con","int","wis","cha"],V={vulnerabilities:"Vulnerabilities ",resistances:"Resistances ",immunities:"Immunities ",conditionImmunities:"Condition Immunities "},q={bonus:"Bonus Actions",reactions:"Reactions",legendary:"Legendary Actions",mythic:"Mythic Actions",lair:"Lair Actions",regional:"Regional Effects"},rs={features:"New Feature",actions:"New Action",bonus:"New Bonus Action",reactions:"New Reaction",legendary:"New Legendary Action",lair:"New Lair Action",mythic:"New Mythic Action",regional:"New Regional Effect"},cs=["Acid","Bludgeoning","Cold","Fire","Force","Lightning","Necrotic","Piercing","Poison","Psychic","Radiant","Slashing","Thunder","Nonmagical Bludgeoning","Nonmagical Piercing","Nonmagical Slashing","Nonmagical Nonsilvered Bludgeoning","Nonmagical Nonsilvered Piercing","Nonmagical Nonsilvered Slashing"],ds=["Blinded","Charmed","Deafened","Disease","Exhaustion","Frightened","Grappled","Incapacitated","Invisible","Paralyzed","Petrified","Poisoned","Prone","Restrained","Stunned","Unconscious"],ps=["All","All languages it knew in life","Abyssal","Aarakocra","Aquan","Auran","Celestial","Common","Deep Speech","Draconic","Druidic","Dwarvish","Elvish","Giant","Gith","Gnomish","Goblin","Halfling","Ignan","Infernal","Orc","Primordial","Sylvan","Terran","Thieves' Cant","Undercommon","Understands the languages of its creator but can't speak"],us=["Unaligned","Good","Neutral","Evil","Lawful Good","Neutral Good","Chaotic Good","Lawful Neutral","Neutral","Chaotic Neutral","Lawful Evil","Neutral Evil","Chaotic Evil","Any Alignment","Typically Good","Typically Neutral","Typically Evil","Typically Lawful Good","Typically Neutral Good","Typically Chaotic Good","Typically Lawful Neutral","Typically Chaotic Neutral","Typically Lawful Evil","Typically Neutral Evil","Typically Chaotic Evil"],hs=["Tiny","Small","Medium","Large","Huge","Gargantuan"],gs=["Aberration","Beast","Celestial","Construct","Dragon","Elemental","Fey","Fiend","Giant","Humanoid","Monstrosity","Ooze","Plant","Undead"],fs=["Artificer","Bard","Cleric","Druid","Paladin","Ranger","Sorcerer","Warlock","Wizard"],ys=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],J=I({components:{Markdown:P},props:{data:{type:Object,required:!0}},data(){return{stats:W,resistanceGenerator:V,featureGenerator:q}},computed:{showSkills(){for(const e of this.data.abilities.skills)if(e.isProficient||e.isHalfProficient||e.isExpertise||e.override||e.override===0)return!0;return!1},showCasting(){return!!(this.data.spellcasting.casterSpells.casterLevel&&this.data.spellcasting.casterSpells.castingClass)},showInnateCasting(){return this.data.spellcasting.innateSpells.spellCastingAbility!=null&&(this.data.spellcasting.innateSpells.spellList[0].length>0||this.data.spellcasting.innateSpells.spellList[1].length>0||this.data.spellcasting.innateSpells.spellList[2].length>0||this.data.spellcasting.innateSpells.spellList[3].length>0)},showFeatures(){return Object.values(this.data.features).some(e=>e.length>0)},skillOutput(){let e=Array.from(this.data.abilities.skills);e.sort((l,d)=>l.skillName.localeCompare(d.skillName));const r=new Set;e=e.filter(l=>r.has(l.skillName)?!1:(r.add(l.skillName),!0));const u=[];for(const l of e){if(!l.isExpertise&&!l.isHalfProficient&&!l.isProficient&&!l.override)continue;let d=0;for(const f in L)if(L[f].includes(l.skillName.replaceAll(" ","").toLowerCase())){if(l.override&&l.override!==null){const y=l.override;u.push(`${l.skillName} ${(y??0)>=0?"+":""}${y}`)}else d=C(f,this.data),l.isHalfProficient?d+=Math.floor(this.data.core.proficiencyBonus/2):l.isProficient?d+=this.data.core.proficiencyBonus:l.isExpertise&&(d+=this.data.core.proficiencyBonus*2),u.push(`${l.skillName} ${d>=0?"+":""}${d}`);break}else continue}return u.join(", ")},hitDieBonus(){const e=this.data.defenses.hp.numOfHitDie*C("con",this.data);return e!==0?e>0?`+${e.toString()}`:e.toString():""}},methods:{saveSign(e){return this.data.abilities.saves&&(C(e,this.data)+this.data.core.proficiencyBonus>=0||this.data.abilities.saves[e]&&this.data.abilities.saves[e].override)?"+":""},alphaSort(e){const r=(u,l)=>{const d=u.split(" ").pop(),f=l.split(" ").pop();return d.localeCompare(f)};return e.sort(r).map(u=>u.toLowerCase())},displaySpeedOrSenses:O,displayInnateCasting:j,crAsString:E,nthSuffix:F,statCalc:C,hpCalc:R,ppCalc:z,fullSpellAbilityName:b,signedNumber:M,spellDc:v,spellAttackBonus:S,capitalizeFirstLetter:U}}),h=e=>(H("data-v-6aa1f534"),e=e(),G(),e),K={class:"stat-block"},Y={class:"stat-block__row"},Q={class:"stat-block__name-container"},X={class:"stat-block__core"},Z=["src"],x={class:"stat-block__row"},ee=h(()=>i("b",null," Armor Class ",-1)),se={key:0},te=h(()=>i("b",null," Hit Points ",-1)),ae={key:0},ie={key:1},ne={class:"stat-block__speed-container"},le=h(()=>i("b",null," Speed ",-1)),oe={class:"stat-block__row stat-block__abilities"},re={class:"stat-block__row"},ce={key:0,class:"stat-block__save-container"},de=h(()=>i("b",null," Saving Throws ",-1)),pe={key:0},ue={key:1},he={key:2,class:"ending-comma"},ge={key:1,class:"stat-block__skills-container"},fe=h(()=>i("b",null," Skills ",-1)),ye={ckass:"stat-block__senses-container"},me=h(()=>i("b",null," Senses ",-1)),ke={class:"stat-block__language-container"},be=h(()=>i("b",null," Languages ",-1)),ve={key:0},Se={key:1},_e={key:2},Ce={class:"challenge-prof"},we=h(()=>i("b",null," Challenge ",-1)),Ae=h(()=>i("b",null," Proficiency Bonus ",-1)),Ne={key:0,class:"stat-block__row"},Le={key:0,class:"feature-container"},$e={key:0},Pe={key:0,class:"feature-container__automation-icon"},Ie={key:1},Te={key:0},Be={key:2},De=h(()=>i("b",null,[i("i",null,"Spellcasting")],-1)),He={class:"feature-container__desc"},Ge={key:0},Oe={key:1},Ee={key:2},Fe={key:3},Re={key:4},ze={key:5},Me={key:6},je={class:"spell-list"},Ue={key:0},We={key:0},Ve={key:1},qe={key:1,class:"feature-container"},Je=h(()=>i("h3",{class:"feature-container__title"}," Actions ",-1)),Ke={key:0},Ye={key:0,class:"feature-container__automation-icon"},Qe={key:1},Xe={key:0},Ze={class:"feature-container__title"},xe={key:0},es={key:1},ss={key:0,class:"feature-container__automation-icon"},ts={key:2,class:"description"},as=h(()=>i("h2",{class:"feature-container__title"}," Description ",-1));function is(e,r,u,l,d,f){const y=B("Markdown"),w=D("tooltip");return s(),t("div",K,[i("div",Y,[i("h1",Q,a(e.data.description.name),1),i("span",X,a(e.data.core.size)+" "+a(e.data.core.race)+a(e.data.description.alignment?",":"")+" "+a(e.data.description.alignment),1),e.data.description.image?(s(),t("img",{key:0,class:"stat-block__image",src:e.data.description.image},null,8,Z)):o("",!0)]),i("div",x,[i("div",null,[ee,p(" "+a(e.data.defenses.ac.ac)+" ",1),e.data.defenses.ac.acSource?(s(),t("span",se," ("+a(e.data.defenses.ac.acSource)+") ",1)):o("",!0)]),i("div",null,[te,e.data.defenses.hp.override?(s(),t("span",ae,a(e.data.defenses.hp.override),1)):(s(),t("span",ie,a(e.hpCalc(e.data))+" ("+a(e.data.defenses.hp.numOfHitDie)+"d"+a(e.data.defenses.hp.sizeOfHitDie)+a(e.hitDieBonus)+")",1))]),i("div",ne,[le,p(" "+a(e.displaySpeedOrSenses(e.data.core.speed)),1)])]),i("div",oe,[(s(!0),t(g,null,m(e.stats,n=>(s(),t("div",{key:n},[i("div",null,[i("b",null,a(n.toUpperCase()),1)]),i("span",null,a(e.data.abilities.stats[n])+" ("+a(e.signedNumber(e.statCalc(n,e.data)))+")",1)]))),128))]),i("div",re,[Object.values(e.data.abilities.saves).some(n=>n.isProficient===!0||n.override!==null)?(s(),t("div",ce,[de,(s(!0),t(g,null,m(e.stats,n=>(s(),t(g,{key:n},[e.data.abilities.saves[n].override!==null?(s(),t("span",pe,a(e.capitalizeFirstLetter(n))+" "+a(e.signedNumber(e.data.abilities.saves[n].override||0)),1)):e.data.abilities.saves[n].isProficient?(s(),t("span",ue,a(e.capitalizeFirstLetter(n))+" "+a(e.signedNumber(e.data.core.proficiencyBonus+e.statCalc(n,e.data))),1)):o("",!0),e.data.abilities.saves[n].override!==null||e.data.abilities.saves[n].isProficient?(s(),t("span",he,", ")):o("",!0)],64))),128))])):o("",!0),e.showSkills?(s(),t("div",ge,[fe,p(" "+a(e.skillOutput),1)])):o("",!0),(s(!0),t(g,null,m(e.resistanceGenerator,(n,c)=>(s(),t(g,null,[e.data.defenses[c].length>0?(s(),t("div",{key:c,class:"stat-block__res-container"},[i("b",null,a(n),1),i("span",null,a(e.alphaSort(e.data.defenses[c]).join(", ")),1)])):o("",!0)],64))),256)),i("div",ye,[me,p(" "+a(e.displaySpeedOrSenses(e.data.core.senses,!0))+" ",1),i("span",null," passive Perception "+a(e.ppCalc(e.data)),1)]),i("div",ke,[be,e.data.core.languages&&e.data.core.languages.length===0&&!e.data.misc.telepathy?(s(),t("span",ve," — ")):(s(),t("span",Se,a(e.data.core.languages?.sort().join(", ")),1)),e.data.misc.telepathy?(s(),t("span",_e," telepathy "+a(e.data.misc.telepathy)+"ft.",1)):o("",!0)]),i("div",Ce,[i("span",null,[we,p(" "+a(e.crAsString(e.data.description.cr))+" ("+a(e.data.description.xp)+" xp) ",1)]),i("span",null,[Ae,p(" +"+a(e.data.core.proficiencyBonus),1)])])]),e.showFeatures||e.showCasting||e.showInnateCasting?(s(),t("div",Ne,[e.data.features.features.length>0||e.showCasting||e.showInnateCasting?(s(),t("div",Le,[e.data.misc.featureHeaderTexts.features?(s(),t("p",$e,a(e.data.misc.featureHeaderTexts.features),1)):o("",!0),(s(!0),t(g,null,m(e.data.features.features,(n,c)=>(s(),t("p",{key:c},[i("b",null,[i("i",null,a(n.name)+".",1),n.automation?N((s(),t("sup",Pe,[p("†")])),[[w,"Has Automation"]]):o("",!0)]),k(y,{class:"feature-container__desc",text:n.description,tag:"span"},null,8,["text"])]))),128)),e.showInnateCasting&&!e.data.spellcasting.innateSpells.displayAsAction?(s(),t("p",Ie,[i("b",null,[i("i",null,[p("Innate Spellcasting"),e.data.spellcasting.innateSpells.isPsionics?(s(),t("span",Te," (Psionics)")):o("",!0),p(".")])]),k(y,{class:"feature-container__desc",text:e.displayInnateCasting(e.data),tag:"span"},null,8,["text"])])):o("",!0),e.showCasting&&e.data.spellcasting.casterSpells.castingClass&&e.data.spellcasting.casterSpells.casterLevel&&e.data.spellcasting.casterSpells.spellSlotList?(s(),t("p",Be,[De,i("span",He,[e.data.description.isProperNoun?o("",!0):(s(),t("span",Ge," The ")),p(" "+a(e.data.description.isProperNoun?e.data.description.name:e.data.description.name.toLowerCase())+" is a "+a(e.nthSuffix(e.data.spellcasting.casterSpells.casterLevel))+"-level spellcaster. ",1),e.data.description.isProperNoun?(s(),t("span",Oe," Their ")):(s(),t("span",Ee," Its ")),p(" spellcasting ability is "+a(e.fullSpellAbilityName(e.data.spellcasting.casterSpells.spellCastingAbilityOverride??e.data.spellcasting.casterSpells.spellCastingAbility))+" (spell save DC "+a(e.spellDc(!1,e.data))+", "+a(e.spellAttackBonus(!1,e.data))+" to hit with spell attacks). ",1),e.data.description.isProperNoun?(s(),t("span",Re,a(e.data.description.name),1)):(s(),t("span",Fe," It ")),["Sorcerer","Bard","Ranger","Warlock"].includes(e.data.spellcasting.casterSpells.castingClass)?(s(),t("span",ze," knows the following "+a(e.data.spellcasting.casterSpells.castingClass.toLowerCase())+" spells: ",1)):(s(),t("span",Me," has the following "+a(e.data.spellcasting.casterSpells.castingClass.toLowerCase())+" spells prepared: ",1)),i("div",je,[(s(!0),t(g,null,m(e.data.spellcasting.casterSpells.spellList,(n,c)=>(s(),t("div",{key:c},[c===0&&!["Ranger","Paladin"].includes(e.data.spellcasting.casterSpells.castingClass)||Object.keys(e.data.spellcasting.casterSpells.spellSlotList).includes(c.toString())?(s(),t("div",Ue,[c===0&&n.length>0?(s(),t("span",We," Cantrips (at will): ")):n.length>0?(s(),t("span",Ve,a(e.nthSuffix(c))+" level ("+a(e.data.spellcasting.casterSpells.spellSlotList[c])+" slots): ",1)):o("",!0),i("i",null,a(n.sort().join(", ")),1)])):o("",!0)]))),128))])])])):o("",!0)])):o("",!0)])):o("",!0),e.data.features.actions.length>0||e.showInnateCasting&&e.data.spellcasting.innateSpells.displayAsAction?(s(),t("div",qe,[Je,e.data.misc.featureHeaderTexts.actions?(s(),t("p",Ke,a(e.data.misc.featureHeaderTexts.actions),1)):o("",!0),(s(!0),t(g,null,m(e.data.features.actions,(n,c)=>(s(),t("p",{key:c},[i("b",null,[i("i",null,a(n.name)+".",1),n.automation?N((s(),t("sup",Ye,[p("†")])),[[w,"Has Automation"]]):o("",!0)]),k(y,{class:"feature-container__desc",text:n.description,tag:"span"},null,8,["text"])]))),128)),e.showInnateCasting&&e.data.spellcasting.innateSpells.displayAsAction?(s(),t("p",Qe,[i("b",null,[i("i",null,[p("Spellcasting"),e.data.spellcasting.innateSpells.isPsionics?(s(),t("span",Xe," (Psionics)")):o("",!0),p(".")])]),k(y,{class:"feature-container__desc",text:e.displayInnateCasting(e.data),tag:"span"},null,8,["text"])])):o("",!0)])):o("",!0),(s(!0),t(g,null,m(e.featureGenerator,(n,c)=>(s(),t(g,null,[e.data.features[c].length>0?(s(),t("div",{key:c,class:"feature-container"},[i("h3",Ze,a(n),1),c==="legendary"&&e.data.misc.featureHeaderTexts[c]?(s(),t("p",xe,a(e.data.misc.featureHeaderTexts[c].replace("$NUM$",e.data.misc.legActionsPerRound.toString())),1)):e.data.misc.featureHeaderTexts[c]?(s(),t("p",es,a(e.data.misc.featureHeaderTexts[c]),1)):o("",!0),(s(!0),t(g,null,m(e.data.features[c],(A,$)=>(s(),t("p",{key:$},[i("b",null,[i("i",null,a(A.name)+".",1)]),A.automation?N((s(),t("sup",ss,[p("†")])),[[w,"Has Automation"]]):o("",!0),k(y,{class:"feature-container__desc",text:A.description,tag:"span"},null,8,["text"])]))),128))])):o("",!0)],64))),256)),e.data.description.description?(s(),t("div",ts,[as,k(y,{text:e.data.description.description},null,8,["text"])])):o("",!0)])}const ms=T(J,[["render",is],["__scopeId","data-v-6aa1f534"]]);export{ms as S,us as a,hs as b,U as c,gs as d,fs as e,ys as f,ds as g,ps as l,rs as n,cs as r,W as s};
