import{_ as m}from"./Markdown.vue_vue_type_script_setup_true_lang-KRE3SOwo.js";import{d as I,A as v,i as R,o as t,j as i,m as a,t as l,z as r,n as u,u as d,F as g,B as y,l as _,k,_ as F}from"./index-BnguSVmB.js";import{h as $,d as C,s as N,a as S,b as w,p as O,c as z,e as L,f as U,S as P}from"./LabelledComponent-B9SZKuiR.js";const H=["str","dex","con","int","wis","cha"],M={vulnerabilities:"Vulnerabilities ",resistances:"Resistances ",immunities:"Immunities ",conditionImmunities:"Condition Immunities "},V={bonus:"Bonus Actions",reactions:"Reactions",legendary:"Legendary Actions",mythic:"Mythic Actions",lair:"Lair Actions",regional:"Regional Effects"},De={features:"New Feature",actions:"New Action",bonus:"New Bonus Action",reactions:"New Reaction",legendary:"New Legendary Action",lair:"New Lair Action",mythic:"New Mythic Action",regional:"New Regional Effect"},Ie=["Acid","Bludgeoning","Cold","Fire","Force","Lightning","Necrotic","Piercing","Poison","Psychic","Radiant","Slashing","Thunder","Nonmagical Bludgeoning","Nonmagical Piercing","Nonmagical Slashing","Nonmagical Nonsilvered Bludgeoning","Nonmagical Nonsilvered Piercing","Nonmagical Nonsilvered Slashing"],Re=["Blinded","Charmed","Deafened","Disease","Exhaustion","Frightened","Grappled","Incapacitated","Invisible","Paralyzed","Petrified","Poisoned","Prone","Restrained","Stunned","Unconscious"],Fe=["All","All languages it knew in life","Abyssal","Aarakocra","Aquan","Auran","Celestial","Common","Deep Speech","Draconic","Druidic","Dwarvish","Elvish","Giant","Gith","Gnomish","Goblin","Halfling","Ignan","Infernal","Orc","Primordial","Sylvan","Terran","Thieves' Cant","Undercommon","Understands the languages of its creator but can't speak"],$e=["Unaligned","Good","Neutral","Evil","Lawful Good","Neutral Good","Chaotic Good","Lawful Neutral","Neutral","Chaotic Neutral","Lawful Evil","Neutral Evil","Chaotic Evil","Any Alignment","Typically Good","Typically Neutral","Typically Evil","Typically Lawful Good","Typically Neutral Good","Typically Chaotic Good","Typically Lawful Neutral","Typically Chaotic Neutral","Typically Lawful Evil","Typically Neutral Evil","Typically Chaotic Evil"],Oe=["Tiny","Small","Medium","Large","Huge","Gargantuan"],ze=["Aberration","Beast","Celestial","Construct","Dragon","Elemental","Fey","Fiend","Giant","Humanoid","Monstrosity","Ooze","Plant","Undead"],Ue=["Artificer","Bard","Cleric","Druid","Paladin","Ranger","Sorcerer","Warlock","Wizard"],Me=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],W={class:"stat-block"},j={class:"stat-block__row"},q={class:"stat-block__name-container"},K={class:"stat-block__core"},Y=["src"],J={class:"stat-block__row"},Q={key:0},X={key:0},Z={key:1},x={class:"stat-block__speed-container"},ee={class:"stat-block__row stat-block__abilities"},se={class:"stat-block__row"},ae={key:0,class:"stat-block__save-container"},te={key:0},ie={key:1},ne={key:2,class:"ending-comma"},le={key:1,class:"stat-block__skills-container"},oe={ckass:"stat-block__senses-container"},re={class:"stat-block__language-container"},de={key:0},ce={key:1},ue={key:2},pe={class:"challenge-prof"},ge={key:0,id:"yes",class:"stat-block__row"},fe={class:"feature-container"},me={key:0},ye={key:0,class:"feature-container__automation-icon"},ke={key:1},ve={key:0},he={key:2},be={key:1,class:"feature-container"},Se={key:0},_e={key:0,class:"feature-container__automation-icon"},Ne={key:1},Ae={key:0},Ce={class:"feature-container__title"},we={key:0},Le={key:1},Pe={key:0,class:"feature-container__automation-icon"},He={key:2,class:"description"},Be=I({__name:"StatblockRenderer",props:{data:{}},setup(B){const c=B,T=v(()=>{for(const e of c.data.abilities.skills)if(e.isProficient||e.isHalfProficient||e.isExpertise||e.override||e.override===0)return!0;return!1}),A=v(()=>!!(c.data.spellcasting.casterSpells.casterLevel&&c.data.spellcasting.casterSpells.castingClass)),h=v(()=>c.data.spellcasting.innateSpells.spellCastingAbility!=null&&(c.data.spellcasting.innateSpells.spellList[0].length>0||c.data.spellcasting.innateSpells.spellList[1].length>0||c.data.spellcasting.innateSpells.spellList[2].length>0||c.data.spellcasting.innateSpells.spellList[3].length>0)),G=v(()=>{let e=Array.from(c.data.abilities.skills);e.sort((s,o)=>s.skillName.localeCompare(o.skillName));const n=new Set;e=e.filter(s=>n.has(s.skillName)?!1:(n.add(s.skillName),!0));const p=[];for(const s of e){if(!s.isExpertise&&!s.isHalfProficient&&!s.isProficient&&!s.override)continue;let o=0;for(const f in P)if(P[f].includes(s.skillName.replaceAll(" ","").toLowerCase().replace("animalh","animalH").replace("sleightofh","sleightOfH"))){if(s.override&&s.override!==null){const b=s.override;p.push(`${s.skillName} ${(b??0)>=0?"+":""}${b}`)}else o=S(f,c.data),s.isHalfProficient?o+=Math.floor(c.data.core.proficiencyBonus/2):s.isProficient?o+=c.data.core.proficiencyBonus:s.isExpertise&&(o+=c.data.core.proficiencyBonus*2),p.push(`${s.skillName} ${o>=0?"+":""}${o}`);break}else continue}return p.join(", ")}),E=v(()=>{const e=c.data.defenses.hp.numOfHitDie*S("con",c.data);return e!==0?e>0?`+${e.toString()}`:e.toString():""}),D=e=>{const n=(p,s)=>{const o=p.split(" ").pop(),f=s.split(" ").pop();return o.localeCompare(f)};return e.sort(n).map(p=>p.toLowerCase())};return(e,n)=>{const p=R("tooltip");return t(),i("div",W,[a("div",j,[a("h1",q,l(e.data.description.name),1),a("span",K,l(e.data.core.size)+" "+l(e.data.core.race)+l(e.data.description.alignment?",":"")+" "+l(e.data.description.alignment),1),e.data.description.image?(t(),i("img",{key:0,class:"stat-block__image",src:e.data.description.image},null,8,Y)):r("",!0)]),a("div",J,[a("div",null,[n[0]||(n[0]=a("b",null," Armor Class ",-1)),u(" "+l(e.data.defenses.ac.ac)+" ",1),e.data.defenses.ac.acSource?(t(),i("span",Q," ("+l(e.data.defenses.ac.acSource)+") ",1)):r("",!0)]),a("div",null,[n[1]||(n[1]=a("b",null," Hit Points ",-1)),e.data.defenses.hp.override?(t(),i("span",X,l(e.data.defenses.hp.override),1)):(t(),i("span",Z,l(d($)(e.data))+" ("+l(e.data.defenses.hp.numOfHitDie)+"d"+l(e.data.defenses.hp.sizeOfHitDie)+l(E.value)+")",1))]),a("div",x,[n[2]||(n[2]=a("b",null," Speed ",-1)),u(" "+l(d(C)(e.data.core.speed)),1)])]),a("div",ee,[(t(!0),i(g,null,y(d(H),s=>(t(),i("div",{key:s},[a("div",null,[a("b",null,l(s.toUpperCase()),1)]),a("span",null,l(e.data.abilities.stats[s])+" ("+l(d(N)(d(S)(s,e.data)))+")",1)]))),128))]),a("div",se,[Object.values(e.data.abilities.saves).some(s=>s.isProficient===!0||s.override!==null)?(t(),i("div",ae,[n[3]||(n[3]=a("b",null," Saving Throws ",-1)),(t(!0),i(g,null,y(d(H),s=>(t(),i(g,{key:s},[e.data.abilities.saves[s].override!==null?(t(),i("span",te,l(d(w)(s))+" "+l(d(N)(e.data.abilities.saves[s].override||0)),1)):e.data.abilities.saves[s].isProficient?(t(),i("span",ie,l(d(w)(s))+" "+l(d(N)(e.data.core.proficiencyBonus+d(S)(s,e.data))),1)):r("",!0),e.data.abilities.saves[s].override!==null||e.data.abilities.saves[s].isProficient?(t(),i("span",ne,", ")):r("",!0)],64))),128))])):r("",!0),T.value?(t(),i("div",le,[n[4]||(n[4]=a("b",null," Skills ",-1)),u(" "+l(G.value),1)])):r("",!0),(t(!0),i(g,null,y(d(M),(s,o)=>(t(),i(g,null,[e.data.defenses[o].length>0?(t(),i("div",{key:o,class:"stat-block__res-container"},[a("b",null,l(s),1),a("span",null,l(D(e.data.defenses[o]).join(", ")),1)])):r("",!0)],64))),256)),a("div",oe,[n[5]||(n[5]=a("b",null," Senses ",-1)),u(" "+l(d(C)(e.data.core.senses,!0))+" ",1),a("span",null," passive Perception "+l(d(O)(e.data)),1)]),a("div",re,[n[6]||(n[6]=a("b",null," Languages ",-1)),e.data.core.languages&&e.data.core.languages.length===0&&!e.data.misc.telepathy?(t(),i("span",de," — ")):(t(),i("span",ce,l(e.data.core.languages?.sort().join(", ")),1)),e.data.misc.telepathy?(t(),i("span",ue," telepathy "+l(e.data.misc.telepathy)+"ft.",1)):r("",!0)]),a("div",pe,[a("span",null,[n[7]||(n[7]=a("b",null," Challenge ",-1)),u(" "+l(d(z)(e.data.description.cr))+" ("+l(e.data.description.xp)+" xp) ",1)]),a("span",null,[n[8]||(n[8]=a("b",null," Proficiency Bonus ",-1)),u(" +"+l(e.data.core.proficiencyBonus),1)])])]),e.data.features.features.length>0||A.value||h.value&&!e.data.spellcasting.innateSpells.displayAsAction?(t(),i("div",ge,[a("div",fe,[e.data.misc.featureHeaderTexts.features?(t(),i("p",me,l(e.data.misc.featureHeaderTexts.features),1)):r("",!0),(t(!0),i(g,null,y(e.data.features.features,(s,o)=>(t(),i("p",{key:o},[a("b",null,[a("i",null,l(s.name)+".",1),s.automation?_((t(),i("sup",ye,n[9]||(n[9]=[u("†")]))),[[p,"Has Automation"]]):r("",!0)]),k(m,{class:"feature-container__desc",text:s.description,tag:"span"},null,8,["text"])]))),128)),h.value&&!e.data.spellcasting.innateSpells.displayAsAction?(t(),i("p",ke,[a("b",null,[a("i",null,[n[10]||(n[10]=u("Innate Spellcasting")),e.data.spellcasting.innateSpells.isPsionics?(t(),i("span",ve," (Psionics)")):r("",!0),n[11]||(n[11]=u("."))])]),k(m,{class:"feature-container__desc",text:d(L)(e.data),tag:"span"},null,8,["text"])])):r("",!0),A.value&&e.data.spellcasting.casterSpells.castingClass&&e.data.spellcasting.casterSpells.casterLevel&&e.data.spellcasting.casterSpells.spellSlotList?(t(),i("p",he,[n[12]||(n[12]=a("b",null,[a("i",null,"Spellcasting")],-1)),k(m,{class:"feature-container__desc",text:d(U)(e.data),tag:"span"},null,8,["text"])])):r("",!0)])])):r("",!0),e.data.features.actions.length>0||h.value&&e.data.spellcasting.innateSpells.displayAsAction?(t(),i("div",be,[n[16]||(n[16]=a("h3",{class:"feature-container__title"}," Actions ",-1)),e.data.misc.featureHeaderTexts.actions?(t(),i("p",Se,l(e.data.misc.featureHeaderTexts.actions),1)):r("",!0),(t(!0),i(g,null,y(e.data.features.actions,(s,o)=>(t(),i("p",{key:o},[a("b",null,[a("i",null,l(s.name)+".",1),s.automation?_((t(),i("sup",_e,n[13]||(n[13]=[u("†")]))),[[p,"Has Automation"]]):r("",!0)]),k(m,{class:"feature-container__desc",text:s.description,tag:"span"},null,8,["text"])]))),128)),h.value&&e.data.spellcasting.innateSpells.displayAsAction?(t(),i("p",Ne,[a("b",null,[a("i",null,[n[14]||(n[14]=u("Spellcasting")),e.data.spellcasting.innateSpells.isPsionics?(t(),i("span",Ae," (Psionics)")):r("",!0),n[15]||(n[15]=u("."))])]),k(m,{class:"feature-container__desc",text:d(L)(e.data),tag:"span"},null,8,["text"])])):r("",!0)])):r("",!0),(t(!0),i(g,null,y(d(V),(s,o)=>(t(),i(g,null,[e.data.features[o].length>0?(t(),i("div",{key:o,class:"feature-container"},[a("h3",Ce,l(s),1),o==="legendary"&&e.data.misc.featureHeaderTexts[o]?(t(),i("p",we,l(e.data.misc.featureHeaderTexts[o].replace("$NUM$",e.data.misc.legActionsPerRound.toString())),1)):e.data.misc.featureHeaderTexts[o]?(t(),i("p",Le,l(e.data.misc.featureHeaderTexts[o]),1)):r("",!0),(t(!0),i(g,null,y(e.data.features[o],(f,b)=>(t(),i("p",{key:b},[a("b",null,[a("i",null,l(f.name)+".",1)]),f.automation?_((t(),i("sup",Pe,n[17]||(n[17]=[u("†")]))),[[p,"Has Automation"]]):r("",!0),k(m,{class:"feature-container__desc",text:f.description,tag:"span"},null,8,["text"])]))),128))])):r("",!0)],64))),256)),e.data.description.description?(t(),i("div",He,[n[18]||(n[18]=a("h2",{class:"feature-container__title"}," Description ",-1)),k(m,{text:e.data.description.description},null,8,["text"])])):r("",!0)])}}}),Ve=F(Be,[["__scopeId","data-v-9cca26ac"]]);export{Ve as S,$e as a,Re as b,ze as c,H as d,Ue as e,Me as f,Fe as l,De as n,Ie as r,Oe as s};
