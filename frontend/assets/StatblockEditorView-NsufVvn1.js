import{d as Xn,k as Sn,l as $n,m as gr,n as mt,q as In,v as yr,x as zn,y as qn,z as br,A as Kr,h as ut,t as we,_ as Sr,r as He,B as Er,o as q,c as oe,b,a as D,C as j,e as Ke,f as rt,D as ee,E as je,i as Pe,G as lt,F as _e,H as st,p as Or,j as wr,I as Wr,J as Yr,K as Xr,L as zr,u as Jr,M as Zr,N as Qr,O as St,P as ze,Q as _n,w as kr}from"./index-5v66Jwhn.js";import{Y as Re,L as Ir,p as qr,g as Cr,c as Me,s as Bn,d as Kt,a as Pt,S as _r,b as ea,e as Cn,f as er}from"./LabelledNumberInput-eqlFMsSk.js";import{M as Pr}from"./Modal-M6OEg8Cc.js";import{M as ta}from"./index-5Jdbla-E.js";import{B as na}from"./Breadcrumbs-j9HdtXij.js";var ra=Object.defineProperty,aa=Object.defineProperties,oa=Object.getOwnPropertyDescriptors,tr=Object.getOwnPropertySymbols,ia=Object.prototype.hasOwnProperty,la=Object.prototype.propertyIsEnumerable,nr=(e,t,r)=>t in e?ra(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Pn=(e,t)=>{for(var r in t||(t={}))ia.call(t,r)&&nr(e,r,t[r]);if(tr)for(var r of tr(t))la.call(t,r)&&nr(e,r,t[r]);return e},sa=(e,t)=>aa(e,oa(t));const Tn={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}};function ua(e,t){const r=$n(()=>{const{width:a,height:d}=e;return sa(Pn({},Tn.wrapper),{width:a,height:d})}),l=$n(()=>Pn(Pn({},Tn.fullWidth),!t.value&&Tn.hide));return{wrapperStyle:r,containerStyle:l}}function da(){const e=Sn(qn.__getMonacoInstance()),t=zn(!1);let r;return yr(()=>{e.value||(r=qn.init(),r.then(a=>e.value=a).catch(a=>{a?.type!=="cancelation"&&(t.value=!0,console.error("Monaco initialization error:",a))}))}),{monacoRef:e,unload:()=>r?.cancel(),isLoadFailed:t}}function rr(e){return typeof e=="function"?e():e}function Tr(e){return e===void 0}function Dr(e,t,r,l){return fa(e,l)||ca(e,t,r,l)}function fa(e,t){return e.editor.getModel(Ar(e,t))}function ca(e,t,r,l){return e.editor.createModel(t,r,l?Ar(e,l):void 0)}function Ar(e,t){return e.Uri.parse(t)}var pa=Object.defineProperty,ar=Object.getOwnPropertySymbols,ma=Object.prototype.hasOwnProperty,ha=Object.prototype.propertyIsEnumerable,or=(e,t,r)=>t in e?pa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,va=(e,t)=>{for(var r in t||(t={}))ma.call(t,r)&&or(e,r,t[r]);if(ar)for(var r of ar(t))ha.call(t,r)&&or(e,r,t[r]);return e};const ga={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"};var ya=Xn({name:"VueMonacoEditor",model:{prop:"value",event:"update:value"},props:{defaultValue:String,defaultPath:String,defaultLanguage:String,value:String,language:String,path:String,theme:{type:String,default:"vs"},line:Number,options:{type:Object,default:()=>({})},overrideServices:{type:Object,default:()=>({})},saveViewState:{type:Boolean,default:!0},width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"100%"},className:String},emits:["update:value","beforeMount","mount","change","validate"],setup(e,t){const r=new Map,l=Sn(null),{monacoRef:a,unload:d,isLoadFailed:n}=da(),{editorRef:i}=ba(t,e,a,l),{disposeValidator:o}=Sa(t,e,a,i),s=$n(()=>!!a.value&&!!i.value),{wrapperStyle:f,containerStyle:p}=ua(e,s);return gr(()=>{var c,v;(c=o.value)==null||c.call(o),i.value?((v=i.value.getModel())==null||v.dispose(),i.value.dispose()):d()}),mt(()=>e.path,(c,v)=>{const g=Dr(a.value,e.value||e.defaultValue||"",e.language||e.defaultLanguage||"",c||e.defaultPath||"");g!==i.value.getModel()&&(e.saveViewState&&r.set(v,i.value.saveViewState()),i.value.setModel(g),e.saveViewState&&i.value.restoreViewState(r.get(c)))}),mt(()=>e.value,c=>{i.value&&i.value.getValue()!==c&&i.value.setValue(c)}),mt(()=>e.options,c=>i.value&&i.value.updateOptions(c),{deep:!0}),mt(()=>e.theme,c=>a.value&&a.value.editor.setTheme(c)),mt(()=>e.language,c=>s.value&&a.value.editor.setModelLanguage(i.value.getModel(),c)),mt(()=>e.line,c=>{i.value&&!Tr(c)&&i.value.revealLine(c)}),{containerRef:l,isEditorReady:s,isLoadFailed:n,wrapperStyle:f,containerStyle:p}},render(){const{$slots:e,isEditorReady:t,isLoadFailed:r,wrapperStyle:l,containerStyle:a,className:d}=this;return In("div",{style:l},[!t&&In("div",{style:ga},r?e.failure?rr(e.failure):"load failed":e.default?rr(e.default):"loading..."),In("div",{ref:"containerRef",key:"monaco_editor_container",style:a,class:d})])}});function ba({emit:e},t,r,l){const a=Sn(null);yr(()=>{const n=mt(r,()=>{l.value&&r.value&&(br(()=>n()),d())},{immediate:!0})});function d(){var n;if(!l.value||!r.value||a.value)return;e("beforeMount",r.value);const i=t.path||t.defaultPath,o=Dr(r.value,t.value||t.defaultValue||"",t.language||t.defaultLanguage||"",i||"");a.value=r.value.editor.create(l.value,va({model:o,theme:t.theme,automaticLayout:!0,autoIndent:"brackets",formatOnPaste:!0,formatOnType:!0},t.options),t.overrideServices),(n=a.value)==null||n.onDidChangeModelContent(s=>{const f=a.value.getValue();f!==t.value&&(e("update:value",f),e("change",f,s))}),a.value&&!Tr(t.line)&&a.value.revealLine(t.line),e("mount",a.value,r.value)}return{editorRef:a}}function Sa({emit:e},t,r,l){const a=zn(null),d=mt([r,l],()=>{if(r.value&&l.value){br(()=>d());const n=r.value.editor.onDidChangeMarkers(i=>{var o,s;const f=(s=(o=l.value)==null?void 0:o.getModel())==null?void 0:s.uri;if(f&&i.find(c=>c.path===f.path)){const c=r.value.editor.getModelMarkers({resource:f});e("validate",c)}});a.value=()=>n?.dispose()}});return{disposeValidator:a}}const Ea=ta(),Oa=Xn({props:["type","index","data"],data(){return{feat:this.data.features[this.type][this.index],automationString:"",errorMessage:null,basicExamples:[],srdFeatures:[],docu:{},importedBasicExample:null,importedSrdFeature:null,showFeatureModal:!1,hasEditedName:!1,currentContext:"",md:Ea,YAML:Re,isMobile:Kr}},components:{LabelledComponent:Ir,VueMonacoEditor:ya,Modal:Pr},setup(){const e=Sn(),t=a=>e.value=a;let r=zn(0),l=setInterval(()=>{r.value=e.value?.getModel().getOffsetAt(e.value?.getPosition())},1e3);return gr(()=>{clearInterval(l)}),{handleMount:t,editorRef:e,cursorPosition:r}},mounted(){this.automationString=Re.stringify(this.feat.automation)??Re.stringify(null),fetch("/api/basic-examples/list").then(async e=>{let t=await ut(e);t.success?this.basicExamples=t.data:this.basicExamples=[]}),fetch("/api/srd-features/list").then(async e=>{let t=await ut(e);t.success?this.srdFeatures=t.data:this.srdFeatures=[]}),fetch("/api/automationDocumentation").then(async e=>{let t=await ut(e);t.success?this.docu=t.data:this.docu={}})},methods:{validateYaml(){try{return Re.parse(this.automationString),this.errorMessage=null,!0}catch(e){return this.errorMessage=e,!1}},saveAutomation(e=!1){try{let t=Re.parse(this.automationString);t?fetch("/api/validate/automation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:t})}).then(r=>r.json()).then(r=>{r.success?(this.feat.automation=Re.parse(this.automationString),e&&we.success("Saved Automation!")):(e&&we.error("YAML contains Error, did not save automation"),this.errorMessage=r.error)}):(this.feat.automation=Re.parse(this.automationString),e&&we.success("Saved Automation!"))}catch{e&&we.error("YAML contains Error, did not save automation")}},async importExample(){if(!this.importedBasicExample)return;let e=null;await fetch("/api/basic-example/"+encodeURIComponent(this.importedBasicExample)).then(async t=>{let r=await ut(t);r.success?e=r.data:(we.error("Error: "+r.data.error),e=null)}),e&&((this.feat.name=="New Feature"||!this.hasEditedName)&&(this.feat.name=e.name),this.feat.description=e.description??"",this.automationString=Re.stringify(e.automation),this.saveAutomation(!1),setTimeout(()=>{let t=document.querySelectorAll(".language-yaml");for(let r in t)t[r].dataset?.highlighted=="yes"&&(t[r].dataset.highlighted="")},100),we.success("Successfully loaded: "+e.name))},async importSrdAction(){if(!this.importedSrdFeature)return;let e=null;if(await fetch("/api/srd-feature/"+encodeURIComponent(this.importedSrdFeature)).then(async t=>{let r=await ut(t);r.success?e=r.data:(we.error("Error: "+r.data.error),e=null)}),!!e){if((this.feat.name=="New Feature"||!this.hasEditedName)&&(e.automation!=null?this.feat.name=e.name.split("-").slice(1).join("-").trim():this.feat.name=e.name),this.feat.description=e.description.replaceAll("$NAME$",this.data.description.name)??"",Array.isArray(e.automation))for(let t of e.automation)t.name=t.name.split("-").slice(1).join("-").trim();else e.automation!=null&&(e.automation.name=e.automation.name.split("-").slice(1).join("-").trim());this.automationString=Re.stringify(e.automation),this.saveAutomation(!1),setTimeout(()=>{let t=document.querySelectorAll(".language-yaml");for(let r in t)t[r].dataset?.highlighted=="yes"&&(t[r].dataset.highlighted="")},100),we.success("Successfully loaded: "+e.name)}},generateAutomation(){const e=qr(this.feat.description,this.feat.name,0)[0];if(e)try{this.automationString=Re.stringify(e),this.saveAutomation(!1)}catch{we.error("Something went when generating automation!")}},getAutomationDescription(){let e;try{e=Re.parse(this.automationString)}catch{return!1}if(Array.isArray(e)||!this.feat.automation||!e||e.automation.length==0)return!1;for(let t of e.automation.reverse())if(t.type=="text")return t.text;return""},updateFeatureDescFromAutomationDesc(){let e;try{e=Re.parse(this.automationString)}catch{return}if(!Array.isArray(e)){for(let t of e.automation.reverse())if(t.type=="text"){this.feat.description=t.text;return}}},updateAutomationDescFromFeatureDesc(){let e;try{e=Re.parse(this.automationString)}catch{return}if(!Array.isArray(e)){for(let t of e.automation.reverse())if(t.type=="text"){t.text=this.feat.description,e.automation.reverse(),this.automationString=Re.stringify(e);return}}},copyAutomation(){navigator.clipboard.writeText(this.automationString),we.success("Copied automation to clipboard!")},getContext(){const e=this.automationString;let t="",r="",l=this.cursorPosition;e.slice(Math.max(l-6,0),Math.min(l+6,e.length)).includes("type:")&&(l+=6);for(let d=l;d--;d<e.length)if(t=e.charAt(d)+t,t.startsWith("type:")){r=e.slice(d).match(/type['"]?:\s*['"]?(\w+)['"]?/)?.[1]||"";break}this.currentContext=r}},computed:{showDescriptionButtons(){const e=this.feat.description,t=this.getAutomationDescription();return Array.isArray(this.feat.automation)||!e||!t?!1:e!=t},getLanguage(){return this.automationString.startsWith("{")||this.automationString.startsWith("[")?"json":"yaml"},currentDocu(){return this.docu[this.currentContext]}},watch:{automationString(){if(this.validateYaml(),this.feat.name=="New Feature"||this.feat.description=="")try{let t=Re.parse(this.automationString);if(Array.isArray(t))if(t.length>0)t=t[0];else return;if(t.name&&this.feat.name=="New Feature"&&(this.feat.name=t.name.replace(" (1H)","").replace(" (2H)","")),t.automation&&this.feat.description==""){for(let r in t.automation)if(t.automation[r].type=="text"){this.feat.description=t.automation[r].text;break}}}catch{}let e=document.querySelectorAll(".language-yaml");for(let t in e)e[t].dataset?.highlighted=="yes"&&(e[t].dataset.highlighted="")},"feat.description"(){let e=document.querySelectorAll(".language-markdown");for(let t in e)e[t].dataset?.highlighted=="yes"&&(e[t].dataset.highlighted="")},cursorPosition(){this.getContext()}}}),Ue=e=>(Or("data-v-f4911108"),e=e(),wr(),e),wa=["id"],Ia={class:"two-wide uneven"},Ca={class:"editor-field__container two-wide"},Pa=Ue(()=>b("a",{href:"https://avrae.readthedocs.io/en/stable/automation_ref.html"}," Documentation",-1)),Ta=Ue(()=>b("br",null,null,-1)),Da={href:"https://avrae.io/dashboard/characters"},Aa={class:"editor-field__container"},xa={class:"editor-field__container two-wide"},Na={key:0,class:"editor-field__container two-wide"},Ma=Ue(()=>b("hr",null,null,-1)),La={class:"editor-field__container"},Va={class:"editor-field__container"},Ra={key:1},Fa=Ue(()=>b("hr",null,null,-1)),ja=["innerHTML"],Ua={key:2},$a=Ue(()=>b("hr",null,null,-1)),Ba=Ue(()=>b("p",{class:"warning"}," Feature description and last automation text node do not match. ",-1)),Ga=Ue(()=>b("p",null," You can update the other with the buttons here.",-1)),Ha={class:"two-wide editor-field__container"},Ka={class:"automation-editor"},Wa={class:"two-wide uneven"},Ya=Ue(()=>b("div",null,null,-1)),Xa={key:0,class:"docs"},za=Ue(()=>b("hr",null,null,-1)),Ja=["innerHTML"],Za=Ue(()=>b("hr",null,null,-1)),Qa=Ue(()=>b("h4",null," Overview ",-1)),ka=["href"],qa={key:0},_a=Ue(()=>b("hr",null,null,-1)),eo=Ue(()=>b("h4",null," Options ",-1)),to={class:"highlight"},no=["innerHTML"],ro={key:1},ao=Ue(()=>b("hr",null,null,-1)),oo=Ue(()=>b("h4",null," Exposed Variables ",-1)),io={class:"highlight"},lo=["innerHTML"];function so(e,t,r,l,a,d){const n=He("LabelledComponent"),i=He("font-awesome-icon"),o=He("v-select"),s=He("VueMonacoEditor"),f=He("Modal"),p=Er("tooltip");return q(),oe(_e,null,[b("button",{class:"btn open-btn",onClick:t[0]||(t[0]=c=>e.showFeatureModal=!0),id:e.type+e.index},"Edit Feature",8,wa),D(f,{show:e.showFeatureModal,onClose:t[15]||(t[15]=c=>e.showFeatureModal=!1),"full-screen":!0},{header:j(()=>[Ke(" Edit feature: "+rt(e.feat.name),1)]),body:j(()=>[b("div",Ia,[b("div",null,[b("div",Ca,[D(n,{title:"Feature name"},{default:j(()=>[ee(b("input",{type:"text",id:"featurename",placeholder:"Enter name","onUpdate:modelValue":t[1]||(t[1]=c=>e.feat.name=c),onChange:t[2]||(t[2]=c=>e.hasEditedName=!0)},null,544),[[je,e.feat.name]])]),_:1}),D(n,{title:"Documentation"},{default:j(()=>[b("div",null,[Pa,Ke(),Ta,ee((q(),oe("a",Da,[Ke(" Automation Editor")])),[[p,"Edit automation on a character to get access to the full fledged automation builder."]])])]),_:1})]),b("div",Aa,[D(n,{title:"Feature description"},{default:j(()=>[ee(b("textarea",{height:"94",id:"featuredescription",placeholder:"Enter description","onUpdate:modelValue":t[3]||(t[3]=c=>e.feat.description=c),style:{height:"93px"}},null,512),[[je,e.feat.description]])]),_:1})]),b("div",xa,[D(n,{title:"Save automation"},{default:j(()=>[b("button",{class:"btn confirm",onClick:t[4]||(t[4]=c=>e.saveAutomation(!0)),id:"saveautomation"},"Save ")]),_:1}),D(n,{title:"Generate automation"},{default:j(()=>[ee((q(),oe("button",{class:"btn",onClick:t[5]||(t[5]=(...c)=>e.generateAutomation&&e.generateAutomation(...c)),id:"generateautomation"},[Ke(" Generate "),D(i,{icon:["fas","circle-info"]})])),[[p,"Generate automation from description. May be incomplete or inaccurate. Only works for basic, to hit attacks."]])]),_:1})]),e.isMobile?(q(),oe("div",Na,[D(n,{title:"Clear automation"},{default:j(()=>[b("button",{class:"btn danger",onClick:t[6]||(t[6]=c=>e.automationString="null"),id:"clearautomation"},"Clear")]),_:1}),D(n,{title:"Copy Automation"},{default:j(()=>[b("button",{class:"btn",onClick:t[7]||(t[7]=c=>e.copyAutomation()),id:"copyautomation"}," Copy ")]),_:1})])):Pe("",!0),Ma,b("div",La,[D(n,{title:"Import SRD feature"},{default:j(()=>[D(o,{options:e.srdFeatures,modelValue:e.importedSrdFeature,"onUpdate:modelValue":t[8]||(t[8]=c=>e.importedSrdFeature=c),inputId:"importsrdfeature"},null,8,["options","modelValue"]),b("button",{class:"btn move-down",onClick:t[9]||(t[9]=(...c)=>e.importSrdAction&&e.importSrdAction(...c))},"Load")]),_:1})]),b("div",Va,[D(n,{title:"Import basic example"},{default:j(()=>[D(o,{options:e.basicExamples,modelValue:e.importedBasicExample,"onUpdate:modelValue":t[10]||(t[10]=c=>e.importedBasicExample=c),inputId:"importbasicexample"},null,8,["options","modelValue"]),b("button",{class:"btn move-down",onClick:t[11]||(t[11]=(...c)=>e.importExample&&e.importExample(...c))},"Load")]),_:1})]),e.errorMessage?(q(),oe("div",Ra,[Fa,b("span",{class:"yaml-error",innerHTML:e.errorMessage},null,8,ja)])):Pe("",!0),e.showDescriptionButtons&&(e.errorMessage==null||e.errorMessage?.length==0)?(q(),oe("div",Ua,[$a,Ba,Ga,b("div",Ha,[D(n,{title:"Update from automation"},{default:j(()=>[b("button",{class:"btn",onClick:t[12]||(t[12]=(...c)=>e.updateFeatureDescFromAutomationDesc&&e.updateFeatureDescFromAutomationDesc(...c))}," Update ")]),_:1}),D(n,{title:"Update from description"},{default:j(()=>[b("button",{class:"btn",onClick:t[13]||(t[13]=(...c)=>e.updateAutomationDescFromFeatureDesc&&e.updateAutomationDescFromFeatureDesc(...c))}," Update ")]),_:1})])])):Pe("",!0)]),b("div",Ka,[D(s,{value:e.automationString,"onUpdate:value":t[14]||(t[14]=c=>e.automationString=c),theme:"vs-dark",options:{wordWrap:"on",theme:"vs-dark",minimap:{enabled:!1},formatOnPaste:!0,formatOnType:!0,automaticLayout:!0,scrollBeyondLastLine:!1},height:"600px",language:e.getLanguage,onMount:e.handleMount},null,8,["value","language","onMount"])])]),b("div",Wa,[Ya,e.currentDocu?(q(),oe("div",Xa,[za,b("h3",null," Documentation: "+rt(e.currentContext),1),b("p",{class:"small",innerHTML:e.md.render(e.currentDocu.desc)},null,8,Ja),b("div",null,[Za,Qa,Ke(" See full documentation "),b("a",{href:"https://avrae.readthedocs.io/en/stable/automation_ref.html#"+e.currentDocu.url,target:"_blank"},"here",8,ka),Ke(". "),e.currentDocu?.ts?(q(),lt(s,{key:0,value:`// Values denoted with an ? are optional.
`+e.currentDocu.ts,theme:"vs-dark",options:{wordWrap:"on",theme:"vs-dark",minimap:{enabled:!1},automaticLayout:!0,readOnly:!0,scrollBeyondLastLine:!1},language:"json",height:"200px"},null,8,["value"])):Pe("",!0)]),e.currentDocu?.opt?(q(),oe("div",qa,[_a,eo,b("ul",null,[(q(!0),oe(_e,null,st(e.currentDocu.opt,(c,v)=>(q(),oe("li",null,[b("span",null,[b("code",to,rt(v),1),b("span",{innerHTML:e.md.render(c)},null,8,no)])]))),256))])])):Pe("",!0),e.currentDocu?.variables?(q(),oe("div",ro,[ao,oo,b("ul",null,[(q(!0),oe(_e,null,st(e.currentDocu.variables,(c,v)=>(q(),oe("li",null,[b("span",null,[b("span",io,rt(v),1),Ke(" ["),b("code",null,rt(c.type),1),Ke("] "),b("span",{innerHTML:e.md.render(c.desc)},null,8,lo)])]))),256))])])):Pe("",!0)])):Pe("",!0)])]),_:1},8,["show"])],64)}const uo=Sr(Oa,[["render",so],["__scopeId","data-v-f4911108"]]);var xr={exports:{}};/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function ir(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,l)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ir(Object(r),!0).forEach(function(l){fo(e,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ir(Object(r)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(r,l))})}return e}function dn(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dn=function(t){return typeof t}:dn=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dn(e)}function fo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ze(){return Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},Ze.apply(this,arguments)}function co(e,t){if(e==null)return{};var r={},l=Object.keys(e),a,d;for(d=0;d<l.length;d++)a=l[d],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function po(e,t){if(e==null)return{};var r=co(e,t),l,a;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(a=0;a<d.length;a++)l=d[a],!(t.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(e,l)&&(r[l]=e[l])}return r}function mo(e){return ho(e)||vo(e)||go(e)||yo()}function ho(e){if(Array.isArray(e))return Gn(e)}function vo(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function go(e,t){if(e){if(typeof e=="string")return Gn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gn(e,t)}}function Gn(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,l=new Array(t);r<t;r++)l[r]=e[r];return l}function yo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var bo="1.14.0";function dt(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var ft=dt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),_t=dt(/Edge/i),lr=dt(/firefox/i),Jt=dt(/safari/i)&&!dt(/chrome/i)&&!dt(/android/i),Nr=dt(/iP(ad|od|hone)/i),So=dt(/chrome/i)&&dt(/android/i),Mr={capture:!1,passive:!1};function te(e,t,r){e.addEventListener(t,r,!ft&&Mr)}function _(e,t,r){e.removeEventListener(t,r,!ft&&Mr)}function hn(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function Eo(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function et(e,t,r,l){if(e){r=r||document;do{if(t!=null&&(t[0]===">"?e.parentNode===r&&hn(e,t):hn(e,t))||l&&e===r)return e;if(e===r)break}while(e=Eo(e))}return null}var sr=/\s+/g;function me(e,t,r){if(e&&t)if(e.classList)e.classList[r?"add":"remove"](t);else{var l=(" "+e.className+" ").replace(sr," ").replace(" "+t+" "," ");e.className=(l+(r?" "+t:"")).replace(sr," ")}}function B(e,t,r){var l=e&&e.style;if(l){if(r===void 0)return document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(r=e.currentStyle),t===void 0?r:r[t];!(t in l)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),l[t]=r+(typeof r=="string"?"":"px")}}function It(e,t){var r="";if(typeof e=="string")r=e;else do{var l=B(e,"transform");l&&l!=="none"&&(r=l+" "+r)}while(!t&&(e=e.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(r)}function Lr(e,t,r){if(e){var l=e.getElementsByTagName(t),a=0,d=l.length;if(r)for(;a<d;a++)r(l[a],a);return l}return[]}function at(){var e=document.scrollingElement;return e||document.documentElement}function ce(e,t,r,l,a){if(!(!e.getBoundingClientRect&&e!==window)){var d,n,i,o,s,f,p;if(e!==window&&e.parentNode&&e!==at()?(d=e.getBoundingClientRect(),n=d.top,i=d.left,o=d.bottom,s=d.right,f=d.height,p=d.width):(n=0,i=0,o=window.innerHeight,s=window.innerWidth,f=window.innerHeight,p=window.innerWidth),(t||r)&&e!==window&&(a=a||e.parentNode,!ft))do if(a&&a.getBoundingClientRect&&(B(a,"transform")!=="none"||r&&B(a,"position")!=="static")){var c=a.getBoundingClientRect();n-=c.top+parseInt(B(a,"border-top-width")),i-=c.left+parseInt(B(a,"border-left-width")),o=n+d.height,s=i+d.width;break}while(a=a.parentNode);if(l&&e!==window){var v=It(a||e),g=v&&v.a,y=v&&v.d;v&&(n/=y,i/=g,p/=g,f/=y,o=n+f,s=i+p)}return{top:n,left:i,bottom:o,right:s,width:p,height:f}}}function ur(e,t,r){for(var l=gt(e,!0),a=ce(e)[t];l;){var d=ce(l)[r],n=void 0;if(r==="top"||r==="left"?n=a>=d:n=a<=d,!n)return l;if(l===at())break;l=gt(l,!1)}return!1}function Mt(e,t,r,l){for(var a=0,d=0,n=e.children;d<n.length;){if(n[d].style.display!=="none"&&n[d]!==W.ghost&&(l||n[d]!==W.dragged)&&et(n[d],r.draggable,e,!1)){if(a===t)return n[d];a++}d++}return null}function Jn(e,t){for(var r=e.lastElementChild;r&&(r===W.ghost||B(r,"display")==="none"||t&&!hn(r,t));)r=r.previousElementSibling;return r||null}function be(e,t){var r=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==W.clone&&(!t||hn(e,t))&&r++;return r}function dr(e){var t=0,r=0,l=at();if(e)do{var a=It(e),d=a.a,n=a.d;t+=e.scrollLeft*d,r+=e.scrollTop*n}while(e!==l&&(e=e.parentNode));return[t,r]}function Oo(e,t){for(var r in e)if(e.hasOwnProperty(r)){for(var l in t)if(t.hasOwnProperty(l)&&t[l]===e[r][l])return Number(r)}return-1}function gt(e,t){if(!e||!e.getBoundingClientRect)return at();var r=e,l=!1;do if(r.clientWidth<r.scrollWidth||r.clientHeight<r.scrollHeight){var a=B(r);if(r.clientWidth<r.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||r.clientHeight<r.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!r.getBoundingClientRect||r===document.body)return at();if(l||t)return r;l=!0}}while(r=r.parentNode);return at()}function wo(e,t){if(e&&t)for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function Dn(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var Zt;function Vr(e,t){return function(){if(!Zt){var r=arguments,l=this;r.length===1?e.call(l,r[0]):e.apply(l,r),Zt=setTimeout(function(){Zt=void 0},t)}}}function Io(){clearTimeout(Zt),Zt=void 0}function Rr(e,t,r){e.scrollLeft+=t,e.scrollTop+=r}function Zn(e){var t=window.Polymer,r=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):r?r(e).clone(!0)[0]:e.cloneNode(!0)}function fr(e,t){B(e,"position","absolute"),B(e,"top",t.top),B(e,"left",t.left),B(e,"width",t.width),B(e,"height",t.height)}function An(e){B(e,"position",""),B(e,"top",""),B(e,"left",""),B(e,"width",""),B(e,"height","")}var Le="Sortable"+new Date().getTime();function Co(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var l=[].slice.call(this.el.children);l.forEach(function(a){if(!(B(a,"display")==="none"||a===W.ghost)){e.push({target:a,rect:ce(a)});var d=ot({},e[e.length-1].rect);if(a.thisAnimationDuration){var n=It(a,!0);n&&(d.top-=n.f,d.left-=n.e)}a.fromRect=d}})}},addAnimationState:function(l){e.push(l)},removeAnimationState:function(l){e.splice(Oo(e,{target:l}),1)},animateAll:function(l){var a=this;if(!this.options.animation){clearTimeout(t),typeof l=="function"&&l();return}var d=!1,n=0;e.forEach(function(i){var o=0,s=i.target,f=s.fromRect,p=ce(s),c=s.prevFromRect,v=s.prevToRect,g=i.rect,y=It(s,!0);y&&(p.top-=y.f,p.left-=y.e),s.toRect=p,s.thisAnimationDuration&&Dn(c,p)&&!Dn(f,p)&&(g.top-p.top)/(g.left-p.left)===(f.top-p.top)/(f.left-p.left)&&(o=To(g,c,v,a.options)),Dn(p,f)||(s.prevFromRect=f,s.prevToRect=p,o||(o=a.options.animation),a.animate(s,g,p,o)),o&&(d=!0,n=Math.max(n,o),clearTimeout(s.animationResetTimer),s.animationResetTimer=setTimeout(function(){s.animationTime=0,s.prevFromRect=null,s.fromRect=null,s.prevToRect=null,s.thisAnimationDuration=null},o),s.thisAnimationDuration=o)}),clearTimeout(t),d?t=setTimeout(function(){typeof l=="function"&&l()},n):typeof l=="function"&&l(),e=[]},animate:function(l,a,d,n){if(n){B(l,"transition",""),B(l,"transform","");var i=It(this.el),o=i&&i.a,s=i&&i.d,f=(a.left-d.left)/(o||1),p=(a.top-d.top)/(s||1);l.animatingX=!!f,l.animatingY=!!p,B(l,"transform","translate3d("+f+"px,"+p+"px,0)"),this.forRepaintDummy=Po(l),B(l,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),B(l,"transform","translate3d(0,0,0)"),typeof l.animated=="number"&&clearTimeout(l.animated),l.animated=setTimeout(function(){B(l,"transition",""),B(l,"transform",""),l.animated=!1,l.animatingX=!1,l.animatingY=!1},n)}}}}function Po(e){return e.offsetWidth}function To(e,t,r,l){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-r.top,2)+Math.pow(t.left-r.left,2))*l.animation}var Tt=[],xn={initializeByDefault:!0},en={mount:function(t){for(var r in xn)xn.hasOwnProperty(r)&&!(r in t)&&(t[r]=xn[r]);Tt.forEach(function(l){if(l.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Tt.push(t)},pluginEvent:function(t,r,l){var a=this;this.eventCanceled=!1,l.cancel=function(){a.eventCanceled=!0};var d=t+"Global";Tt.forEach(function(n){r[n.pluginName]&&(r[n.pluginName][d]&&r[n.pluginName][d](ot({sortable:r},l)),r.options[n.pluginName]&&r[n.pluginName][t]&&r[n.pluginName][t](ot({sortable:r},l)))})},initializePlugins:function(t,r,l,a){Tt.forEach(function(i){var o=i.pluginName;if(!(!t.options[o]&&!i.initializeByDefault)){var s=new i(t,r,t.options);s.sortable=t,s.options=t.options,t[o]=s,Ze(l,s.defaults)}});for(var d in t.options)if(t.options.hasOwnProperty(d)){var n=this.modifyOption(t,d,t.options[d]);typeof n<"u"&&(t.options[d]=n)}},getEventProperties:function(t,r){var l={};return Tt.forEach(function(a){typeof a.eventProperties=="function"&&Ze(l,a.eventProperties.call(r[a.pluginName],t))}),l},modifyOption:function(t,r,l){var a;return Tt.forEach(function(d){t[d.pluginName]&&d.optionListeners&&typeof d.optionListeners[r]=="function"&&(a=d.optionListeners[r].call(t[d.pluginName],l))}),a}};function Wt(e){var t=e.sortable,r=e.rootEl,l=e.name,a=e.targetEl,d=e.cloneEl,n=e.toEl,i=e.fromEl,o=e.oldIndex,s=e.newIndex,f=e.oldDraggableIndex,p=e.newDraggableIndex,c=e.originalEvent,v=e.putSortable,g=e.extraEventProperties;if(t=t||r&&r[Le],!!t){var y,u=t.options,E="on"+l.charAt(0).toUpperCase()+l.substr(1);window.CustomEvent&&!ft&&!_t?y=new CustomEvent(l,{bubbles:!0,cancelable:!0}):(y=document.createEvent("Event"),y.initEvent(l,!0,!0)),y.to=n||r,y.from=i||r,y.item=a||r,y.clone=d,y.oldIndex=o,y.newIndex=s,y.oldDraggableIndex=f,y.newDraggableIndex=p,y.originalEvent=c,y.pullMode=v?v.lastPutMode:void 0;var O=ot(ot({},g),en.getEventProperties(l,t));for(var m in O)y[m]=O[m];r&&r.dispatchEvent(y),u[E]&&u[E].call(t,y)}}var Do=["evt"],Be=function(t,r){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=l.evt,d=po(l,Do);en.pluginEvent.bind(W)(t,r,ot({dragEl:M,parentEl:ge,ghostEl:Q,rootEl:fe,nextEl:wt,lastDownEl:fn,cloneEl:ye,cloneHidden:vt,dragStarted:Yt,putSortable:xe,activeSortable:W.active,originalEvent:a,oldIndex:Nt,oldDraggableIndex:Qt,newIndex:Xe,newDraggableIndex:ht,hideGhostForTarget:$r,unhideGhostForTarget:Br,cloneNowHidden:function(){vt=!0},cloneNowShown:function(){vt=!1},dispatchSortableEvent:function(i){Fe({sortable:r,name:i,originalEvent:a})}},d))};function Fe(e){Wt(ot({putSortable:xe,cloneEl:ye,targetEl:M,rootEl:fe,oldIndex:Nt,oldDraggableIndex:Qt,newIndex:Xe,newDraggableIndex:ht},e))}var M,ge,Q,fe,wt,fn,ye,vt,Nt,Xe,Qt,ht,rn,xe,xt=!1,vn=!1,gn=[],Et,ke,Nn,Mn,cr,pr,Yt,Dt,kt,qt=!1,an=!1,cn,Ne,Ln=[],Hn=!1,yn=[],En=typeof document<"u",on=Nr,mr=_t||ft?"cssFloat":"float",Ao=En&&!So&&!Nr&&"draggable"in document.createElement("div"),Fr=function(){if(En){if(ft)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),jr=function(t,r){var l=B(t),a=parseInt(l.width)-parseInt(l.paddingLeft)-parseInt(l.paddingRight)-parseInt(l.borderLeftWidth)-parseInt(l.borderRightWidth),d=Mt(t,0,r),n=Mt(t,1,r),i=d&&B(d),o=n&&B(n),s=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+ce(d).width,f=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+ce(n).width;if(l.display==="flex")return l.flexDirection==="column"||l.flexDirection==="column-reverse"?"vertical":"horizontal";if(l.display==="grid")return l.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(d&&i.float&&i.float!=="none"){var p=i.float==="left"?"left":"right";return n&&(o.clear==="both"||o.clear===p)?"vertical":"horizontal"}return d&&(i.display==="block"||i.display==="flex"||i.display==="table"||i.display==="grid"||s>=a&&l[mr]==="none"||n&&l[mr]==="none"&&s+f>a)?"vertical":"horizontal"},xo=function(t,r,l){var a=l?t.left:t.top,d=l?t.right:t.bottom,n=l?t.width:t.height,i=l?r.left:r.top,o=l?r.right:r.bottom,s=l?r.width:r.height;return a===i||d===o||a+n/2===i+s/2},No=function(t,r){var l;return gn.some(function(a){var d=a[Le].options.emptyInsertThreshold;if(!(!d||Jn(a))){var n=ce(a),i=t>=n.left-d&&t<=n.right+d,o=r>=n.top-d&&r<=n.bottom+d;if(i&&o)return l=a}}),l},Ur=function(t){function r(d,n){return function(i,o,s,f){var p=i.options.group.name&&o.options.group.name&&i.options.group.name===o.options.group.name;if(d==null&&(n||p))return!0;if(d==null||d===!1)return!1;if(n&&d==="clone")return d;if(typeof d=="function")return r(d(i,o,s,f),n)(i,o,s,f);var c=(n?i:o).options.group.name;return d===!0||typeof d=="string"&&d===c||d.join&&d.indexOf(c)>-1}}var l={},a=t.group;(!a||dn(a)!="object")&&(a={name:a}),l.name=a.name,l.checkPull=r(a.pull,!0),l.checkPut=r(a.put),l.revertClone=a.revertClone,t.group=l},$r=function(){!Fr&&Q&&B(Q,"display","none")},Br=function(){!Fr&&Q&&B(Q,"display","")};En&&document.addEventListener("click",function(e){if(vn)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),vn=!1,!1},!0);var Ot=function(t){if(M){t=t.touches?t.touches[0]:t;var r=No(t.clientX,t.clientY);if(r){var l={};for(var a in t)t.hasOwnProperty(a)&&(l[a]=t[a]);l.target=l.rootEl=r,l.preventDefault=void 0,l.stopPropagation=void 0,r[Le]._onDragOver(l)}}},Mo=function(t){M&&M.parentNode[Le]._isOutsideThisEl(t.target)};function W(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Ze({},t),e[Le]=this;var r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return jr(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(n,i){n.setData("Text",i.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:W.supportPointer!==!1&&"PointerEvent"in window&&!Jt,emptyInsertThreshold:5};en.initializePlugins(this,e,r);for(var l in r)!(l in t)&&(t[l]=r[l]);Ur(t);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=t.forceFallback?!1:Ao,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?te(e,"pointerdown",this._onTapStart):(te(e,"mousedown",this._onTapStart),te(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(te(e,"dragover",this),te(e,"dragenter",this)),gn.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Ze(this,Co())}W.prototype={constructor:W,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Dt=null)},_getDirection:function(t,r){return typeof this.options.direction=="function"?this.options.direction.call(this,t,r,M):this.options.direction},_onTapStart:function(t){if(t.cancelable){var r=this,l=this.el,a=this.options,d=a.preventOnFilter,n=t.type,i=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,o=(i||t).target,s=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||o,f=a.filter;if(Bo(l),!M&&!(/mousedown|pointerdown/.test(n)&&t.button!==0||a.disabled)&&!s.isContentEditable&&!(!this.nativeDraggable&&Jt&&o&&o.tagName.toUpperCase()==="SELECT")&&(o=et(o,a.draggable,l,!1),!(o&&o.animated)&&fn!==o)){if(Nt=be(o),Qt=be(o,a.draggable),typeof f=="function"){if(f.call(this,t,o,this)){Fe({sortable:r,rootEl:s,name:"filter",targetEl:o,toEl:l,fromEl:l}),Be("filter",r,{evt:t}),d&&t.cancelable&&t.preventDefault();return}}else if(f&&(f=f.split(",").some(function(p){if(p=et(s,p.trim(),l,!1),p)return Fe({sortable:r,rootEl:p,name:"filter",targetEl:o,fromEl:l,toEl:l}),Be("filter",r,{evt:t}),!0}),f)){d&&t.cancelable&&t.preventDefault();return}a.handle&&!et(s,a.handle,l,!1)||this._prepareDragStart(t,i,o)}}},_prepareDragStart:function(t,r,l){var a=this,d=a.el,n=a.options,i=d.ownerDocument,o;if(l&&!M&&l.parentNode===d){var s=ce(l);if(fe=d,M=l,ge=M.parentNode,wt=M.nextSibling,fn=l,rn=n.group,W.dragged=M,Et={target:M,clientX:(r||t).clientX,clientY:(r||t).clientY},cr=Et.clientX-s.left,pr=Et.clientY-s.top,this._lastX=(r||t).clientX,this._lastY=(r||t).clientY,M.style["will-change"]="all",o=function(){if(Be("delayEnded",a,{evt:t}),W.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!lr&&a.nativeDraggable&&(M.draggable=!0),a._triggerDragStart(t,r),Fe({sortable:a,name:"choose",originalEvent:t}),me(M,n.chosenClass,!0)},n.ignore.split(",").forEach(function(f){Lr(M,f.trim(),Vn)}),te(i,"dragover",Ot),te(i,"mousemove",Ot),te(i,"touchmove",Ot),te(i,"mouseup",a._onDrop),te(i,"touchend",a._onDrop),te(i,"touchcancel",a._onDrop),lr&&this.nativeDraggable&&(this.options.touchStartThreshold=4,M.draggable=!0),Be("delayStart",this,{evt:t}),n.delay&&(!n.delayOnTouchOnly||r)&&(!this.nativeDraggable||!(_t||ft))){if(W.eventCanceled){this._onDrop();return}te(i,"mouseup",a._disableDelayedDrag),te(i,"touchend",a._disableDelayedDrag),te(i,"touchcancel",a._disableDelayedDrag),te(i,"mousemove",a._delayedDragTouchMoveHandler),te(i,"touchmove",a._delayedDragTouchMoveHandler),n.supportPointer&&te(i,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(o,n.delay)}else o()}},_delayedDragTouchMoveHandler:function(t){var r=t.touches?t.touches[0]:t;Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){M&&Vn(M),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;_(t,"mouseup",this._disableDelayedDrag),_(t,"touchend",this._disableDelayedDrag),_(t,"touchcancel",this._disableDelayedDrag),_(t,"mousemove",this._delayedDragTouchMoveHandler),_(t,"touchmove",this._delayedDragTouchMoveHandler),_(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,r){r=r||t.pointerType=="touch"&&t,!this.nativeDraggable||r?this.options.supportPointer?te(document,"pointermove",this._onTouchMove):r?te(document,"touchmove",this._onTouchMove):te(document,"mousemove",this._onTouchMove):(te(M,"dragend",this),te(fe,"dragstart",this._onDragStart));try{document.selection?pn(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,r){if(xt=!1,fe&&M){Be("dragStarted",this,{evt:r}),this.nativeDraggable&&te(document,"dragover",Mo);var l=this.options;!t&&me(M,l.dragClass,!1),me(M,l.ghostClass,!0),W.active=this,t&&this._appendGhost(),Fe({sortable:this,name:"start",originalEvent:r})}else this._nulling()},_emulateDragOver:function(){if(ke){this._lastX=ke.clientX,this._lastY=ke.clientY,$r();for(var t=document.elementFromPoint(ke.clientX,ke.clientY),r=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(ke.clientX,ke.clientY),t!==r);)r=t;if(M.parentNode[Le]._isOutsideThisEl(t),r)do{if(r[Le]){var l=void 0;if(l=r[Le]._onDragOver({clientX:ke.clientX,clientY:ke.clientY,target:t,rootEl:r}),l&&!this.options.dragoverBubble)break}t=r}while(r=r.parentNode);Br()}},_onTouchMove:function(t){if(Et){var r=this.options,l=r.fallbackTolerance,a=r.fallbackOffset,d=t.touches?t.touches[0]:t,n=Q&&It(Q,!0),i=Q&&n&&n.a,o=Q&&n&&n.d,s=on&&Ne&&dr(Ne),f=(d.clientX-Et.clientX+a.x)/(i||1)+(s?s[0]-Ln[0]:0)/(i||1),p=(d.clientY-Et.clientY+a.y)/(o||1)+(s?s[1]-Ln[1]:0)/(o||1);if(!W.active&&!xt){if(l&&Math.max(Math.abs(d.clientX-this._lastX),Math.abs(d.clientY-this._lastY))<l)return;this._onDragStart(t,!0)}if(Q){n?(n.e+=f-(Nn||0),n.f+=p-(Mn||0)):n={a:1,b:0,c:0,d:1,e:f,f:p};var c="matrix(".concat(n.a,",").concat(n.b,",").concat(n.c,",").concat(n.d,",").concat(n.e,",").concat(n.f,")");B(Q,"webkitTransform",c),B(Q,"mozTransform",c),B(Q,"msTransform",c),B(Q,"transform",c),Nn=f,Mn=p,ke=d}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Q){var t=this.options.fallbackOnBody?document.body:fe,r=ce(M,!0,on,!0,t),l=this.options;if(on){for(Ne=t;B(Ne,"position")==="static"&&B(Ne,"transform")==="none"&&Ne!==document;)Ne=Ne.parentNode;Ne!==document.body&&Ne!==document.documentElement?(Ne===document&&(Ne=at()),r.top+=Ne.scrollTop,r.left+=Ne.scrollLeft):Ne=at(),Ln=dr(Ne)}Q=M.cloneNode(!0),me(Q,l.ghostClass,!1),me(Q,l.fallbackClass,!0),me(Q,l.dragClass,!0),B(Q,"transition",""),B(Q,"transform",""),B(Q,"box-sizing","border-box"),B(Q,"margin",0),B(Q,"top",r.top),B(Q,"left",r.left),B(Q,"width",r.width),B(Q,"height",r.height),B(Q,"opacity","0.8"),B(Q,"position",on?"absolute":"fixed"),B(Q,"zIndex","100000"),B(Q,"pointerEvents","none"),W.ghost=Q,t.appendChild(Q),B(Q,"transform-origin",cr/parseInt(Q.style.width)*100+"% "+pr/parseInt(Q.style.height)*100+"%")}},_onDragStart:function(t,r){var l=this,a=t.dataTransfer,d=l.options;if(Be("dragStart",this,{evt:t}),W.eventCanceled){this._onDrop();return}Be("setupClone",this),W.eventCanceled||(ye=Zn(M),ye.draggable=!1,ye.style["will-change"]="",this._hideClone(),me(ye,this.options.chosenClass,!1),W.clone=ye),l.cloneId=pn(function(){Be("clone",l),!W.eventCanceled&&(l.options.removeCloneOnHide||fe.insertBefore(ye,M),l._hideClone(),Fe({sortable:l,name:"clone"}))}),!r&&me(M,d.dragClass,!0),r?(vn=!0,l._loopId=setInterval(l._emulateDragOver,50)):(_(document,"mouseup",l._onDrop),_(document,"touchend",l._onDrop),_(document,"touchcancel",l._onDrop),a&&(a.effectAllowed="move",d.setData&&d.setData.call(l,a,M)),te(document,"drop",l),B(M,"transform","translateZ(0)")),xt=!0,l._dragStartId=pn(l._dragStarted.bind(l,r,t)),te(document,"selectstart",l),Yt=!0,Jt&&B(document.body,"user-select","none")},_onDragOver:function(t){var r=this.el,l=t.target,a,d,n,i=this.options,o=i.group,s=W.active,f=rn===o,p=i.sort,c=xe||s,v,g=this,y=!1;if(Hn)return;function u(ae,ue){Be(ae,g,ot({evt:t,isOwner:f,axis:v?"vertical":"horizontal",revert:n,dragRect:a,targetRect:d,canSort:p,fromSortable:c,target:l,completed:O,onMove:function(he,ve){return ln(fe,r,M,a,he,ce(he),t,ve)},changed:m},ue))}function E(){u("dragOverAnimationCapture"),g.captureAnimationState(),g!==c&&c.captureAnimationState()}function O(ae){return u("dragOverCompleted",{insertion:ae}),ae&&(f?s._hideClone():s._showClone(g),g!==c&&(me(M,xe?xe.options.ghostClass:s.options.ghostClass,!1),me(M,i.ghostClass,!0)),xe!==g&&g!==W.active?xe=g:g===W.active&&xe&&(xe=null),c===g&&(g._ignoreWhileAnimating=l),g.animateAll(function(){u("dragOverAnimationComplete"),g._ignoreWhileAnimating=null}),g!==c&&(c.animateAll(),c._ignoreWhileAnimating=null)),(l===M&&!M.animated||l===r&&!l.animated)&&(Dt=null),!i.dragoverBubble&&!t.rootEl&&l!==document&&(M.parentNode[Le]._isOutsideThisEl(t.target),!ae&&Ot(t)),!i.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),y=!0}function m(){Xe=be(M),ht=be(M,i.draggable),Fe({sortable:g,name:"change",toEl:r,newIndex:Xe,newDraggableIndex:ht,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),l=et(l,i.draggable,r,!0),u("dragOver"),W.eventCanceled)return y;if(M.contains(t.target)||l.animated&&l.animatingX&&l.animatingY||g._ignoreWhileAnimating===l)return O(!1);if(vn=!1,s&&!i.disabled&&(f?p||(n=ge!==fe):xe===this||(this.lastPutMode=rn.checkPull(this,s,M,t))&&o.checkPut(this,s,M,t))){if(v=this._getDirection(t,l)==="vertical",a=ce(M),u("dragOverValid"),W.eventCanceled)return y;if(n)return ge=fe,E(),this._hideClone(),u("revert"),W.eventCanceled||(wt?fe.insertBefore(M,wt):fe.appendChild(M)),O(!0);var h=Jn(r,i.draggable);if(!h||Fo(t,v,this)&&!h.animated){if(h===M)return O(!1);if(h&&r===t.target&&(l=h),l&&(d=ce(l)),ln(fe,r,M,a,l,d,t,!!l)!==!1)return E(),r.appendChild(M),ge=r,m(),O(!0)}else if(h&&Ro(t,v,this)){var w=Mt(r,0,i,!0);if(w===M)return O(!1);if(l=w,d=ce(l),ln(fe,r,M,a,l,d,t,!1)!==!1)return E(),r.insertBefore(M,w),ge=r,m(),O(!0)}else if(l.parentNode===r){d=ce(l);var S=0,N,L=M.parentNode!==r,T=!xo(M.animated&&M.toRect||a,l.animated&&l.toRect||d,v),R=v?"top":"left",U=ur(l,"top","top")||ur(M,"top","top"),Y=U?U.scrollTop:void 0;Dt!==l&&(N=d[R],qt=!1,an=!T&&i.invertSwap||L),S=jo(t,l,d,v,T?1:i.swapThreshold,i.invertedSwapThreshold==null?i.swapThreshold:i.invertedSwapThreshold,an,Dt===l);var x;if(S!==0){var V=be(M);do V-=S,x=ge.children[V];while(x&&(B(x,"display")==="none"||x===Q))}if(S===0||x===l)return O(!1);Dt=l,kt=S;var J=l.nextElementSibling,F=!1;F=S===1;var H=ln(fe,r,M,a,l,d,t,F);if(H!==!1)return(H===1||H===-1)&&(F=H===1),Hn=!0,setTimeout(Vo,30),E(),F&&!J?r.appendChild(M):l.parentNode.insertBefore(M,F?J:l),U&&Rr(U,0,Y-U.scrollTop),ge=M.parentNode,N!==void 0&&!an&&(cn=Math.abs(N-ce(l)[R])),m(),O(!0)}if(r.contains(M))return O(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){_(document,"mousemove",this._onTouchMove),_(document,"touchmove",this._onTouchMove),_(document,"pointermove",this._onTouchMove),_(document,"dragover",Ot),_(document,"mousemove",Ot),_(document,"touchmove",Ot)},_offUpEvents:function(){var t=this.el.ownerDocument;_(t,"mouseup",this._onDrop),_(t,"touchend",this._onDrop),_(t,"pointerup",this._onDrop),_(t,"touchcancel",this._onDrop),_(document,"selectstart",this)},_onDrop:function(t){var r=this.el,l=this.options;if(Xe=be(M),ht=be(M,l.draggable),Be("drop",this,{evt:t}),ge=M&&M.parentNode,Xe=be(M),ht=be(M,l.draggable),W.eventCanceled){this._nulling();return}xt=!1,an=!1,qt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Kn(this.cloneId),Kn(this._dragStartId),this.nativeDraggable&&(_(document,"drop",this),_(r,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Jt&&B(document.body,"user-select",""),B(M,"transform",""),t&&(Yt&&(t.cancelable&&t.preventDefault(),!l.dropBubble&&t.stopPropagation()),Q&&Q.parentNode&&Q.parentNode.removeChild(Q),(fe===ge||xe&&xe.lastPutMode!=="clone")&&ye&&ye.parentNode&&ye.parentNode.removeChild(ye),M&&(this.nativeDraggable&&_(M,"dragend",this),Vn(M),M.style["will-change"]="",Yt&&!xt&&me(M,xe?xe.options.ghostClass:this.options.ghostClass,!1),me(M,this.options.chosenClass,!1),Fe({sortable:this,name:"unchoose",toEl:ge,newIndex:null,newDraggableIndex:null,originalEvent:t}),fe!==ge?(Xe>=0&&(Fe({rootEl:ge,name:"add",toEl:ge,fromEl:fe,originalEvent:t}),Fe({sortable:this,name:"remove",toEl:ge,originalEvent:t}),Fe({rootEl:ge,name:"sort",toEl:ge,fromEl:fe,originalEvent:t}),Fe({sortable:this,name:"sort",toEl:ge,originalEvent:t})),xe&&xe.save()):Xe!==Nt&&Xe>=0&&(Fe({sortable:this,name:"update",toEl:ge,originalEvent:t}),Fe({sortable:this,name:"sort",toEl:ge,originalEvent:t})),W.active&&((Xe==null||Xe===-1)&&(Xe=Nt,ht=Qt),Fe({sortable:this,name:"end",toEl:ge,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Be("nulling",this),fe=M=ge=Q=wt=ye=fn=vt=Et=ke=Yt=Xe=ht=Nt=Qt=Dt=kt=xe=rn=W.dragged=W.ghost=W.clone=W.active=null,yn.forEach(function(t){t.checked=!0}),yn.length=Nn=Mn=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":M&&(this._onDragOver(t),Lo(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],r,l=this.el.children,a=0,d=l.length,n=this.options;a<d;a++)r=l[a],et(r,n.draggable,this.el,!1)&&t.push(r.getAttribute(n.dataIdAttr)||$o(r));return t},sort:function(t,r){var l={},a=this.el;this.toArray().forEach(function(d,n){var i=a.children[n];et(i,this.options.draggable,a,!1)&&(l[d]=i)},this),r&&this.captureAnimationState(),t.forEach(function(d){l[d]&&(a.removeChild(l[d]),a.appendChild(l[d]))}),r&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,r){return et(t,r||this.options.draggable,this.el,!1)},option:function(t,r){var l=this.options;if(r===void 0)return l[t];var a=en.modifyOption(this,t,r);typeof a<"u"?l[t]=a:l[t]=r,t==="group"&&Ur(l)},destroy:function(){Be("destroy",this);var t=this.el;t[Le]=null,_(t,"mousedown",this._onTapStart),_(t,"touchstart",this._onTapStart),_(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(_(t,"dragover",this),_(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(r){r.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),gn.splice(gn.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!vt){if(Be("hideClone",this),W.eventCanceled)return;B(ye,"display","none"),this.options.removeCloneOnHide&&ye.parentNode&&ye.parentNode.removeChild(ye),vt=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(vt){if(Be("showClone",this),W.eventCanceled)return;M.parentNode==fe&&!this.options.group.revertClone?fe.insertBefore(ye,M):wt?fe.insertBefore(ye,wt):fe.appendChild(ye),this.options.group.revertClone&&this.animate(M,ye),B(ye,"display",""),vt=!1}}};function Lo(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function ln(e,t,r,l,a,d,n,i){var o,s=e[Le],f=s.options.onMove,p;return window.CustomEvent&&!ft&&!_t?o=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(o=document.createEvent("Event"),o.initEvent("move",!0,!0)),o.to=t,o.from=e,o.dragged=r,o.draggedRect=l,o.related=a||t,o.relatedRect=d||ce(t),o.willInsertAfter=i,o.originalEvent=n,e.dispatchEvent(o),f&&(p=f.call(s,o,n)),p}function Vn(e){e.draggable=!1}function Vo(){Hn=!1}function Ro(e,t,r){var l=ce(Mt(r.el,0,r.options,!0)),a=10;return t?e.clientX<l.left-a||e.clientY<l.top&&e.clientX<l.right:e.clientY<l.top-a||e.clientY<l.bottom&&e.clientX<l.left}function Fo(e,t,r){var l=ce(Jn(r.el,r.options.draggable)),a=10;return t?e.clientX>l.right+a||e.clientX<=l.right&&e.clientY>l.bottom&&e.clientX>=l.left:e.clientX>l.right&&e.clientY>l.top||e.clientX<=l.right&&e.clientY>l.bottom+a}function jo(e,t,r,l,a,d,n,i){var o=l?e.clientY:e.clientX,s=l?r.height:r.width,f=l?r.top:r.left,p=l?r.bottom:r.right,c=!1;if(!n){if(i&&cn<s*a){if(!qt&&(kt===1?o>f+s*d/2:o<p-s*d/2)&&(qt=!0),qt)c=!0;else if(kt===1?o<f+cn:o>p-cn)return-kt}else if(o>f+s*(1-a)/2&&o<p-s*(1-a)/2)return Uo(t)}return c=c||n,c&&(o<f+s*d/2||o>p-s*d/2)?o>f+s/2?1:-1:0}function Uo(e){return be(M)<be(e)?1:-1}function $o(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,r=t.length,l=0;r--;)l+=t.charCodeAt(r);return l.toString(36)}function Bo(e){yn.length=0;for(var t=e.getElementsByTagName("input"),r=t.length;r--;){var l=t[r];l.checked&&yn.push(l)}}function pn(e){return setTimeout(e,0)}function Kn(e){return clearTimeout(e)}En&&te(document,"touchmove",function(e){(W.active||xt)&&e.cancelable&&e.preventDefault()});W.utils={on:te,off:_,css:B,find:Lr,is:function(t,r){return!!et(t,r,t,!1)},extend:wo,throttle:Vr,closest:et,toggleClass:me,clone:Zn,index:be,nextTick:pn,cancelNextTick:Kn,detectDirection:jr,getChild:Mt};W.get=function(e){return e[Le]};W.mount=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t[0].constructor===Array&&(t=t[0]),t.forEach(function(l){if(!l.prototype||!l.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(l));l.utils&&(W.utils=ot(ot({},W.utils),l.utils)),en.mount(l)})};W.create=function(e,t){return new W(e,t)};W.version=bo;var Oe=[],Xt,Wn,Yn=!1,Rn,Fn,bn,zt;function Go(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(r){var l=r.originalEvent;this.sortable.nativeDraggable?te(document,"dragover",this._handleAutoScroll):this.options.supportPointer?te(document,"pointermove",this._handleFallbackAutoScroll):l.touches?te(document,"touchmove",this._handleFallbackAutoScroll):te(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(r){var l=r.originalEvent;!this.options.dragOverBubble&&!l.rootEl&&this._handleAutoScroll(l)},drop:function(){this.sortable.nativeDraggable?_(document,"dragover",this._handleAutoScroll):(_(document,"pointermove",this._handleFallbackAutoScroll),_(document,"touchmove",this._handleFallbackAutoScroll),_(document,"mousemove",this._handleFallbackAutoScroll)),hr(),mn(),Io()},nulling:function(){bn=Wn=Xt=Yn=zt=Rn=Fn=null,Oe.length=0},_handleFallbackAutoScroll:function(r){this._handleAutoScroll(r,!0)},_handleAutoScroll:function(r,l){var a=this,d=(r.touches?r.touches[0]:r).clientX,n=(r.touches?r.touches[0]:r).clientY,i=document.elementFromPoint(d,n);if(bn=r,l||this.options.forceAutoScrollFallback||_t||ft||Jt){jn(r,this.options,i,l);var o=gt(i,!0);Yn&&(!zt||d!==Rn||n!==Fn)&&(zt&&hr(),zt=setInterval(function(){var s=gt(document.elementFromPoint(d,n),!0);s!==o&&(o=s,mn()),jn(r,a.options,s,l)},10),Rn=d,Fn=n)}else{if(!this.options.bubbleScroll||gt(i,!0)===at()){mn();return}jn(r,this.options,gt(i,!1),!1)}}},Ze(e,{pluginName:"scroll",initializeByDefault:!0})}function mn(){Oe.forEach(function(e){clearInterval(e.pid)}),Oe=[]}function hr(){clearInterval(zt)}var jn=Vr(function(e,t,r,l){if(t.scroll){var a=(e.touches?e.touches[0]:e).clientX,d=(e.touches?e.touches[0]:e).clientY,n=t.scrollSensitivity,i=t.scrollSpeed,o=at(),s=!1,f;Wn!==r&&(Wn=r,mn(),Xt=t.scroll,f=t.scrollFn,Xt===!0&&(Xt=gt(r,!0)));var p=0,c=Xt;do{var v=c,g=ce(v),y=g.top,u=g.bottom,E=g.left,O=g.right,m=g.width,h=g.height,w=void 0,S=void 0,N=v.scrollWidth,L=v.scrollHeight,T=B(v),R=v.scrollLeft,U=v.scrollTop;v===o?(w=m<N&&(T.overflowX==="auto"||T.overflowX==="scroll"||T.overflowX==="visible"),S=h<L&&(T.overflowY==="auto"||T.overflowY==="scroll"||T.overflowY==="visible")):(w=m<N&&(T.overflowX==="auto"||T.overflowX==="scroll"),S=h<L&&(T.overflowY==="auto"||T.overflowY==="scroll"));var Y=w&&(Math.abs(O-a)<=n&&R+m<N)-(Math.abs(E-a)<=n&&!!R),x=S&&(Math.abs(u-d)<=n&&U+h<L)-(Math.abs(y-d)<=n&&!!U);if(!Oe[p])for(var V=0;V<=p;V++)Oe[V]||(Oe[V]={});(Oe[p].vx!=Y||Oe[p].vy!=x||Oe[p].el!==v)&&(Oe[p].el=v,Oe[p].vx=Y,Oe[p].vy=x,clearInterval(Oe[p].pid),(Y!=0||x!=0)&&(s=!0,Oe[p].pid=setInterval(function(){l&&this.layer===0&&W.active._onTouchMove(bn);var J=Oe[this.layer].vy?Oe[this.layer].vy*i:0,F=Oe[this.layer].vx?Oe[this.layer].vx*i:0;typeof f=="function"&&f.call(W.dragged.parentNode[Le],F,J,e,bn,Oe[this.layer].el)!=="continue"||Rr(Oe[this.layer].el,F,J)}.bind({layer:p}),24))),p++}while(t.bubbleScroll&&c!==o&&(c=gt(c,!1)));Yn=s}},30),Gr=function(t){var r=t.originalEvent,l=t.putSortable,a=t.dragEl,d=t.activeSortable,n=t.dispatchSortableEvent,i=t.hideGhostForTarget,o=t.unhideGhostForTarget;if(r){var s=l||d;i();var f=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:r,p=document.elementFromPoint(f.clientX,f.clientY);o(),s&&!s.el.contains(p)&&(n("spill"),this.onSpill({dragEl:a,putSortable:l}))}};function Qn(){}Qn.prototype={startIndex:null,dragStart:function(t){var r=t.oldDraggableIndex;this.startIndex=r},onSpill:function(t){var r=t.dragEl,l=t.putSortable;this.sortable.captureAnimationState(),l&&l.captureAnimationState();var a=Mt(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(r,a):this.sortable.el.appendChild(r),this.sortable.animateAll(),l&&l.animateAll()},drop:Gr};Ze(Qn,{pluginName:"revertOnSpill"});function kn(){}kn.prototype={onSpill:function(t){var r=t.dragEl,l=t.putSortable,a=l||this.sortable;a.captureAnimationState(),r.parentNode&&r.parentNode.removeChild(r),a.animateAll()},drop:Gr};Ze(kn,{pluginName:"removeOnSpill"});var Je;function Ho(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(r){var l=r.dragEl;Je=l},dragOverValid:function(r){var l=r.completed,a=r.target,d=r.onMove,n=r.activeSortable,i=r.changed,o=r.cancel;if(n.options.swap){var s=this.sortable.el,f=this.options;if(a&&a!==s){var p=Je;d(a)!==!1?(me(a,f.swapClass,!0),Je=a):Je=null,p&&p!==Je&&me(p,f.swapClass,!1)}i(),l(!0),o()}},drop:function(r){var l=r.activeSortable,a=r.putSortable,d=r.dragEl,n=a||this.sortable,i=this.options;Je&&me(Je,i.swapClass,!1),Je&&(i.swap||a&&a.options.swap)&&d!==Je&&(n.captureAnimationState(),n!==l&&l.captureAnimationState(),Ko(d,Je),n.animateAll(),n!==l&&l.animateAll())},nulling:function(){Je=null}},Ze(e,{pluginName:"swap",eventProperties:function(){return{swapItem:Je}}})}function Ko(e,t){var r=e.parentNode,l=t.parentNode,a,d;!r||!l||r.isEqualNode(t)||l.isEqualNode(e)||(a=be(e),d=be(t),r.isEqualNode(l)&&a<d&&d++,r.insertBefore(t,r.children[a]),l.insertBefore(e,l.children[d]))}var Z=[],Ye=[],$t,qe,Bt=!1,Ge=!1,At=!1,se,Gt,sn;function Wo(){function e(t){for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));t.options.supportPointer?te(document,"pointerup",this._deselectMultiDrag):(te(document,"mouseup",this._deselectMultiDrag),te(document,"touchend",this._deselectMultiDrag)),te(document,"keydown",this._checkKeyDown),te(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(a,d){var n="";Z.length&&qe===t?Z.forEach(function(i,o){n+=(o?", ":"")+i.textContent}):n=d.textContent,a.setData("Text",n)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(r){var l=r.dragEl;se=l},delayEnded:function(){this.isMultiDrag=~Z.indexOf(se)},setupClone:function(r){var l=r.sortable,a=r.cancel;if(this.isMultiDrag){for(var d=0;d<Z.length;d++)Ye.push(Zn(Z[d])),Ye[d].sortableIndex=Z[d].sortableIndex,Ye[d].draggable=!1,Ye[d].style["will-change"]="",me(Ye[d],this.options.selectedClass,!1),Z[d]===se&&me(Ye[d],this.options.chosenClass,!1);l._hideClone(),a()}},clone:function(r){var l=r.sortable,a=r.rootEl,d=r.dispatchSortableEvent,n=r.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||Z.length&&qe===l&&(vr(!0,a),d("clone"),n()))},showClone:function(r){var l=r.cloneNowShown,a=r.rootEl,d=r.cancel;this.isMultiDrag&&(vr(!1,a),Ye.forEach(function(n){B(n,"display","")}),l(),sn=!1,d())},hideClone:function(r){var l=this;r.sortable;var a=r.cloneNowHidden,d=r.cancel;this.isMultiDrag&&(Ye.forEach(function(n){B(n,"display","none"),l.options.removeCloneOnHide&&n.parentNode&&n.parentNode.removeChild(n)}),a(),sn=!0,d())},dragStartGlobal:function(r){r.sortable,!this.isMultiDrag&&qe&&qe.multiDrag._deselectMultiDrag(),Z.forEach(function(l){l.sortableIndex=be(l)}),Z=Z.sort(function(l,a){return l.sortableIndex-a.sortableIndex}),At=!0},dragStarted:function(r){var l=this,a=r.sortable;if(this.isMultiDrag){if(this.options.sort&&(a.captureAnimationState(),this.options.animation)){Z.forEach(function(n){n!==se&&B(n,"position","absolute")});var d=ce(se,!1,!0,!0);Z.forEach(function(n){n!==se&&fr(n,d)}),Ge=!0,Bt=!0}a.animateAll(function(){Ge=!1,Bt=!1,l.options.animation&&Z.forEach(function(n){An(n)}),l.options.sort&&un()})}},dragOver:function(r){var l=r.target,a=r.completed,d=r.cancel;Ge&&~Z.indexOf(l)&&(a(!1),d())},revert:function(r){var l=r.fromSortable,a=r.rootEl,d=r.sortable,n=r.dragRect;Z.length>1&&(Z.forEach(function(i){d.addAnimationState({target:i,rect:Ge?ce(i):n}),An(i),i.fromRect=n,l.removeAnimationState(i)}),Ge=!1,Yo(!this.options.removeCloneOnHide,a))},dragOverCompleted:function(r){var l=r.sortable,a=r.isOwner,d=r.insertion,n=r.activeSortable,i=r.parentEl,o=r.putSortable,s=this.options;if(d){if(a&&n._hideClone(),Bt=!1,s.animation&&Z.length>1&&(Ge||!a&&!n.options.sort&&!o)){var f=ce(se,!1,!0,!0);Z.forEach(function(c){c!==se&&(fr(c,f),i.appendChild(c))}),Ge=!0}if(!a)if(Ge||un(),Z.length>1){var p=sn;n._showClone(l),n.options.animation&&!sn&&p&&Ye.forEach(function(c){n.addAnimationState({target:c,rect:Gt}),c.fromRect=Gt,c.thisAnimationDuration=null})}else n._showClone(l)}},dragOverAnimationCapture:function(r){var l=r.dragRect,a=r.isOwner,d=r.activeSortable;if(Z.forEach(function(i){i.thisAnimationDuration=null}),d.options.animation&&!a&&d.multiDrag.isMultiDrag){Gt=Ze({},l);var n=It(se,!0);Gt.top-=n.f,Gt.left-=n.e}},dragOverAnimationComplete:function(){Ge&&(Ge=!1,un())},drop:function(r){var l=r.originalEvent,a=r.rootEl,d=r.parentEl,n=r.sortable,i=r.dispatchSortableEvent,o=r.oldIndex,s=r.putSortable,f=s||this.sortable;if(l){var p=this.options,c=d.children;if(!At)if(p.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),me(se,p.selectedClass,!~Z.indexOf(se)),~Z.indexOf(se))Z.splice(Z.indexOf(se),1),$t=null,Wt({sortable:n,rootEl:a,name:"deselect",targetEl:se,originalEvt:l});else{if(Z.push(se),Wt({sortable:n,rootEl:a,name:"select",targetEl:se,originalEvt:l}),l.shiftKey&&$t&&n.el.contains($t)){var v=be($t),g=be(se);if(~v&&~g&&v!==g){var y,u;for(g>v?(u=v,y=g):(u=g,y=v+1);u<y;u++)~Z.indexOf(c[u])||(me(c[u],p.selectedClass,!0),Z.push(c[u]),Wt({sortable:n,rootEl:a,name:"select",targetEl:c[u],originalEvt:l}))}}else $t=se;qe=f}if(At&&this.isMultiDrag){if(Ge=!1,(d[Le].options.sort||d!==a)&&Z.length>1){var E=ce(se),O=be(se,":not(."+this.options.selectedClass+")");if(!Bt&&p.animation&&(se.thisAnimationDuration=null),f.captureAnimationState(),!Bt&&(p.animation&&(se.fromRect=E,Z.forEach(function(h){if(h.thisAnimationDuration=null,h!==se){var w=Ge?ce(h):E;h.fromRect=w,f.addAnimationState({target:h,rect:w})}})),un(),Z.forEach(function(h){c[O]?d.insertBefore(h,c[O]):d.appendChild(h),O++}),o===be(se))){var m=!1;Z.forEach(function(h){if(h.sortableIndex!==be(h)){m=!0;return}}),m&&i("update")}Z.forEach(function(h){An(h)}),f.animateAll()}qe=f}(a===d||s&&s.lastPutMode!=="clone")&&Ye.forEach(function(h){h.parentNode&&h.parentNode.removeChild(h)})}},nullingGlobal:function(){this.isMultiDrag=At=!1,Ye.length=0},destroyGlobal:function(){this._deselectMultiDrag(),_(document,"pointerup",this._deselectMultiDrag),_(document,"mouseup",this._deselectMultiDrag),_(document,"touchend",this._deselectMultiDrag),_(document,"keydown",this._checkKeyDown),_(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(r){if(!(typeof At<"u"&&At)&&qe===this.sortable&&!(r&&et(r.target,this.options.draggable,this.sortable.el,!1))&&!(r&&r.button!==0))for(;Z.length;){var l=Z[0];me(l,this.options.selectedClass,!1),Z.shift(),Wt({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:l,originalEvt:r})}},_checkKeyDown:function(r){r.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(r){r.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Ze(e,{pluginName:"multiDrag",utils:{select:function(r){var l=r.parentNode[Le];!l||!l.options.multiDrag||~Z.indexOf(r)||(qe&&qe!==l&&(qe.multiDrag._deselectMultiDrag(),qe=l),me(r,l.options.selectedClass,!0),Z.push(r))},deselect:function(r){var l=r.parentNode[Le],a=Z.indexOf(r);!l||!l.options.multiDrag||!~a||(me(r,l.options.selectedClass,!1),Z.splice(a,1))}},eventProperties:function(){var r=this,l=[],a=[];return Z.forEach(function(d){l.push({multiDragElement:d,index:d.sortableIndex});var n;Ge&&d!==se?n=-1:Ge?n=be(d,":not(."+r.options.selectedClass+")"):n=be(d),a.push({multiDragElement:d,index:n})}),{items:mo(Z),clones:[].concat(Ye),oldIndicies:l,newIndicies:a}},optionListeners:{multiDragKey:function(r){return r=r.toLowerCase(),r==="ctrl"?r="Control":r.length>1&&(r=r.charAt(0).toUpperCase()+r.substr(1)),r}}})}function Yo(e,t){Z.forEach(function(r,l){var a=t.children[r.sortableIndex+(e?Number(l):0)];a?t.insertBefore(r,a):t.appendChild(r)})}function vr(e,t){Ye.forEach(function(r,l){var a=t.children[r.sortableIndex+(e?Number(l):0)];a?t.insertBefore(r,a):t.appendChild(r)})}function un(){Z.forEach(function(e){e!==se&&e.parentNode&&e.parentNode.removeChild(e)})}W.mount(new Go);W.mount(kn,Qn);const Xo=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:Wo,Sortable:W,Swap:Ho,default:W},Symbol.toStringTag,{value:"Module"})),zo=Wr(Xo);(function(e,t){(function(l,a){e.exports=a(Xr,zo)})(typeof self<"u"?self:zr,function(r,l){return function(a){var d={};function n(i){if(d[i])return d[i].exports;var o=d[i]={i,l:!1,exports:{}};return a[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=a,n.c=d,n.d=function(i,o,s){n.o(i,o)||Object.defineProperty(i,o,{enumerable:!0,get:s})},n.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},n.t=function(i,o){if(o&1&&(i=n(i)),o&8||o&4&&typeof i=="object"&&i&&i.__esModule)return i;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:i}),o&2&&typeof i!="string")for(var f in i)n.d(s,f,function(p){return i[p]}.bind(null,f));return s},n.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return n.d(o,"a",o),o},n.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},n.p="",n(n.s="fb15")}({"00ee":function(a,d,n){var i=n("b622"),o=i("toStringTag"),s={};s[o]="z",a.exports=String(s)==="[object z]"},"0366":function(a,d,n){var i=n("1c0b");a.exports=function(o,s,f){if(i(o),s===void 0)return o;switch(f){case 0:return function(){return o.call(s)};case 1:return function(p){return o.call(s,p)};case 2:return function(p,c){return o.call(s,p,c)};case 3:return function(p,c,v){return o.call(s,p,c,v)}}return function(){return o.apply(s,arguments)}}},"057f":function(a,d,n){var i=n("fc6a"),o=n("241c").f,s={}.toString,f=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],p=function(c){try{return o(c)}catch{return f.slice()}};a.exports.f=function(v){return f&&s.call(v)=="[object Window]"?p(v):o(i(v))}},"06cf":function(a,d,n){var i=n("83ab"),o=n("d1e7"),s=n("5c6c"),f=n("fc6a"),p=n("c04e"),c=n("5135"),v=n("0cfb"),g=Object.getOwnPropertyDescriptor;d.f=i?g:function(u,E){if(u=f(u),E=p(E,!0),v)try{return g(u,E)}catch{}if(c(u,E))return s(!o.f.call(u,E),u[E])}},"0cfb":function(a,d,n){var i=n("83ab"),o=n("d039"),s=n("cc12");a.exports=!i&&!o(function(){return Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(a,d,n){var i=n("23e7"),o=n("d58f").left,s=n("a640"),f=n("ae40"),p=s("reduce"),c=f("reduce",{1:0});i({target:"Array",proto:!0,forced:!p||!c},{reduce:function(g){return o(this,g,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(a,d,n){var i=n("c6b6"),o=n("9263");a.exports=function(s,f){var p=s.exec;if(typeof p=="function"){var c=p.call(s,f);if(typeof c!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return c}if(i(s)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return o.call(s,f)}},"159b":function(a,d,n){var i=n("da84"),o=n("fdbc"),s=n("17c2"),f=n("9112");for(var p in o){var c=i[p],v=c&&c.prototype;if(v&&v.forEach!==s)try{f(v,"forEach",s)}catch{v.forEach=s}}},"17c2":function(a,d,n){var i=n("b727").forEach,o=n("a640"),s=n("ae40"),f=o("forEach"),p=s("forEach");a.exports=!f||!p?function(v){return i(this,v,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(a,d,n){var i=n("d066");a.exports=i("document","documentElement")},"1c0b":function(a,d){a.exports=function(n){if(typeof n!="function")throw TypeError(String(n)+" is not a function");return n}},"1c7e":function(a,d,n){var i=n("b622"),o=i("iterator"),s=!1;try{var f=0,p={next:function(){return{done:!!f++}},return:function(){s=!0}};p[o]=function(){return this},Array.from(p,function(){throw 2})}catch{}a.exports=function(c,v){if(!v&&!s)return!1;var g=!1;try{var y={};y[o]=function(){return{next:function(){return{done:g=!0}}}},c(y)}catch{}return g}},"1d80":function(a,d){a.exports=function(n){if(n==null)throw TypeError("Can't call method on "+n);return n}},"1dde":function(a,d,n){var i=n("d039"),o=n("b622"),s=n("2d00"),f=o("species");a.exports=function(p){return s>=51||!i(function(){var c=[],v=c.constructor={};return v[f]=function(){return{foo:1}},c[p](Boolean).foo!==1})}},"23cb":function(a,d,n){var i=n("a691"),o=Math.max,s=Math.min;a.exports=function(f,p){var c=i(f);return c<0?o(c+p,0):s(c,p)}},"23e7":function(a,d,n){var i=n("da84"),o=n("06cf").f,s=n("9112"),f=n("6eeb"),p=n("ce4e"),c=n("e893"),v=n("94ca");a.exports=function(g,y){var u=g.target,E=g.global,O=g.stat,m,h,w,S,N,L;if(E?h=i:O?h=i[u]||p(u,{}):h=(i[u]||{}).prototype,h)for(w in y){if(N=y[w],g.noTargetGet?(L=o(h,w),S=L&&L.value):S=h[w],m=v(E?w:u+(O?".":"#")+w,g.forced),!m&&S!==void 0){if(typeof N==typeof S)continue;c(N,S)}(g.sham||S&&S.sham)&&s(N,"sham",!0),f(h,w,N,g)}}},"241c":function(a,d,n){var i=n("ca84"),o=n("7839"),s=o.concat("length","prototype");d.f=Object.getOwnPropertyNames||function(p){return i(p,s)}},"25f0":function(a,d,n){var i=n("6eeb"),o=n("825a"),s=n("d039"),f=n("ad6d"),p="toString",c=RegExp.prototype,v=c[p],g=s(function(){return v.call({source:"a",flags:"b"})!="/a/b"}),y=v.name!=p;(g||y)&&i(RegExp.prototype,p,function(){var E=o(this),O=String(E.source),m=E.flags,h=String(m===void 0&&E instanceof RegExp&&!("flags"in c)?f.call(E):m);return"/"+O+"/"+h},{unsafe:!0})},"2ca0":function(a,d,n){var i=n("23e7"),o=n("06cf").f,s=n("50c4"),f=n("5a34"),p=n("1d80"),c=n("ab13"),v=n("c430"),g="".startsWith,y=Math.min,u=c("startsWith"),E=!v&&!u&&!!function(){var O=o(String.prototype,"startsWith");return O&&!O.writable}();i({target:"String",proto:!0,forced:!E&&!u},{startsWith:function(m){var h=String(p(this));f(m);var w=s(y(arguments.length>1?arguments[1]:void 0,h.length)),S=String(m);return g?g.call(h,S,w):h.slice(w,w+S.length)===S}})},"2d00":function(a,d,n){var i=n("da84"),o=n("342f"),s=i.process,f=s&&s.versions,p=f&&f.v8,c,v;p?(c=p.split("."),v=c[0]+c[1]):o&&(c=o.match(/Edge\/(\d+)/),(!c||c[1]>=74)&&(c=o.match(/Chrome\/(\d+)/),c&&(v=c[1]))),a.exports=v&&+v},"342f":function(a,d,n){var i=n("d066");a.exports=i("navigator","userAgent")||""},"35a1":function(a,d,n){var i=n("f5df"),o=n("3f8c"),s=n("b622"),f=s("iterator");a.exports=function(p){if(p!=null)return p[f]||p["@@iterator"]||o[i(p)]}},"37e8":function(a,d,n){var i=n("83ab"),o=n("9bf2"),s=n("825a"),f=n("df75");a.exports=i?Object.defineProperties:function(c,v){s(c);for(var g=f(v),y=g.length,u=0,E;y>u;)o.f(c,E=g[u++],v[E]);return c}},"3bbe":function(a,d,n){var i=n("861d");a.exports=function(o){if(!i(o)&&o!==null)throw TypeError("Can't set "+String(o)+" as a prototype");return o}},"3ca3":function(a,d,n){var i=n("6547").charAt,o=n("69f3"),s=n("7dd0"),f="String Iterator",p=o.set,c=o.getterFor(f);s(String,"String",function(v){p(this,{type:f,string:String(v),index:0})},function(){var g=c(this),y=g.string,u=g.index,E;return u>=y.length?{value:void 0,done:!0}:(E=i(y,u),g.index+=E.length,{value:E,done:!1})})},"3f8c":function(a,d){a.exports={}},4160:function(a,d,n){var i=n("23e7"),o=n("17c2");i({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},"428f":function(a,d,n){var i=n("da84");a.exports=i},"44ad":function(a,d,n){var i=n("d039"),o=n("c6b6"),s="".split;a.exports=i(function(){return!Object("z").propertyIsEnumerable(0)})?function(f){return o(f)=="String"?s.call(f,""):Object(f)}:Object},"44d2":function(a,d,n){var i=n("b622"),o=n("7c73"),s=n("9bf2"),f=i("unscopables"),p=Array.prototype;p[f]==null&&s.f(p,f,{configurable:!0,value:o(null)}),a.exports=function(c){p[f][c]=!0}},"44e7":function(a,d,n){var i=n("861d"),o=n("c6b6"),s=n("b622"),f=s("match");a.exports=function(p){var c;return i(p)&&((c=p[f])!==void 0?!!c:o(p)=="RegExp")}},4930:function(a,d,n){var i=n("d039");a.exports=!!Object.getOwnPropertySymbols&&!i(function(){return!String(Symbol())})},"4d64":function(a,d,n){var i=n("fc6a"),o=n("50c4"),s=n("23cb"),f=function(p){return function(c,v,g){var y=i(c),u=o(y.length),E=s(g,u),O;if(p&&v!=v){for(;u>E;)if(O=y[E++],O!=O)return!0}else for(;u>E;E++)if((p||E in y)&&y[E]===v)return p||E||0;return!p&&-1}};a.exports={includes:f(!0),indexOf:f(!1)}},"4de4":function(a,d,n){var i=n("23e7"),o=n("b727").filter,s=n("1dde"),f=n("ae40"),p=s("filter"),c=f("filter");i({target:"Array",proto:!0,forced:!p||!c},{filter:function(g){return o(this,g,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(a,d,n){var i=n("0366"),o=n("7b0b"),s=n("9bdd"),f=n("e95a"),p=n("50c4"),c=n("8418"),v=n("35a1");a.exports=function(y){var u=o(y),E=typeof this=="function"?this:Array,O=arguments.length,m=O>1?arguments[1]:void 0,h=m!==void 0,w=v(u),S=0,N,L,T,R,U,Y;if(h&&(m=i(m,O>2?arguments[2]:void 0,2)),w!=null&&!(E==Array&&f(w)))for(R=w.call(u),U=R.next,L=new E;!(T=U.call(R)).done;S++)Y=h?s(R,m,[T.value,S],!0):T.value,c(L,S,Y);else for(N=p(u.length),L=new E(N);N>S;S++)Y=h?m(u[S],S):u[S],c(L,S,Y);return L.length=S,L}},"4fad":function(a,d,n){var i=n("23e7"),o=n("6f53").entries;i({target:"Object",stat:!0},{entries:function(f){return o(f)}})},"50c4":function(a,d,n){var i=n("a691"),o=Math.min;a.exports=function(s){return s>0?o(i(s),9007199254740991):0}},5135:function(a,d){var n={}.hasOwnProperty;a.exports=function(i,o){return n.call(i,o)}},5319:function(a,d,n){var i=n("d784"),o=n("825a"),s=n("7b0b"),f=n("50c4"),p=n("a691"),c=n("1d80"),v=n("8aa5"),g=n("14c3"),y=Math.max,u=Math.min,E=Math.floor,O=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g,h=function(w){return w===void 0?w:String(w)};i("replace",2,function(w,S,N,L){var T=L.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,R=L.REPLACE_KEEPS_$0,U=T?"$":"$0";return[function(V,J){var F=c(this),H=V?.[w];return H!==void 0?H.call(V,F,J):S.call(String(F),V,J)},function(x,V){if(!T&&R||typeof V=="string"&&V.indexOf(U)===-1){var J=N(S,x,this,V);if(J.done)return J.value}var F=o(x),H=String(this),ae=typeof V=="function";ae||(V=String(V));var ue=F.global;if(ue){var Te=F.unicode;F.lastIndex=0}for(var he=[];;){var ve=g(F,H);if(ve===null||(he.push(ve),!ue))break;var Ie=String(ve[0]);Ie===""&&(F.lastIndex=v(H,f(F.lastIndex),Te))}for(var Ce="",Ee=0,de=0;de<he.length;de++){ve=he[de];for(var pe=String(ve[0]),We=y(u(p(ve.index),H.length),0),Ve=[],it=1;it<ve.length;it++)Ve.push(h(ve[it]));var yt=ve.groups;if(ae){var ct=[pe].concat(Ve,We,H);yt!==void 0&&ct.push(yt);var De=String(V.apply(void 0,ct))}else De=Y(pe,H,We,Ve,yt,V);We>=Ee&&(Ce+=H.slice(Ee,We)+De,Ee=We+pe.length)}return Ce+H.slice(Ee)}];function Y(x,V,J,F,H,ae){var ue=J+x.length,Te=F.length,he=m;return H!==void 0&&(H=s(H),he=O),S.call(ae,he,function(ve,Ie){var Ce;switch(Ie.charAt(0)){case"$":return"$";case"&":return x;case"`":return V.slice(0,J);case"'":return V.slice(ue);case"<":Ce=H[Ie.slice(1,-1)];break;default:var Ee=+Ie;if(Ee===0)return ve;if(Ee>Te){var de=E(Ee/10);return de===0?ve:de<=Te?F[de-1]===void 0?Ie.charAt(1):F[de-1]+Ie.charAt(1):ve}Ce=F[Ee-1]}return Ce===void 0?"":Ce})}})},5692:function(a,d,n){var i=n("c430"),o=n("c6cd");(a.exports=function(s,f){return o[s]||(o[s]=f!==void 0?f:{})})("versions",[]).push({version:"3.6.5",mode:i?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(a,d,n){var i=n("d066"),o=n("241c"),s=n("7418"),f=n("825a");a.exports=i("Reflect","ownKeys")||function(c){var v=o.f(f(c)),g=s.f;return g?v.concat(g(c)):v}},"5a34":function(a,d,n){var i=n("44e7");a.exports=function(o){if(i(o))throw TypeError("The method doesn't accept regular expressions");return o}},"5c6c":function(a,d){a.exports=function(n,i){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:i}}},"5db7":function(a,d,n){var i=n("23e7"),o=n("a2bf"),s=n("7b0b"),f=n("50c4"),p=n("1c0b"),c=n("65f0");i({target:"Array",proto:!0},{flatMap:function(g){var y=s(this),u=f(y.length),E;return p(g),E=c(y,0),E.length=o(E,y,y,u,0,1,g,arguments.length>1?arguments[1]:void 0),E}})},6547:function(a,d,n){var i=n("a691"),o=n("1d80"),s=function(f){return function(p,c){var v=String(o(p)),g=i(c),y=v.length,u,E;return g<0||g>=y?f?"":void 0:(u=v.charCodeAt(g),u<55296||u>56319||g+1===y||(E=v.charCodeAt(g+1))<56320||E>57343?f?v.charAt(g):u:f?v.slice(g,g+2):(u-55296<<10)+(E-56320)+65536)}};a.exports={codeAt:s(!1),charAt:s(!0)}},"65f0":function(a,d,n){var i=n("861d"),o=n("e8b5"),s=n("b622"),f=s("species");a.exports=function(p,c){var v;return o(p)&&(v=p.constructor,typeof v=="function"&&(v===Array||o(v.prototype))?v=void 0:i(v)&&(v=v[f],v===null&&(v=void 0))),new(v===void 0?Array:v)(c===0?0:c)}},"69f3":function(a,d,n){var i=n("7f9a"),o=n("da84"),s=n("861d"),f=n("9112"),p=n("5135"),c=n("f772"),v=n("d012"),g=o.WeakMap,y,u,E,O=function(T){return E(T)?u(T):y(T,{})},m=function(T){return function(R){var U;if(!s(R)||(U=u(R)).type!==T)throw TypeError("Incompatible receiver, "+T+" required");return U}};if(i){var h=new g,w=h.get,S=h.has,N=h.set;y=function(T,R){return N.call(h,T,R),R},u=function(T){return w.call(h,T)||{}},E=function(T){return S.call(h,T)}}else{var L=c("state");v[L]=!0,y=function(T,R){return f(T,L,R),R},u=function(T){return p(T,L)?T[L]:{}},E=function(T){return p(T,L)}}a.exports={set:y,get:u,has:E,enforce:O,getterFor:m}},"6eeb":function(a,d,n){var i=n("da84"),o=n("9112"),s=n("5135"),f=n("ce4e"),p=n("8925"),c=n("69f3"),v=c.get,g=c.enforce,y=String(String).split("String");(a.exports=function(u,E,O,m){var h=m?!!m.unsafe:!1,w=m?!!m.enumerable:!1,S=m?!!m.noTargetGet:!1;if(typeof O=="function"&&(typeof E=="string"&&!s(O,"name")&&o(O,"name",E),g(O).source=y.join(typeof E=="string"?E:"")),u===i){w?u[E]=O:f(E,O);return}else h?!S&&u[E]&&(w=!0):delete u[E];w?u[E]=O:o(u,E,O)})(Function.prototype,"toString",function(){return typeof this=="function"&&v(this).source||p(this)})},"6f53":function(a,d,n){var i=n("83ab"),o=n("df75"),s=n("fc6a"),f=n("d1e7").f,p=function(c){return function(v){for(var g=s(v),y=o(g),u=y.length,E=0,O=[],m;u>E;)m=y[E++],(!i||f.call(g,m))&&O.push(c?[m,g[m]]:g[m]);return O}};a.exports={entries:p(!0),values:p(!1)}},"73d9":function(a,d,n){var i=n("44d2");i("flatMap")},7418:function(a,d){d.f=Object.getOwnPropertySymbols},"746f":function(a,d,n){var i=n("428f"),o=n("5135"),s=n("e538"),f=n("9bf2").f;a.exports=function(p){var c=i.Symbol||(i.Symbol={});o(c,p)||f(c,p,{value:s.f(p)})}},7839:function(a,d){a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(a,d,n){var i=n("1d80");a.exports=function(o){return Object(i(o))}},"7c73":function(a,d,n){var i=n("825a"),o=n("37e8"),s=n("7839"),f=n("d012"),p=n("1be4"),c=n("cc12"),v=n("f772"),g=">",y="<",u="prototype",E="script",O=v("IE_PROTO"),m=function(){},h=function(T){return y+E+g+T+y+"/"+E+g},w=function(T){T.write(h("")),T.close();var R=T.parentWindow.Object;return T=null,R},S=function(){var T=c("iframe"),R="java"+E+":",U;return T.style.display="none",p.appendChild(T),T.src=String(R),U=T.contentWindow.document,U.open(),U.write(h("document.F=Object")),U.close(),U.F},N,L=function(){try{N=document.domain&&new ActiveXObject("htmlfile")}catch{}L=N?w(N):S();for(var T=s.length;T--;)delete L[u][s[T]];return L()};f[O]=!0,a.exports=Object.create||function(R,U){var Y;return R!==null?(m[u]=i(R),Y=new m,m[u]=null,Y[O]=R):Y=L(),U===void 0?Y:o(Y,U)}},"7dd0":function(a,d,n){var i=n("23e7"),o=n("9ed3"),s=n("e163"),f=n("d2bb"),p=n("d44e"),c=n("9112"),v=n("6eeb"),g=n("b622"),y=n("c430"),u=n("3f8c"),E=n("ae93"),O=E.IteratorPrototype,m=E.BUGGY_SAFARI_ITERATORS,h=g("iterator"),w="keys",S="values",N="entries",L=function(){return this};a.exports=function(T,R,U,Y,x,V,J){o(U,R,Y);var F=function(de){if(de===x&&he)return he;if(!m&&de in ue)return ue[de];switch(de){case w:return function(){return new U(this,de)};case S:return function(){return new U(this,de)};case N:return function(){return new U(this,de)}}return function(){return new U(this)}},H=R+" Iterator",ae=!1,ue=T.prototype,Te=ue[h]||ue["@@iterator"]||x&&ue[x],he=!m&&Te||F(x),ve=R=="Array"&&ue.entries||Te,Ie,Ce,Ee;if(ve&&(Ie=s(ve.call(new T)),O!==Object.prototype&&Ie.next&&(!y&&s(Ie)!==O&&(f?f(Ie,O):typeof Ie[h]!="function"&&c(Ie,h,L)),p(Ie,H,!0,!0),y&&(u[H]=L))),x==S&&Te&&Te.name!==S&&(ae=!0,he=function(){return Te.call(this)}),(!y||J)&&ue[h]!==he&&c(ue,h,he),u[R]=he,x)if(Ce={values:F(S),keys:V?he:F(w),entries:F(N)},J)for(Ee in Ce)(m||ae||!(Ee in ue))&&v(ue,Ee,Ce[Ee]);else i({target:R,proto:!0,forced:m||ae},Ce);return Ce}},"7f9a":function(a,d,n){var i=n("da84"),o=n("8925"),s=i.WeakMap;a.exports=typeof s=="function"&&/native code/.test(o(s))},"825a":function(a,d,n){var i=n("861d");a.exports=function(o){if(!i(o))throw TypeError(String(o)+" is not an object");return o}},"83ab":function(a,d,n){var i=n("d039");a.exports=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(a,d,n){var i=n("c04e"),o=n("9bf2"),s=n("5c6c");a.exports=function(f,p,c){var v=i(p);v in f?o.f(f,v,s(0,c)):f[v]=c}},"861d":function(a,d){a.exports=function(n){return typeof n=="object"?n!==null:typeof n=="function"}},8875:function(a,d,n){var i,o,s;(function(f,p){o=[],i=p,s=typeof i=="function"?i.apply(d,o):i,s!==void 0&&(a.exports=s)})(typeof self<"u"?self:this,function(){function f(){var p=Object.getOwnPropertyDescriptor(document,"currentScript");if(!p&&"currentScript"in document&&document.currentScript||p&&p.get!==f&&document.currentScript)return document.currentScript;try{throw new Error}catch(N){var c=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,v=/@([^@]*):(\d+):(\d+)\s*$/ig,g=c.exec(N.stack)||v.exec(N.stack),y=g&&g[1]||!1,u=g&&g[2]||!1,E=document.location.href.replace(document.location.hash,""),O,m,h,w=document.getElementsByTagName("script");y===E&&(O=document.documentElement.outerHTML,m=new RegExp("(?:[^\\n]+?\\n){0,"+(u-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),h=O.replace(m,"$1").trim());for(var S=0;S<w.length;S++)if(w[S].readyState==="interactive"||w[S].src===y||y===E&&w[S].innerHTML&&w[S].innerHTML.trim()===h)return w[S];return null}}return f})},8925:function(a,d,n){var i=n("c6cd"),o=Function.toString;typeof i.inspectSource!="function"&&(i.inspectSource=function(s){return o.call(s)}),a.exports=i.inspectSource},"8aa5":function(a,d,n){var i=n("6547").charAt;a.exports=function(o,s,f){return s+(f?i(o,s).length:1)}},"8bbf":function(a,d){a.exports=r},"90e3":function(a,d){var n=0,i=Math.random();a.exports=function(o){return"Symbol("+String(o===void 0?"":o)+")_"+(++n+i).toString(36)}},9112:function(a,d,n){var i=n("83ab"),o=n("9bf2"),s=n("5c6c");a.exports=i?function(f,p,c){return o.f(f,p,s(1,c))}:function(f,p,c){return f[p]=c,f}},9263:function(a,d,n){var i=n("ad6d"),o=n("9f7f"),s=RegExp.prototype.exec,f=String.prototype.replace,p=s,c=function(){var u=/a/,E=/b*/g;return s.call(u,"a"),s.call(E,"a"),u.lastIndex!==0||E.lastIndex!==0}(),v=o.UNSUPPORTED_Y||o.BROKEN_CARET,g=/()??/.exec("")[1]!==void 0,y=c||g||v;y&&(p=function(E){var O=this,m,h,w,S,N=v&&O.sticky,L=i.call(O),T=O.source,R=0,U=E;return N&&(L=L.replace("y",""),L.indexOf("g")===-1&&(L+="g"),U=String(E).slice(O.lastIndex),O.lastIndex>0&&(!O.multiline||O.multiline&&E[O.lastIndex-1]!==`
`)&&(T="(?: "+T+")",U=" "+U,R++),h=new RegExp("^(?:"+T+")",L)),g&&(h=new RegExp("^"+T+"$(?!\\s)",L)),c&&(m=O.lastIndex),w=s.call(N?h:O,U),N?w?(w.input=w.input.slice(R),w[0]=w[0].slice(R),w.index=O.lastIndex,O.lastIndex+=w[0].length):O.lastIndex=0:c&&w&&(O.lastIndex=O.global?w.index+w[0].length:m),g&&w&&w.length>1&&f.call(w[0],h,function(){for(S=1;S<arguments.length-2;S++)arguments[S]===void 0&&(w[S]=void 0)}),w}),a.exports=p},"94ca":function(a,d,n){var i=n("d039"),o=/#|\.prototype\./,s=function(g,y){var u=p[f(g)];return u==v?!0:u==c?!1:typeof y=="function"?i(y):!!y},f=s.normalize=function(g){return String(g).replace(o,".").toLowerCase()},p=s.data={},c=s.NATIVE="N",v=s.POLYFILL="P";a.exports=s},"99af":function(a,d,n){var i=n("23e7"),o=n("d039"),s=n("e8b5"),f=n("861d"),p=n("7b0b"),c=n("50c4"),v=n("8418"),g=n("65f0"),y=n("1dde"),u=n("b622"),E=n("2d00"),O=u("isConcatSpreadable"),m=9007199254740991,h="Maximum allowed index exceeded",w=E>=51||!o(function(){var T=[];return T[O]=!1,T.concat()[0]!==T}),S=y("concat"),N=function(T){if(!f(T))return!1;var R=T[O];return R!==void 0?!!R:s(T)},L=!w||!S;i({target:"Array",proto:!0,forced:L},{concat:function(R){var U=p(this),Y=g(U,0),x=0,V,J,F,H,ae;for(V=-1,F=arguments.length;V<F;V++)if(ae=V===-1?U:arguments[V],N(ae)){if(H=c(ae.length),x+H>m)throw TypeError(h);for(J=0;J<H;J++,x++)J in ae&&v(Y,x,ae[J])}else{if(x>=m)throw TypeError(h);v(Y,x++,ae)}return Y.length=x,Y}})},"9bdd":function(a,d,n){var i=n("825a");a.exports=function(o,s,f,p){try{return p?s(i(f)[0],f[1]):s(f)}catch(v){var c=o.return;throw c!==void 0&&i(c.call(o)),v}}},"9bf2":function(a,d,n){var i=n("83ab"),o=n("0cfb"),s=n("825a"),f=n("c04e"),p=Object.defineProperty;d.f=i?p:function(v,g,y){if(s(v),g=f(g,!0),s(y),o)try{return p(v,g,y)}catch{}if("get"in y||"set"in y)throw TypeError("Accessors not supported");return"value"in y&&(v[g]=y.value),v}},"9ed3":function(a,d,n){var i=n("ae93").IteratorPrototype,o=n("7c73"),s=n("5c6c"),f=n("d44e"),p=n("3f8c"),c=function(){return this};a.exports=function(v,g,y){var u=g+" Iterator";return v.prototype=o(i,{next:s(1,y)}),f(v,u,!1,!0),p[u]=c,v}},"9f7f":function(a,d,n){var i=n("d039");function o(s,f){return RegExp(s,f)}d.UNSUPPORTED_Y=i(function(){var s=o("a","y");return s.lastIndex=2,s.exec("abcd")!=null}),d.BROKEN_CARET=i(function(){var s=o("^r","gy");return s.lastIndex=2,s.exec("str")!=null})},a2bf:function(a,d,n){var i=n("e8b5"),o=n("50c4"),s=n("0366"),f=function(p,c,v,g,y,u,E,O){for(var m=y,h=0,w=E?s(E,O,3):!1,S;h<g;){if(h in v){if(S=w?w(v[h],h,c):v[h],u>0&&i(S))m=f(p,c,S,o(S.length),m,u-1)-1;else{if(m>=9007199254740991)throw TypeError("Exceed the acceptable array length");p[m]=S}m++}h++}return m};a.exports=f},a352:function(a,d){a.exports=l},a434:function(a,d,n){var i=n("23e7"),o=n("23cb"),s=n("a691"),f=n("50c4"),p=n("7b0b"),c=n("65f0"),v=n("8418"),g=n("1dde"),y=n("ae40"),u=g("splice"),E=y("splice",{ACCESSORS:!0,0:0,1:2}),O=Math.max,m=Math.min,h=9007199254740991,w="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!u||!E},{splice:function(N,L){var T=p(this),R=f(T.length),U=o(N,R),Y=arguments.length,x,V,J,F,H,ae;if(Y===0?x=V=0:Y===1?(x=0,V=R-U):(x=Y-2,V=m(O(s(L),0),R-U)),R+x-V>h)throw TypeError(w);for(J=c(T,V),F=0;F<V;F++)H=U+F,H in T&&v(J,F,T[H]);if(J.length=V,x<V){for(F=U;F<R-V;F++)H=F+V,ae=F+x,H in T?T[ae]=T[H]:delete T[ae];for(F=R;F>R-V+x;F--)delete T[F-1]}else if(x>V)for(F=R-V;F>U;F--)H=F+V-1,ae=F+x-1,H in T?T[ae]=T[H]:delete T[ae];for(F=0;F<x;F++)T[F+U]=arguments[F+2];return T.length=R-V+x,J}})},a4d3:function(a,d,n){var i=n("23e7"),o=n("da84"),s=n("d066"),f=n("c430"),p=n("83ab"),c=n("4930"),v=n("fdbf"),g=n("d039"),y=n("5135"),u=n("e8b5"),E=n("861d"),O=n("825a"),m=n("7b0b"),h=n("fc6a"),w=n("c04e"),S=n("5c6c"),N=n("7c73"),L=n("df75"),T=n("241c"),R=n("057f"),U=n("7418"),Y=n("06cf"),x=n("9bf2"),V=n("d1e7"),J=n("9112"),F=n("6eeb"),H=n("5692"),ae=n("f772"),ue=n("d012"),Te=n("90e3"),he=n("b622"),ve=n("e538"),Ie=n("746f"),Ce=n("d44e"),Ee=n("69f3"),de=n("b727").forEach,pe=ae("hidden"),We="Symbol",Ve="prototype",it=he("toPrimitive"),yt=Ee.set,ct=Ee.getterFor(We),De=Object[Ve],Ae=o.Symbol,bt=s("JSON","stringify"),tt=Y.f,nt=x.f,tn=R.f,On=V.f,Qe=H("symbols"),pt=H("op-symbols"),Ct=H("string-to-symbol-registry"),Lt=H("symbol-to-string-registry"),Vt=H("wks"),Rt=o.QObject,Ft=!Rt||!Rt[Ve]||!Rt[Ve].findChild,jt=p&&g(function(){return N(nt({},"a",{get:function(){return nt(this,"a",{value:7}).a}})).a!=7})?function(z,G,K){var ne=tt(De,G);ne&&delete De[G],nt(z,G,K),ne&&z!==De&&nt(De,G,ne)}:nt,Ut=function(z,G){var K=Qe[z]=N(Ae[Ve]);return yt(K,{type:We,tag:z,description:G}),p||(K.description=G),K},C=v?function(z){return typeof z=="symbol"}:function(z){return Object(z)instanceof Ae},I=function(G,K,ne){G===De&&I(pt,K,ne),O(G);var re=w(K,!0);return O(ne),y(Qe,re)?(ne.enumerable?(y(G,pe)&&G[pe][re]&&(G[pe][re]=!1),ne=N(ne,{enumerable:S(0,!1)})):(y(G,pe)||nt(G,pe,S(1,{})),G[pe][re]=!0),jt(G,re,ne)):nt(G,re,ne)},P=function(G,K){O(G);var ne=h(K),re=L(ne).concat(le(ne));return de(re,function($e){(!p||$.call(ne,$e))&&I(G,$e,ne[$e])}),G},A=function(G,K){return K===void 0?N(G):P(N(G),K)},$=function(G){var K=w(G,!0),ne=On.call(this,K);return this===De&&y(Qe,K)&&!y(pt,K)?!1:ne||!y(this,K)||!y(Qe,K)||y(this,pe)&&this[pe][K]?ne:!0},X=function(G,K){var ne=h(G),re=w(K,!0);if(!(ne===De&&y(Qe,re)&&!y(pt,re))){var $e=tt(ne,re);return $e&&y(Qe,re)&&!(y(ne,pe)&&ne[pe][re])&&($e.enumerable=!0),$e}},k=function(G){var K=tn(h(G)),ne=[];return de(K,function(re){!y(Qe,re)&&!y(ue,re)&&ne.push(re)}),ne},le=function(G){var K=G===De,ne=tn(K?pt:h(G)),re=[];return de(ne,function($e){y(Qe,$e)&&(!K||y(De,$e))&&re.push(Qe[$e])}),re};if(c||(Ae=function(){if(this instanceof Ae)throw TypeError("Symbol is not a constructor");var G=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),K=Te(G),ne=function(re){this===De&&ne.call(pt,re),y(this,pe)&&y(this[pe],K)&&(this[pe][K]=!1),jt(this,K,S(1,re))};return p&&Ft&&jt(De,K,{configurable:!0,set:ne}),Ut(K,G)},F(Ae[Ve],"toString",function(){return ct(this).tag}),F(Ae,"withoutSetter",function(z){return Ut(Te(z),z)}),V.f=$,x.f=I,Y.f=X,T.f=R.f=k,U.f=le,ve.f=function(z){return Ut(he(z),z)},p&&(nt(Ae[Ve],"description",{configurable:!0,get:function(){return ct(this).description}}),f||F(De,"propertyIsEnumerable",$,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:Ae}),de(L(Vt),function(z){Ie(z)}),i({target:We,stat:!0,forced:!c},{for:function(z){var G=String(z);if(y(Ct,G))return Ct[G];var K=Ae(G);return Ct[G]=K,Lt[K]=G,K},keyFor:function(G){if(!C(G))throw TypeError(G+" is not a symbol");if(y(Lt,G))return Lt[G]},useSetter:function(){Ft=!0},useSimple:function(){Ft=!1}}),i({target:"Object",stat:!0,forced:!c,sham:!p},{create:A,defineProperty:I,defineProperties:P,getOwnPropertyDescriptor:X}),i({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:k,getOwnPropertySymbols:le}),i({target:"Object",stat:!0,forced:g(function(){U.f(1)})},{getOwnPropertySymbols:function(G){return U.f(m(G))}}),bt){var Se=!c||g(function(){var z=Ae();return bt([z])!="[null]"||bt({a:z})!="{}"||bt(Object(z))!="{}"});i({target:"JSON",stat:!0,forced:Se},{stringify:function(G,K,ne){for(var re=[G],$e=1,wn;arguments.length>$e;)re.push(arguments[$e++]);if(wn=K,!(!E(K)&&G===void 0||C(G)))return u(K)||(K=function(Hr,nn){if(typeof wn=="function"&&(nn=wn.call(this,Hr,nn)),!C(nn))return nn}),re[1]=K,bt.apply(null,re)}})}Ae[Ve][it]||J(Ae[Ve],it,Ae[Ve].valueOf),Ce(Ae,We),ue[pe]=!0},a630:function(a,d,n){var i=n("23e7"),o=n("4df4"),s=n("1c7e"),f=!s(function(p){Array.from(p)});i({target:"Array",stat:!0,forced:f},{from:o})},a640:function(a,d,n){var i=n("d039");a.exports=function(o,s){var f=[][o];return!!f&&i(function(){f.call(null,s||function(){throw 1},1)})}},a691:function(a,d){var n=Math.ceil,i=Math.floor;a.exports=function(o){return isNaN(o=+o)?0:(o>0?i:n)(o)}},ab13:function(a,d,n){var i=n("b622"),o=i("match");a.exports=function(s){var f=/./;try{"/./"[s](f)}catch{try{return f[o]=!1,"/./"[s](f)}catch{}}return!1}},ac1f:function(a,d,n){var i=n("23e7"),o=n("9263");i({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},ad6d:function(a,d,n){var i=n("825a");a.exports=function(){var o=i(this),s="";return o.global&&(s+="g"),o.ignoreCase&&(s+="i"),o.multiline&&(s+="m"),o.dotAll&&(s+="s"),o.unicode&&(s+="u"),o.sticky&&(s+="y"),s}},ae40:function(a,d,n){var i=n("83ab"),o=n("d039"),s=n("5135"),f=Object.defineProperty,p={},c=function(v){throw v};a.exports=function(v,g){if(s(p,v))return p[v];g||(g={});var y=[][v],u=s(g,"ACCESSORS")?g.ACCESSORS:!1,E=s(g,0)?g[0]:c,O=s(g,1)?g[1]:void 0;return p[v]=!!y&&!o(function(){if(u&&!i)return!0;var m={length:-1};u?f(m,1,{enumerable:!0,get:c}):m[1]=1,y.call(m,E,O)})}},ae93:function(a,d,n){var i=n("e163"),o=n("9112"),s=n("5135"),f=n("b622"),p=n("c430"),c=f("iterator"),v=!1,g=function(){return this},y,u,E;[].keys&&(E=[].keys(),"next"in E?(u=i(i(E)),u!==Object.prototype&&(y=u)):v=!0),y==null&&(y={}),!p&&!s(y,c)&&o(y,c,g),a.exports={IteratorPrototype:y,BUGGY_SAFARI_ITERATORS:v}},b041:function(a,d,n){var i=n("00ee"),o=n("f5df");a.exports=i?{}.toString:function(){return"[object "+o(this)+"]"}},b0c0:function(a,d,n){var i=n("83ab"),o=n("9bf2").f,s=Function.prototype,f=s.toString,p=/^\s*function ([^ (]*)/,c="name";i&&!(c in s)&&o(s,c,{configurable:!0,get:function(){try{return f.call(this).match(p)[1]}catch{return""}}})},b622:function(a,d,n){var i=n("da84"),o=n("5692"),s=n("5135"),f=n("90e3"),p=n("4930"),c=n("fdbf"),v=o("wks"),g=i.Symbol,y=c?g:g&&g.withoutSetter||f;a.exports=function(u){return s(v,u)||(p&&s(g,u)?v[u]=g[u]:v[u]=y("Symbol."+u)),v[u]}},b64b:function(a,d,n){var i=n("23e7"),o=n("7b0b"),s=n("df75"),f=n("d039"),p=f(function(){s(1)});i({target:"Object",stat:!0,forced:p},{keys:function(v){return s(o(v))}})},b727:function(a,d,n){var i=n("0366"),o=n("44ad"),s=n("7b0b"),f=n("50c4"),p=n("65f0"),c=[].push,v=function(g){var y=g==1,u=g==2,E=g==3,O=g==4,m=g==6,h=g==5||m;return function(w,S,N,L){for(var T=s(w),R=o(T),U=i(S,N,3),Y=f(R.length),x=0,V=L||p,J=y?V(w,Y):u?V(w,0):void 0,F,H;Y>x;x++)if((h||x in R)&&(F=R[x],H=U(F,x,T),g)){if(y)J[x]=H;else if(H)switch(g){case 3:return!0;case 5:return F;case 6:return x;case 2:c.call(J,F)}else if(O)return!1}return m?-1:E||O?O:J}};a.exports={forEach:v(0),map:v(1),filter:v(2),some:v(3),every:v(4),find:v(5),findIndex:v(6)}},c04e:function(a,d,n){var i=n("861d");a.exports=function(o,s){if(!i(o))return o;var f,p;if(s&&typeof(f=o.toString)=="function"&&!i(p=f.call(o))||typeof(f=o.valueOf)=="function"&&!i(p=f.call(o))||!s&&typeof(f=o.toString)=="function"&&!i(p=f.call(o)))return p;throw TypeError("Can't convert object to primitive value")}},c430:function(a,d){a.exports=!1},c6b6:function(a,d){var n={}.toString;a.exports=function(i){return n.call(i).slice(8,-1)}},c6cd:function(a,d,n){var i=n("da84"),o=n("ce4e"),s="__core-js_shared__",f=i[s]||o(s,{});a.exports=f},c740:function(a,d,n){var i=n("23e7"),o=n("b727").findIndex,s=n("44d2"),f=n("ae40"),p="findIndex",c=!0,v=f(p);p in[]&&Array(1)[p](function(){c=!1}),i({target:"Array",proto:!0,forced:c||!v},{findIndex:function(y){return o(this,y,arguments.length>1?arguments[1]:void 0)}}),s(p)},c8ba:function(a,d){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch{typeof window=="object"&&(n=window)}a.exports=n},c975:function(a,d,n){var i=n("23e7"),o=n("4d64").indexOf,s=n("a640"),f=n("ae40"),p=[].indexOf,c=!!p&&1/[1].indexOf(1,-0)<0,v=s("indexOf"),g=f("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:c||!v||!g},{indexOf:function(u){return c?p.apply(this,arguments)||0:o(this,u,arguments.length>1?arguments[1]:void 0)}})},ca84:function(a,d,n){var i=n("5135"),o=n("fc6a"),s=n("4d64").indexOf,f=n("d012");a.exports=function(p,c){var v=o(p),g=0,y=[],u;for(u in v)!i(f,u)&&i(v,u)&&y.push(u);for(;c.length>g;)i(v,u=c[g++])&&(~s(y,u)||y.push(u));return y}},caad:function(a,d,n){var i=n("23e7"),o=n("4d64").includes,s=n("44d2"),f=n("ae40"),p=f("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:!p},{includes:function(v){return o(this,v,arguments.length>1?arguments[1]:void 0)}}),s("includes")},cc12:function(a,d,n){var i=n("da84"),o=n("861d"),s=i.document,f=o(s)&&o(s.createElement);a.exports=function(p){return f?s.createElement(p):{}}},ce4e:function(a,d,n){var i=n("da84"),o=n("9112");a.exports=function(s,f){try{o(i,s,f)}catch{i[s]=f}return f}},d012:function(a,d){a.exports={}},d039:function(a,d){a.exports=function(n){try{return!!n()}catch{return!0}}},d066:function(a,d,n){var i=n("428f"),o=n("da84"),s=function(f){return typeof f=="function"?f:void 0};a.exports=function(f,p){return arguments.length<2?s(i[f])||s(o[f]):i[f]&&i[f][p]||o[f]&&o[f][p]}},d1e7:function(a,d,n){var i={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,s=o&&!i.call({1:2},1);d.f=s?function(p){var c=o(this,p);return!!c&&c.enumerable}:i},d28b:function(a,d,n){var i=n("746f");i("iterator")},d2bb:function(a,d,n){var i=n("825a"),o=n("3bbe");a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s=!1,f={},p;try{p=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,p.call(f,[]),s=f instanceof Array}catch{}return function(v,g){return i(v),o(g),s?p.call(v,g):v.__proto__=g,v}}():void 0)},d3b7:function(a,d,n){var i=n("00ee"),o=n("6eeb"),s=n("b041");i||o(Object.prototype,"toString",s,{unsafe:!0})},d44e:function(a,d,n){var i=n("9bf2").f,o=n("5135"),s=n("b622"),f=s("toStringTag");a.exports=function(p,c,v){p&&!o(p=v?p:p.prototype,f)&&i(p,f,{configurable:!0,value:c})}},d58f:function(a,d,n){var i=n("1c0b"),o=n("7b0b"),s=n("44ad"),f=n("50c4"),p=function(c){return function(v,g,y,u){i(g);var E=o(v),O=s(E),m=f(E.length),h=c?m-1:0,w=c?-1:1;if(y<2)for(;;){if(h in O){u=O[h],h+=w;break}if(h+=w,c?h<0:m<=h)throw TypeError("Reduce of empty array with no initial value")}for(;c?h>=0:m>h;h+=w)h in O&&(u=g(u,O[h],h,E));return u}};a.exports={left:p(!1),right:p(!0)}},d784:function(a,d,n){n("ac1f");var i=n("6eeb"),o=n("d039"),s=n("b622"),f=n("9263"),p=n("9112"),c=s("species"),v=!o(function(){var O=/./;return O.exec=function(){var m=[];return m.groups={a:"7"},m},"".replace(O,"$<a>")!=="7"}),g=function(){return"a".replace(/./,"$0")==="$0"}(),y=s("replace"),u=function(){return/./[y]?/./[y]("a","$0")==="":!1}(),E=!o(function(){var O=/(?:)/,m=O.exec;O.exec=function(){return m.apply(this,arguments)};var h="ab".split(O);return h.length!==2||h[0]!=="a"||h[1]!=="b"});a.exports=function(O,m,h,w){var S=s(O),N=!o(function(){var x={};return x[S]=function(){return 7},""[O](x)!=7}),L=N&&!o(function(){var x=!1,V=/a/;return O==="split"&&(V={},V.constructor={},V.constructor[c]=function(){return V},V.flags="",V[S]=/./[S]),V.exec=function(){return x=!0,null},V[S](""),!x});if(!N||!L||O==="replace"&&!(v&&g&&!u)||O==="split"&&!E){var T=/./[S],R=h(S,""[O],function(x,V,J,F,H){return V.exec===f?N&&!H?{done:!0,value:T.call(V,J,F)}:{done:!0,value:x.call(J,V,F)}:{done:!1}},{REPLACE_KEEPS_$0:g,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:u}),U=R[0],Y=R[1];i(String.prototype,O,U),i(RegExp.prototype,S,m==2?function(x,V){return Y.call(x,this,V)}:function(x){return Y.call(x,this)})}w&&p(RegExp.prototype[S],"sham",!0)}},d81d:function(a,d,n){var i=n("23e7"),o=n("b727").map,s=n("1dde"),f=n("ae40"),p=s("map"),c=f("map");i({target:"Array",proto:!0,forced:!p||!c},{map:function(g){return o(this,g,arguments.length>1?arguments[1]:void 0)}})},da84:function(a,d,n){(function(i){var o=function(s){return s&&s.Math==Math&&s};a.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof i=="object"&&i)||Function("return this")()}).call(this,n("c8ba"))},dbb4:function(a,d,n){var i=n("23e7"),o=n("83ab"),s=n("56ef"),f=n("fc6a"),p=n("06cf"),c=n("8418");i({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(g){for(var y=f(g),u=p.f,E=s(y),O={},m=0,h,w;E.length>m;)w=u(y,h=E[m++]),w!==void 0&&c(O,h,w);return O}})},dbf1:function(a,d,n){(function(i){n.d(d,"a",function(){return s});function o(){return typeof window<"u"?window.console:i.console}var s=o()}).call(this,n("c8ba"))},ddb0:function(a,d,n){var i=n("da84"),o=n("fdbc"),s=n("e260"),f=n("9112"),p=n("b622"),c=p("iterator"),v=p("toStringTag"),g=s.values;for(var y in o){var u=i[y],E=u&&u.prototype;if(E){if(E[c]!==g)try{f(E,c,g)}catch{E[c]=g}if(E[v]||f(E,v,y),o[y]){for(var O in s)if(E[O]!==s[O])try{f(E,O,s[O])}catch{E[O]=s[O]}}}}},df75:function(a,d,n){var i=n("ca84"),o=n("7839");a.exports=Object.keys||function(f){return i(f,o)}},e01a:function(a,d,n){var i=n("23e7"),o=n("83ab"),s=n("da84"),f=n("5135"),p=n("861d"),c=n("9bf2").f,v=n("e893"),g=s.Symbol;if(o&&typeof g=="function"&&(!("description"in g.prototype)||g().description!==void 0)){var y={},u=function(){var S=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),N=this instanceof u?new g(S):S===void 0?g():g(S);return S===""&&(y[N]=!0),N};v(u,g);var E=u.prototype=g.prototype;E.constructor=u;var O=E.toString,m=String(g("test"))=="Symbol(test)",h=/^Symbol\((.*)\)[^)]+$/;c(E,"description",{configurable:!0,get:function(){var S=p(this)?this.valueOf():this,N=O.call(S);if(f(y,S))return"";var L=m?N.slice(7,-1):N.replace(h,"$1");return L===""?void 0:L}}),i({global:!0,forced:!0},{Symbol:u})}},e163:function(a,d,n){var i=n("5135"),o=n("7b0b"),s=n("f772"),f=n("e177"),p=s("IE_PROTO"),c=Object.prototype;a.exports=f?Object.getPrototypeOf:function(v){return v=o(v),i(v,p)?v[p]:typeof v.constructor=="function"&&v instanceof v.constructor?v.constructor.prototype:v instanceof Object?c:null}},e177:function(a,d,n){var i=n("d039");a.exports=!i(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},e260:function(a,d,n){var i=n("fc6a"),o=n("44d2"),s=n("3f8c"),f=n("69f3"),p=n("7dd0"),c="Array Iterator",v=f.set,g=f.getterFor(c);a.exports=p(Array,"Array",function(y,u){v(this,{type:c,target:i(y),index:0,kind:u})},function(){var y=g(this),u=y.target,E=y.kind,O=y.index++;return!u||O>=u.length?(y.target=void 0,{value:void 0,done:!0}):E=="keys"?{value:O,done:!1}:E=="values"?{value:u[O],done:!1}:{value:[O,u[O]],done:!1}},"values"),s.Arguments=s.Array,o("keys"),o("values"),o("entries")},e439:function(a,d,n){var i=n("23e7"),o=n("d039"),s=n("fc6a"),f=n("06cf").f,p=n("83ab"),c=o(function(){f(1)}),v=!p||c;i({target:"Object",stat:!0,forced:v,sham:!p},{getOwnPropertyDescriptor:function(y,u){return f(s(y),u)}})},e538:function(a,d,n){var i=n("b622");d.f=i},e893:function(a,d,n){var i=n("5135"),o=n("56ef"),s=n("06cf"),f=n("9bf2");a.exports=function(p,c){for(var v=o(c),g=f.f,y=s.f,u=0;u<v.length;u++){var E=v[u];i(p,E)||g(p,E,y(c,E))}}},e8b5:function(a,d,n){var i=n("c6b6");a.exports=Array.isArray||function(s){return i(s)=="Array"}},e95a:function(a,d,n){var i=n("b622"),o=n("3f8c"),s=i("iterator"),f=Array.prototype;a.exports=function(p){return p!==void 0&&(o.Array===p||f[s]===p)}},f5df:function(a,d,n){var i=n("00ee"),o=n("c6b6"),s=n("b622"),f=s("toStringTag"),p=o(function(){return arguments}())=="Arguments",c=function(v,g){try{return v[g]}catch{}};a.exports=i?o:function(v){var g,y,u;return v===void 0?"Undefined":v===null?"Null":typeof(y=c(g=Object(v),f))=="string"?y:p?o(g):(u=o(g))=="Object"&&typeof g.callee=="function"?"Arguments":u}},f772:function(a,d,n){var i=n("5692"),o=n("90e3"),s=i("keys");a.exports=function(f){return s[f]||(s[f]=o(f))}},fb15:function(a,d,n){if(n.r(d),typeof window<"u"){var i=window.document.currentScript;{var o=n("8875");i=o(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:o})}var s=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);s&&(n.p=s[1])}n("99af"),n("4de4"),n("4160"),n("c975"),n("d81d"),n("a434"),n("159b"),n("a4d3"),n("e439"),n("dbb4"),n("b64b");function f(C,I,P){return I in C?Object.defineProperty(C,I,{value:P,enumerable:!0,configurable:!0,writable:!0}):C[I]=P,C}function p(C,I){var P=Object.keys(C);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(C);I&&(A=A.filter(function($){return Object.getOwnPropertyDescriptor(C,$).enumerable})),P.push.apply(P,A)}return P}function c(C){for(var I=1;I<arguments.length;I++){var P=arguments[I]!=null?arguments[I]:{};I%2?p(Object(P),!0).forEach(function(A){f(C,A,P[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(P)):p(Object(P)).forEach(function(A){Object.defineProperty(C,A,Object.getOwnPropertyDescriptor(P,A))})}return C}function v(C){if(Array.isArray(C))return C}n("e01a"),n("d28b"),n("e260"),n("d3b7"),n("3ca3"),n("ddb0");function g(C,I){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(C)))){var P=[],A=!0,$=!1,X=void 0;try{for(var k=C[Symbol.iterator](),le;!(A=(le=k.next()).done)&&(P.push(le.value),!(I&&P.length===I));A=!0);}catch(Se){$=!0,X=Se}finally{try{!A&&k.return!=null&&k.return()}finally{if($)throw X}}return P}}n("a630"),n("fb6a"),n("b0c0"),n("25f0");function y(C,I){(I==null||I>C.length)&&(I=C.length);for(var P=0,A=new Array(I);P<I;P++)A[P]=C[P];return A}function u(C,I){if(C){if(typeof C=="string")return y(C,I);var P=Object.prototype.toString.call(C).slice(8,-1);if(P==="Object"&&C.constructor&&(P=C.constructor.name),P==="Map"||P==="Set")return Array.from(C);if(P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return y(C,I)}}function E(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O(C,I){return v(C)||g(C,I)||u(C,I)||E()}function m(C){if(Array.isArray(C))return y(C)}function h(C){if(typeof Symbol<"u"&&Symbol.iterator in Object(C))return Array.from(C)}function w(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(C){return m(C)||h(C)||u(C)||w()}var N=n("a352"),L=n.n(N);function T(C){C.parentElement!==null&&C.parentElement.removeChild(C)}function R(C,I,P){var A=P===0?C.children[0]:C.children[P-1].nextSibling;C.insertBefore(I,A)}var U=n("dbf1");n("13d5"),n("4fad"),n("ac1f"),n("5319");function Y(C){var I=Object.create(null);return function(A){var $=I[A];return $||(I[A]=C(A))}}var x=/-(\w)/g,V=Y(function(C){return C.replace(x,function(I,P){return P.toUpperCase()})});n("5db7"),n("73d9");var J=["Start","Add","Remove","Update","End"],F=["Choose","Unchoose","Sort","Filter","Clone"],H=["Move"],ae=[H,J,F].flatMap(function(C){return C}).map(function(C){return"on".concat(C)}),ue={manage:H,manageAndEmit:J,emit:F};function Te(C){return ae.indexOf(C)!==-1}n("caad"),n("2ca0");var he=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function ve(C){return he.includes(C)}function Ie(C){return["transition-group","TransitionGroup"].includes(C)}function Ce(C){return["id","class","role","style"].includes(C)||C.startsWith("data-")||C.startsWith("aria-")||C.startsWith("on")}function Ee(C){return C.reduce(function(I,P){var A=O(P,2),$=A[0],X=A[1];return I[$]=X,I},{})}function de(C){var I=C.$attrs,P=C.componentData,A=P===void 0?{}:P,$=Ee(Object.entries(I).filter(function(X){var k=O(X,2),le=k[0];return k[1],Ce(le)}));return c(c({},$),A)}function pe(C){var I=C.$attrs,P=C.callBackBuilder,A=Ee(We(I));Object.entries(P).forEach(function(X){var k=O(X,2),le=k[0],Se=k[1];ue[le].forEach(function(z){A["on".concat(z)]=Se(z)})});var $="[data-draggable]".concat(A.draggable||"");return c(c({},A),{},{draggable:$})}function We(C){return Object.entries(C).filter(function(I){var P=O(I,2),A=P[0];return P[1],!Ce(A)}).map(function(I){var P=O(I,2),A=P[0],$=P[1];return[V(A),$]}).filter(function(I){var P=O(I,2),A=P[0];return P[1],!Te(A)})}n("c740");function Ve(C,I){if(!(C instanceof I))throw new TypeError("Cannot call a class as a function")}function it(C,I){for(var P=0;P<I.length;P++){var A=I[P];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(C,A.key,A)}}function yt(C,I,P){return I&&it(C.prototype,I),P&&it(C,P),C}var ct=function(I){var P=I.el;return P},De=function(I,P){return I.__draggable_context=P},Ae=function(I){return I.__draggable_context},bt=function(){function C(I){var P=I.nodes,A=P.header,$=P.default,X=P.footer,k=I.root,le=I.realList;Ve(this,C),this.defaultNodes=$,this.children=[].concat(S(A),S($),S(X)),this.externalComponent=k.externalComponent,this.rootTransition=k.transition,this.tag=k.tag,this.realList=le}return yt(C,[{key:"render",value:function(P,A){var $=this.tag,X=this.children,k=this._isRootComponent,le=k?{default:function(){return X}}:X;return P($,A,le)}},{key:"updated",value:function(){var P=this.defaultNodes,A=this.realList;P.forEach(function($,X){De(ct($),{element:A[X],index:X})})}},{key:"getUnderlyingVm",value:function(P){return Ae(P)}},{key:"getVmIndexFromDomIndex",value:function(P,A){var $=this.defaultNodes,X=$.length,k=A.children,le=k.item(P);if(le===null)return X;var Se=Ae(le);if(Se)return Se.index;if(X===0)return 0;var z=ct($[0]),G=S(k).findIndex(function(K){return K===z});return P<G?0:X}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),C}(),tt=n("8bbf");function nt(C,I){var P=C[I];return P?P():[]}function tn(C){var I=C.$slots,P=C.realList,A=C.getKey,$=P||[],X=["header","footer"].map(function(K){return nt(I,K)}),k=O(X,2),le=k[0],Se=k[1],z=I.item;if(!z)throw new Error("draggable element must have an item slot");var G=$.flatMap(function(K,ne){return z({element:K,index:ne}).map(function(re){return re.key=A(K),re.props=c(c({},re.props||{}),{},{"data-draggable":!0}),re})});if(G.length!==$.length)throw new Error("Item slot must have only one child");return{header:le,footer:Se,default:G}}function On(C){var I=Ie(C),P=!ve(C)&&!I;return{transition:I,externalComponent:P,tag:P?Object(tt.resolveComponent)(C):I?tt.TransitionGroup:C}}function Qe(C){var I=C.$slots,P=C.tag,A=C.realList,$=C.getKey,X=tn({$slots:I,realList:A,getKey:$}),k=On(P);return new bt({nodes:X,root:k,realList:A})}function pt(C,I){var P=this;Object(tt.nextTick)(function(){return P.$emit(C.toLowerCase(),I)})}function Ct(C){var I=this;return function(P,A){if(I.realList!==null)return I["onDrag".concat(C)](P,A)}}function Lt(C){var I=this,P=Ct.call(this,C);return function(A,$){P.call(I,A,$),pt.call(I,C,A)}}var Vt=null,Rt={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(I){return I}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},Ft=["update:modelValue","change"].concat(S([].concat(S(ue.manageAndEmit),S(ue.emit)).map(function(C){return C.toLowerCase()}))),jt=Object(tt.defineComponent)({name:"draggable",inheritAttrs:!1,props:Rt,emits:Ft,data:function(){return{error:!1}},render:function(){try{this.error=!1;var I=this.$slots,P=this.$attrs,A=this.tag,$=this.componentData,X=this.realList,k=this.getKey,le=Qe({$slots:I,tag:A,realList:X,getKey:k});this.componentStructure=le;var Se=de({$attrs:P,componentData:$});return le.render(tt.h,Se)}catch(z){return this.error=!0,Object(tt.h)("pre",{style:{color:"red"}},z.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&U.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var I=this;if(!this.error){var P=this.$attrs,A=this.$el,$=this.componentStructure;$.updated();var X=pe({$attrs:P,callBackBuilder:{manageAndEmit:function(Se){return Lt.call(I,Se)},emit:function(Se){return pt.bind(I,Se)},manage:function(Se){return Ct.call(I,Se)}}}),k=A.nodeType===1?A:A.parentElement;this._sortable=new L.a(k,X),this.targetDomElement=k,k.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var I=this.list;return I||this.modelValue},getKey:function(){var I=this.itemKey;return typeof I=="function"?I:function(P){return P[I]}}},watch:{$attrs:{handler:function(I){var P=this._sortable;P&&We(I).forEach(function(A){var $=O(A,2),X=$[0],k=$[1];P.option(X,k)})},deep:!0}},methods:{getUnderlyingVm:function(I){return this.componentStructure.getUnderlyingVm(I)||null},getUnderlyingPotencialDraggableComponent:function(I){return I.__draggable_component__},emitChanges:function(I){var P=this;Object(tt.nextTick)(function(){return P.$emit("change",I)})},alterList:function(I){if(this.list){I(this.list);return}var P=S(this.modelValue);I(P),this.$emit("update:modelValue",P)},spliceList:function(){var I=arguments,P=function($){return $.splice.apply($,S(I))};this.alterList(P)},updatePosition:function(I,P){var A=function(X){return X.splice(P,0,X.splice(I,1)[0])};this.alterList(A)},getRelatedContextFromMoveEvent:function(I){var P=I.to,A=I.related,$=this.getUnderlyingPotencialDraggableComponent(P);if(!$)return{component:$};var X=$.realList,k={list:X,component:$};if(P!==A&&X){var le=$.getUnderlyingVm(A)||{};return c(c({},le),k)}return k},getVmIndexFromDomIndex:function(I){return this.componentStructure.getVmIndexFromDomIndex(I,this.targetDomElement)},onDragStart:function(I){this.context=this.getUnderlyingVm(I.item),I.item._underlying_vm_=this.clone(this.context.element),Vt=I.item},onDragAdd:function(I){var P=I.item._underlying_vm_;if(P!==void 0){T(I.item);var A=this.getVmIndexFromDomIndex(I.newIndex);this.spliceList(A,0,P);var $={element:P,newIndex:A};this.emitChanges({added:$})}},onDragRemove:function(I){if(R(this.$el,I.item,I.oldIndex),I.pullMode==="clone"){T(I.clone);return}var P=this.context,A=P.index,$=P.element;this.spliceList(A,1);var X={element:$,oldIndex:A};this.emitChanges({removed:X})},onDragUpdate:function(I){T(I.item),R(I.from,I.item,I.oldIndex);var P=this.context.index,A=this.getVmIndexFromDomIndex(I.newIndex);this.updatePosition(P,A);var $={element:this.context.element,oldIndex:P,newIndex:A};this.emitChanges({moved:$})},computeFutureIndex:function(I,P){if(!I.element)return 0;var A=S(P.to.children).filter(function(le){return le.style.display!=="none"}),$=A.indexOf(P.related),X=I.component.getVmIndexFromDomIndex($),k=A.indexOf(Vt)!==-1;return k||!P.willInsertAfter?X:X+1},onDragMove:function(I,P){var A=this.move,$=this.realList;if(!A||!$)return!0;var X=this.getRelatedContextFromMoveEvent(I),k=this.computeFutureIndex(X,I),le=c(c({},this.context),{},{futureIndex:k}),Se=c(c({},I),{},{relatedContext:X,draggedContext:le});return A(Se,P)},onDragEnd:function(){Vt=null}}}),Ut=jt;d.default=Ut},fb6a:function(a,d,n){var i=n("23e7"),o=n("861d"),s=n("e8b5"),f=n("23cb"),p=n("50c4"),c=n("fc6a"),v=n("8418"),g=n("b622"),y=n("1dde"),u=n("ae40"),E=y("slice"),O=u("slice",{ACCESSORS:!0,0:0,1:2}),m=g("species"),h=[].slice,w=Math.max;i({target:"Array",proto:!0,forced:!E||!O},{slice:function(N,L){var T=c(this),R=p(T.length),U=f(N,R),Y=f(L===void 0?R:L,R),x,V,J;if(s(T)&&(x=T.constructor,typeof x=="function"&&(x===Array||s(x.prototype))?x=void 0:o(x)&&(x=x[m],x===null&&(x=void 0)),x===Array||x===void 0))return h.call(T,U,Y);for(V=new(x===void 0?Array:x)(w(Y-U,0)),J=0;U<Y;U++,J++)U in T&&v(V,J,T[U]);return V.length=J,V}})},fc6a:function(a,d,n){var i=n("44ad"),o=n("1d80");a.exports=function(s){return i(o(s))}},fdbc:function(a,d){a.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(a,d,n){var i=n("4930");a.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(xr);var Jo=xr.exports;const Zo=Yr(Jo);function Qo(e){let t={};t.description={name:e.name,image:"",description:"",cr:parseInt(e.cr?.cr??e.cr),isProperNoun:e.isNamedCreature??!1,environment:(e?.environment??[]).join(", "),faction:"",alignment:(()=>{let m={L:"Lawful",N:"Neutral",NX:"Neutral",NY:"Neutral",C:"Chaotic",G:"Good",E:"Evil",U:"Unaligned",A:"Any"};return(e?.alignmentPrefix??"")+(e.alignment??[]).map(h=>m[h]).join(" ")})(),xp:Cr(parseInt(e.cr?.cr??e.cr))},t.core={proficiencyBonus:Math.max(2,Math.min(9,Math.floor((t.description.cr+3)/4))+1),race:(()=>{let m=e.type;if(typeof m=="string")return Me(m);let h=m.type;return!m?.tags||m?.tags.length==0?Me(h):typeof m?.tags[0]=="string"?Me(h)+` (${m?.tags.map(w=>Me(w)).join(" ")})`:typeof m?.tags[0]=="object"?Me(h)+" "+m?.tags.map(w=>`${Me(w.prefix)}} ${Me(w.tag)}`).join(", "):""})(),size:(()=>{let m={F:"Fine",D:"Diminutive",T:"Tiny",S:"Small",M:"Medium",L:"Large",H:"Huge",G:"Gargantuan",C:"Collosal",V:"Varies"};return(e?.size??[]).map(h=>m[h]).join(" or ")})(),languages:e.languages?e?.languages.filter(m=>!m.includes("telepathy")):[],senses:(()=>{let m=[];for(let h of e.senses??[]){let w=parseInt(h.replace(/[a-zA-Z]/g,"")),S="",N=!1;h.toLowerCase().includes("dark")?S="Darkvision":h.toLowerCase().includes("blind")?(S="Blindsight",N=!!(e.senses??[]).find(L=>L.includes("blind beyond this radius"))):h.toLowerCase().includes("true")?S="Truesight":h.toLowerCase().includes("tremor")&&(S="Tremorsense"),S&&m.push({name:S,value:w,unit:"ft",comment:N?"blind beyond this radius":""})}return m})(),speed:(()=>{let m=[],h=parseInt(e?.speed?.fly)||e?.speed?.fly?.number||0,w=e?.speed?.canHover||!1,S=parseInt(e?.speed?.swim)||e?.speed?.swim?.number||0,N=parseInt(e?.speed?.burrow)||e?.speed?.burrow?.number||0,L=parseInt(e?.speed?.climb)||e?.speed?.climb?.number||0,T=parseInt(e?.speed?.walk)||e?.speed?.walk?.number||0;return T&&m.push({name:"Walk",value:T,comment:"",unit:"ft"}),h&&m.push({name:"Fly",value:h,comment:w?"hover":"",unit:"ft"}),L&&m.push({name:"Climb",value:L,comment:"",unit:"ft"}),S&&m.push({name:"Swim",value:S,comment:"",unit:"ft"}),N&&m.push({name:"Burrow",value:N,comment:"",unit:"ft"}),m})()},t.abilities={stats:{str:e.str,dex:e.dex,con:e.con,int:e.int,wis:e.wis,cha:e.cha},saves:{str:(()=>{let m=e?.save?.str??null;if(!m)return{isProficient:!1,override:null};let h=t.core.proficiencyBonus+(Math.floor(e.str/2)-5);return m==h?{isProficient:!0,override:null}:m!=h?{isProficient:!1,override:m}:{isProficient:!1,override:null}})(),dex:(()=>{let m=parseInt(e?.save?.dex)??null;if(!m)return{isProficient:!1,override:null};let h=t.core.proficiencyBonus+(Math.floor(e.dex/2)-5);return m==h?{isProficient:!0,override:null}:m!=h?{isProficient:!1,override:m}:{isProficient:!1,override:null}})(),con:(()=>{let m=parseInt(e?.save?.con)??null;if(!m)return{isProficient:!1,override:null};let h=t.core.proficiencyBonus+(Math.floor(e.con/2)-5);return m==h?{isProficient:!0,override:null}:m!=h?{isProficient:!1,override:m}:{isProficient:!1,override:null}})(),int:(()=>{let m=parseInt(e?.save?.int)??null;if(!m)return{isProficient:!1,override:null};let h=t.core.proficiencyBonus+(Math.floor(e.int/2)-5);return m==h?{isProficient:!0,override:null}:m!=h?{isProficient:!1,override:m}:{isProficient:!1,override:null}})(),wis:(()=>{let m=parseInt(e?.save?.wis)??null;if(!m)return{isProficient:!1,override:null};let h=t.core.proficiencyBonus+(Math.floor(e.wis/2)-5);return m==h?{isProficient:!0,override:null}:m!=h?{isProficient:!1,override:m}:{isProficient:!1,override:null}})(),cha:(()=>{let m=parseInt(e?.save?.cha)??null;if(!m)return{isProficient:!1,override:null};let h=t.core.proficiencyBonus+(Math.floor(e.cha/2)-5);return m==h?{isProficient:!0,override:null}:m!=h?{isProficient:!1,override:m}:{isProficient:!1,override:null}})()},skills:(()=>{if(!e.skill)return[];let m=[];const h={str:["athletics"],dex:["acrobatics","sleightofhand","stealth"],con:[],int:["arcana","history","investigation","nature","religion"],wis:["animalhandling","insight","medicine","perception","survival"],cha:["deception","intimidation","performance","persuasion"]};for(let w in e.skill){let S=Me(w.replace("animal handling","Animal Handling").replace("sleight of hand","Sleight of Hand")),N=S.replace(" ","").toLowerCase(),L;for(let x in h)if(h[x].includes(N)){L=x;break}if(!L)continue;let T=parseInt(e.skill[w])==t.core.proficiencyBonus+(Math.floor(e[L]/2)-5),R=parseInt(e.skill[w])==Math.floor(t.core.proficiencyBonus*2)+(Math.floor(e[L]/2)-5),U=parseInt(e.skill[w])==Math.floor(t.core.proficiencyBonus/2)+(Math.floor(e[L]/2)-5),Y=null;!T&&!R&&!U&&(Y=parseInt(e.skill[w])),m.push({skillName:S,isProficient:T,isExpertise:R,isHalfProficient:U,override:Y})}return m})()},t.defenses={hp:{numOfHitDie:parseInt((e.hp.formula||"1d6").split("d")[0]),sizeOfHitDie:parseInt(((e.hp.formula||"1d6").match(/\dd(\d+)/)||[])[1])||6,override:e.hp.special||null},ac:{ac:parseInt(e.ac[0])||parseInt(e.ac[0].ac),acSource:typeof e.ac[0]!="object"?"":(e.ac[0].from[0]??"").replace(/\{@item\s+[^|]+\|[^|]+\|([^}]+)\}/,"$1")},immunities:(()=>{let m=[];if(!e.immune)return[];for(let h of e?.immune)if(typeof h=="string")m.push(Me(h));else{let w=h.immune,S="";h.note&&(h.note.includes("from magic weapons")&&(S+="Magical "),h.note.includes("from silvered weapons")&&(S+="Silvered "),h.note.includes("from adamantine weapons")&&(S+="Adamantine "),h.note.includes("from nonmagical attacks")&&(S+="Nonmagical "),h.note.includes("from nonsilvered attacks")&&(S+="Nonsilvered "),h.note.includes("from nonadamantine attacks")&&(S+="Nonadamantine "),h.note.includes("that aren't magical")&&(S+="Nonmagical "),h.note.includes("that aren't silvered")&&(S+="Nonsilvered "),h.note.includes("that aren't adamantine")&&(S+="Nonadamantine "),h.note.includes("not made with magical")&&(S+="Nonmagical "),h.note.includes("not made with silvered")&&(S+="Nonsilvered "),h.note.includes("not made with adamantine")&&(S+="Nonadamantine "));for(let N of w)m.push(`${S}${Me(N)}`)}return m})(),resistances:(()=>{let m=[];if(!e.resist)return[];for(let h of e?.resist)if(typeof h=="string")m.push(Me(h));else{let w=h.resist,S="";h.note&&(h.note.includes("from magic weapons")&&(S+="Magical "),h.note.includes("from silvered weapons")&&(S+="Silvered "),h.note.includes("from adamantine weapons")&&(S+="Adamantine "),h.note.includes("from nonmagical attacks")&&(S+="Nonmagical "),h.note.includes("from nonsilvered attacks")&&(S+="Nonsilvered "),h.note.includes("from nonadamantine attacks")&&(S+="Nonadamantine "),h.note.includes("that aren't magical")&&(S+="Nonmagical "),h.note.includes("that aren't silvered")&&(S+="Nonsilvered "),h.note.includes("that aren't adamantine")&&(S+="Nonadamantine "),h.note.includes("not made with magical")&&(S+="Nonmagical "),h.note.includes("not made with silvered")&&(S+="Nonsilvered "),h.note.includes("not made with adamantine")&&(S+="Nonadamantine "));for(let N of w)m.push(`${S}${Me(N)}`)}return m})(),vulnerabilities:(()=>{let m=[];if(!e.vulnerable)return[];for(let h of e?.vulnerable)if(typeof h=="string")m.push(Me(h));else{let w=h.vulnerable,S="";h.note&&(h.note.includes("from magic weapons")&&(S+="Magical "),h.note.includes("from silvered weapons")&&(S+="Silvered "),h.note.includes("from adamantine weapons")&&(S+="Adamantine "),h.note.includes("from nonmagical attacks")&&(S+="Nonmagical "),h.note.includes("from nonsilvered attacks")&&(S+="Nonsilvered "),h.note.includes("from nonadamantine attacks")&&(S+="Nonadamantine "),h.note.includes("that aren't magical")&&(S+="Nonmagical "),h.note.includes("that aren't silvered")&&(S+="Nonsilvered "),h.note.includes("that aren't adamantine")&&(S+="Nonadamantine "),h.note.includes("not made with magical")&&(S+="Nonmagical "),h.note.includes("not made with silvered")&&(S+="Nonsilvered "),h.note.includes("not made with adamantine")&&(S+="Nonadamantine "));for(let N of w)m.push(`${S}${Me(N)}`)}return m})(),conditionImmunities:(e?.conditionImmune||[]).map(m=>Me(m))},t.spellcasting={innateSpells:{spellList:(()=>{let m=[],h={0:[],1:[],2:[],3:[]};for(let w of e?.spellcasting??[])w.name.includes("Innate Spellcasting")&&(m=w);if(!m)return h;if(m.will&&(m.daily?m.daily["0e"]=m.will:m.daily={"0e":m.will}),m.daily)for(let w in m.daily){let S=parseInt(w.replace("e",""));if(S>=0&&S<4)for(let N of m.daily[w]){let L=N.replace("{@spell ","");L=L.split("}"),L&&h[S].push({spell:Bn.find(T=>T.toLowerCase()===L[0].toLowerCase())||L[0],comment:L[1].replace(" (","").replace(")","")??""})}}return h})(),spellDcOverride:(()=>{let m=[];for(let S of e?.spellcasting??[])S.name.includes("Innate Spellcasting")&&(m=S);if(!m||!m.headerEntries)return null;const h=m.headerEntries[0].match(/\{@dc\s+(\d+)\}/),w=h?parseInt(h[1]):null;return w&&w!=8+t.core.proficiencyBonus+(Math.floor(e[m.ability]/2)-5)?w:null})(),spellBonusOverride:(()=>{let m=[];for(let S of e?.spellcasting??[])S.name.includes("Innate Spellcasting")&&(m=S);if(!m||!m.headerEntries)return null;const h=m.headerEntries[0].match(/\{@hit\s+(\d+)\}/),w=h?parseInt(h[1]):null;return w&&w!=t.core.proficiencyBonus+(Math.floor(e[m.ability]/2)-5)?w:null})(),displayAsAction:(()=>{let m=[];for(let h of e?.spellcasting??[])h.name.includes("Innate Spellcasting")&&(m=h);return!m||!m.displayAs?!1:m?.displayAs=="action"})(),noComponentsOfType:(()=>{let m=[];for(let w of e?.spellcasting??[])w.name.includes("Innate Spellcasting")&&(m=w);if(!m||!m.headerEntries)return["Material","Verbal","Somatic"];const h=m.headerEntries[0];return h.includes("requiring no components")||h.includes("requiring no spell components")?["Material","Somatic","Verbal"]:h.includes("requiring only verbal")?["Material","Somatic"]:h.includes("requiring only somatic")?["Material","Verbal"]:h.includes("requiring only material")?["Somatic","Verbal"]:h.includes("requiring no material")?["Material"]:h.includes("requiring no somatic")?["Somatic"]:h.includes("requiring no verbal")?["Verbal"]:["Material","Somatic","Verbal"]})(),spellCastingAbility:(()=>{for(let m of e?.spellcasting??[])if(m.name.includes("Innate Spellcasting"))return m.ability;return null})(),isPsionics:(()=>{for(let m of e?.spellcasting??[])if(m.name.includes("Innate Spellcasting (Psionics)"))return!0;return!1})()},casterSpells:{casterLevel:(()=>{let m=[];for(let S of e?.spellcasting??[])S.name.includes("Spellcasting")&&!S.name.includes("Innate")&&(m=S);if(!m||!m.headerEntries)return null;const h=/\b(\w+-level)\b/,w=m.headerEntries[0].match(h);return w?Math.max(0,Math.min(20,parseInt(w[1].replace("-level","").replace("st","").replace("nd","").replace("rd","").replace("th","")))):null})(),castingClass:(()=>{let m=[];for(let w of e?.spellcasting??[])w.name.includes("Spellcasting")&&!w.name.includes("Innate")&&(m=w);if(!m||!m.headerEntries)return null;const h=m.headerEntries[0];return h.toLowerCase().includes("wizard")?"Wizard":h.toLowerCase().includes("ranger")?"Ranger":h.toLowerCase().includes("sorcerer")?"Sorcerer":h.toLowerCase().includes("bard")?"Bard":h.toLowerCase().includes("druid")?"Druid":h.toLowerCase().includes("artificer")?"Artificer":h.toLowerCase().includes("cleric")?"Cleric":h.toLowerCase().includes("warlock")?"Warlock":h.toLowerCase().includes("paladin")?"Paladin":null})(),spellList:(()=>{let m=[[],[],[],[],[],[],[],[],[],[]],h=[];for(let w of e?.spellcasting??[])w.name.includes("Spellcasting")&&!w.name.includes("Innate")&&(h=w);if(!h.spells)return m;for(let w in h.spells)for(let S of h.spells[w].spells){let N=S.replace("{@spell ","");N=N.split("}"),N&&m[parseInt(w)].push(Bn.find(L=>L.toLowerCase()===N[0].toLowerCase())||N[0])}return m})(),spellSlotList:(()=>{let m=[],h={};for(let w of e?.spellcasting??[])w.name.includes("Spellcasting")&&!w.name.includes("Innate")&&(m=w);if(!m.spells)return h;for(let w in m.spells)parseInt(w)!=0&&(h[parseInt(w)]=m.spells[w].slots??0);return h})(),spellBonusOverride:(()=>{let m=[];for(let S of e?.spellcasting??[])S.name.includes("Spellcasting")&&!S.name.includes("Innate")&&(m=S);if(!m||!m.headerEntries)return null;const h=m.headerEntries[0].match(/\{@hit\s+(\d+)\}/),w=h?parseInt(h[1]):null;return w&&w!=t.core.proficiencyBonus+(Math.floor(e[m.ability]/2)-5)?w:null})(),spellDcOverride:(()=>{let m=[];for(let S of e?.spellcasting??[])S.name.includes("Spellcasting")&&!S.name.includes("Innate")&&(m=S);if(!m||!m.headerEntries)return null;const h=m.headerEntries[0].match(/\{@dc\s+(\d+)\}/),w=h?parseInt(h[1]):null;return w&&w!=8+t.core.proficiencyBonus+(Math.floor(e[m.ability]/2)-5)?w:null})(),spellCastingAbilityOverride:null,spellCastingAbility:(()=>{let m=[];for(let h of e?.spellcasting??[])h.name.includes("Spellcasting")&&!h.name.includes("Innate")&&(m=h);return m.ability?m.ability:null})(),displayAsAction:!1}},t.misc={legActionsPerRound:e?.legendaryActions?e?.legendaryActions:(e?.legendary??[]).length>0?3:0,telepathy:(()=>{if(!e.languages)return 0;for(let m of e?.languages??[])if(m.includes("telepathy"))return parseInt(m.replace(/[a-zA-Z]/g,""));return 0})(),passivePerceptionOverride:(()=>{let m=e.passive;return e?.skill?.perception&&10+parseInt(e?.skill?.perception)==m||10+(Math.floor(e.wis/2)-5)==m?null:m})(),featureHeaderTexts:{features:"",actions:(e?.actionHeader??[]).join(`
`)??"",bonus:(e?.bonusHeader??[]).join(`
`)??"",reactions:(e?.reactionHeader??[]).join(`
`)??"",legendary:(e?.legendaryHeader??[]).join(`
`)??Kt.misc.featureHeaderTexts.legendary,lair:Kt.misc.featureHeaderTexts.lair,mythic:(e?.mythicHeader??[]).join(`
`)??Kt.misc.featureHeaderTexts.mythic,regional:Kt.misc.featureHeaderTexts.regional}};let[r,l]=Pt(e.trait,2),[a,d]=Pt(e.action,1),[n,i]=Pt(e.bonus,3),[o,s]=Pt(e.lair,4),[f,p]=Pt(e.legendary,9),[c,v]=[[],[]],[g,y]=Pt(e.mythic,10),[u,E]=[[],[]];const O={features:l,actions:d,bonus:i,reactions:s,legendary:p,lair:v,mythic:y,regional:E};return t.features={features:r,actions:a,bonus:n,reactions:o,legendary:f,lair:c,mythic:g,regional:u},[t,O]}const Ht=document.getElementsByClassName("editor-nav__tab"),Un=document.getElementsByClassName("editor-content__tab-inner"),ko=Xn({components:{StatblockRenderer:_r,FeatureWidget:uo,Breadcrumbs:na,LabelledNumberInput:ea,LabelledComponent:Ir,Modal:Pr,draggable:Zo},data(){return{slideIndex:2,user:null,data:Kt,rawInfo:null,bestiary:null,list:[],getSpellSlots:Cn,spellListFlattened:Bn,spellList:er,innateSpells:{0:[],1:[],2:[],3:[]},limits:{},featureGenerator:{features:"New Feature",actions:"New Action",bonus:"New Bonus Action",reactions:"New Reaction",legendary:"New Legendary Action",lair:"New Lair Action",mythic:"New Mythic Action",regional:"New Regional Effect"},toolsjson:"",bestiaryBuilderJson:"",notices:{},madeChanges:!1,resistanceList:["Acid","Bludgeoning","Cold","Fire","Force","Lightning","Necrotic","Piercing","Poison","Psychic","Radiant","Slashing","Thunder","Nonmagical Bludgeoning","Nonmagical Piercing","Nonmagical Slashing","Nonmagical Nonsilvered Bludgeoning","Nonmagical Nonsilvered Piercing","Nonmagical Nonsilvered Slashing"],languages:["All","All languages it knew in life","Abyssal","Aarakocra","Aquan","Auran","Celestial","Common","Deep Speech","Draconic","Druidic","Dwarvish","Elvish","Giant","Gith","Gnomish","Goblin","Halfling","Ignan","Infernal","Orc","Primordial","Sylvan","Terran","Thieves' Cant","Undercommon","Understands the languages of its creator but can't speak"],showImportModal:!1,showSpellModal:!1,capitalizeFirstLetter:Me,shouldShowEditor:!1,isOwner:!1,isEditor:!1,newSkillName:"",newSpeedName:"",newSenseName:""}},methods:{getDraggableKey(e){return e},exportStatblock(){navigator.clipboard.writeText(JSON.stringify(this.data,null,2)),we.info("Exported this statblock to your clipboard.")},import5etools(){try{[this.data,this.notices]=Qo(JSON.parse(this.toolsjson)),this.toolsjson="",we.success("Successfully imported "+this.data.description.name)}catch(e){console.error(e),we.error("Failed to import this creature")}},async importBestiaryBuilder(){try{let e=JSON.parse(this.bestiaryBuilderJson);console.log(e),Array.isArray(e)&&(e=e[0]);let t=await fetch("/api/validate/creature",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({data:e})}).then(ut);t.success?(this.data=e,this.notices={},this.bestiaryBuilderJson="",we.success("Successfully imported "+this.data.description.name)):we.error(t.data.error.replaceAll(`
`,"<br />"),{duration:0}),this.showImportModal=!1}catch(e){console.error(e),we.error("Failed to import this creature")}},showSlides(e){if(this.slideIndex!=e){for(let t=0;t<Ht.length;t++){let r=Ht[t];t!=e-1?(r.setAttribute("aria-selected","false"),r.tabIndex=-1):(r.setAttribute("aria-selected","true"),r.removeAttribute("tabindex"),r.focus())}for(let t=0;t<Un.length;t++)t!=e-1?Un[t].style.display="none":Un[t].style.display="block";this.slideIndex=e}},moveSlide(e){let t=this.slideIndex,r=0;switch(e.key){case"ArrowLeft":t==1?r=Ht.length:r=t-1;break;case"ArrowRight":t==Ht.length?r=1:r=t+1;break;case"Home":r=1;break;case"End":r=Ht.length;break}r&&(e.stopPropagation(),e.preventDefault(),this.showSlides(r))},changeCR(e){let t=this.data.description.cr;t==0&&e?t=.125:t==.125&&e?t=.25:t==.25&&e?t=.5:t==.5&&e?t=1:t==.125&&!e?t=0:t==.25&&!e?t=.125:t==.5&&!e?t=.25:t==1&&!e?t=.5:e?t=Math.min(30,t+1):t=Math.max(0,t-1),this.data.description.cr=t},addNewSkill(){if(!this.newSkillName){this.$toast.error("No skill chosen.");return}if(this.data.abilities.skills.some(e=>e.skillName===this.newSkillName)){this.$toast.error("You already have this skill.");return}this.data.abilities.skills.push({skillName:this.newSkillName,isHalfProficient:!1,isProficient:!0,isExpertise:!1,override:null}),this.newSkillName=""},addNewSpeed(){if(!this.newSpeedName){this.$toast.error("No speed chosen.");return}if(this.data.core.speed.some(e=>e.name===this.newSpeedName)){this.$toast.error("You already have this speed.");return}this.data.core.speed.push({name:this.newSpeedName,value:30,unit:"ft",comment:""}),this.newSpeedName=""},addNewSense(){if(!this.newSenseName){this.$toast.error("No sense chosen.");return}if(this.data.core.senses.some(e=>e.name===this.newSenseName)){this.$toast.error("You already have this sense.");return}this.data.core.senses.push({name:this.newSenseName,value:30,unit:"ft",comment:""}),this.newSenseName=""},disableOtherSkills(e,t,r){!r&&this.data.abilities.skills&&(t=="prof"&&(this.data.abilities.skills[e].isExpertise=!1,this.data.abilities.skills[e].isHalfProficient=!1),t=="exp"&&(this.data.abilities.skills[e].isProficient=!1,this.data.abilities.skills[e].isHalfProficient=!1),t=="halfprof"&&(this.data.abilities.skills[e].isExpertise=!1,this.data.abilities.skills[e].isProficient=!1))},deleteSkill(e){this.data.abilities.skills?.splice(e,1)},deleteFeature(e,t){this.data.features[e].splice(t,1)},createNewFeature(e){this.data.features[e][this.data.features[e].length]={name:"New Feature "+(this.data.features[e].length+1),description:"",automation:null}},spellLevelList(){const e=this.data.spellcasting.casterSpells.castingClass;this.data.spellcasting.casterSpells.casterLevel;const t=this.data.spellcasting.casterSpells.spellSlotList;return e=="Warlock"&&t?Array.from({length:Object.keys(t)[0]},(r,l)=>l+1):t?Object.keys(t).map(r=>parseInt(r)):[]},getSpellsByLevel(e){return e<0||e>9?[]:er[e]},clearCasting(){this.data.spellcasting.casterSpells.castingClass=null,this.data.spellcasting.casterSpells.casterLevel=null,this.data.spellcasting.casterSpells.spellList=[[],[],[],[],[],[],[],[],[],[]],this.data.spellcasting.casterSpells.spellSlotList={},this.data.spellcasting.casterSpells.spellCastingAbility=null,this.data.spellcasting.casterSpells.spellBonusOverride=null,this.data.spellcasting.casterSpells.spellDcOverride=null},saveStatblock(){if(!this.rawInfo)return;this.rawInfo.stats=this.data;const e=this.$loading.show();fetch(`/api/creature/${this.rawInfo._id}/update`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({data:this.rawInfo})}).then(async t=>{let r=await ut(t);if(r.success){we.success("Saved stat block"),this.madeChanges=!1;const l=this.$watch("data",()=>{this.madeChanges=!0,l()},{deep:!0})}else we.error("Error: "+r.data.error,{duration:1e4})}),e.hide()}},async beforeMount(){this.user=await Jr},async mounted(){const e=this.$loading.show();if(this.limits=await Zr??{},this.showSlides(1),!await fetch("/api/creature/"+this.$route.params.id).then(async r=>{let l=await ut(r);return l.success?(this.data=l.data.stats,this.rawInfo=l.data,!0):(we.error("Error: "+l.data.error),this.madeChanges=!1,this.$router.push("/error"),!1)})){e.hide();return}document.title=`${this?.data.description.name.substring(0,16)} | Bestiary Builder`,await fetch("/api/bestiary/"+this.rawInfo?.bestiary).then(async r=>{let l=await ut(r);l.success?(this.bestiary=l.data,this.isOwner=this.user?._id==this.bestiary.owner,this.isEditor=(this.bestiary?.editors??[]).includes(this.user?._id??""),(this.isOwner||this.isEditor)&&(this.shouldShowEditor=!0)):(this.bestiary=null,we.error(l.data.error))}),this.innateSpells={0:this.data.spellcasting.innateSpells.spellList[0].map(r=>r.spell),1:this.data.spellcasting.innateSpells.spellList[1].map(r=>r.spell),2:this.data.spellcasting.innateSpells.spellList[2].map(r=>r.spell),3:this.data.spellcasting.innateSpells.spellList[3].map(r=>r.spell)},window.addEventListener("beforeunload",r=>{this.madeChanges&&(this.isOwner||this.isEditor)&&location.pathname.split("/")[1]=="statblock-editor"&&(r.preventDefault(),r.returnValue=!0)}),setTimeout(()=>{let r=this.$watch("data",()=>{this.madeChanges=!0,r()},{deep:!0})},1),e.hide()},watch:{"data.spellcasting.casterSpells.castingClass"(e,t){if(e==null||e==null){this.clearCasting();return}const r=this.data.spellcasting.casterSpells.castingClass;switch(r){case"Artificer":case"Wizard":this.data.spellcasting.casterSpells.spellCastingAbility="int";break;case"Cleric":case"Druid":case"Ranger":this.data.spellcasting.casterSpells.spellCastingAbility="wis";break;default:this.data.spellcasting.casterSpells.spellCastingAbility="cha"}this.data.spellcasting.casterSpells.spellSlotList=Cn(r,this.data.spellcasting.casterSpells.casterLevel)},"data.spellcasting.casterSpells.casterLevel"(e){if(e==null||e==null){this.clearCasting();return}this.data.spellcasting.casterSpells.spellSlotList=Cn(this.data.spellcasting.casterSpells.castingClass,this.data.spellcasting.casterSpells.casterLevel)},innateSpells:{handler(){let e=this.data.spellcasting.innateSpells.spellList;for(let t in this.innateSpells)for(let r in this.innateSpells[t])e[t].map(l=>l.spell).includes(this.innateSpells[t][r])||e[t].push({spell:this.innateSpells[t][r],comment:""});for(let t in e){for(let r in e[t])this.innateSpells[t].includes(e[t][r].spell)||delete e[t][r];e[t]=e[t].filter(Boolean)}},deep:!0},"data.description.cr"(){this.data.core.proficiencyBonus=Math.max(2,Math.min(9,Math.floor((this.data.description.cr+3)/4))+1),this.data.description.xp=Cr(this.data.description.cr)},"data.description.name"(){document.title=`${this?.data.description.name.substring(0,16)} | Bestiary Builder`}},beforeRouteUpdate(){if(this.madeChanges&&(this.isOwner||this.isEditor)&&!window.confirm("Do you really want to leave? you have unsaved changes!"))return!1},beforeRouteLeave(){if(this.madeChanges&&(this.isOwner||this.isEditor)&&!window.confirm("Do you really want to leave? you have unsaved changes!"))return!1}}),ie=e=>(Or("data-v-89eea6ce"),e=e(),wr(),e),qo={class:"content-container__inner editor"},_o={class:"editor-nav",role:"tablist","aria-label":"Statblock editor tabs"},ei={class:"editor-content"},ti={class:"editor-content__tab-inner scale-in",role:"tabpanel",tabindex:"0","aria-labelledby":"tab-1",id:"tabpanel-1"},ni={class:"editor-field__container two-wide"},ri=["maxlength"],ai={for:"propernounbox"},oi={class:"editor-field__container one-wide"},ii=["maxlength"],li={class:"editor-field__container two-wide"},si=["pattern"],ui={class:"editor-field__container three-wide"},di={class:"flow-vertically"},fi=ie(()=>b("label",{class:"editor-field__title",for:"challengerating"},[b("span",{class:"text"}," Challenge rating")],-1)),ci={class:"quantity"},pi={class:"quantity-nav"},mi={class:"editor-content__tab-inner scale-in",role:"tabpanel",tabindex:"0","aria-labelledby":"tab-2",id:"tabpanel-2"},hi={class:"editor-field__container two-wide"},vi=ie(()=>b("h2",{class:"group-header"},"Speed",-1)),gi={class:"grid eight-two"},yi=["onUpdate:modelValue"],bi=ie(()=>b("option",null,"ft",-1)),Si=ie(()=>b("option",null,"m",-1)),Ei=ie(()=>b("option",null,"km",-1)),Oi=ie(()=>b("option",null,"mi",-1)),wi=ie(()=>b("option",null,"none",-1)),Ii=[bi,Si,Ei,Oi,wi],Ci={class:"grid eight-two"},Pi=["onUpdate:modelValue"],Ti={class:"grid five-five"},Di=ie(()=>b("h2",{class:"group-header"},"Senses",-1)),Ai={class:"grid eight-two"},xi=["onUpdate:modelValue"],Ni=ie(()=>b("option",null,"ft",-1)),Mi=ie(()=>b("option",null,"m",-1)),Li=ie(()=>b("option",null,"km",-1)),Vi=ie(()=>b("option",null,"mi",-1)),Ri=ie(()=>b("option",null,"none",-1)),Fi=[Ni,Mi,Li,Vi,Ri],ji={class:"grid eight-two"},Ui=["onUpdate:modelValue"],$i={class:"grid five-five"},Bi=ie(()=>b("h2",{class:"group-header"},"Misc",-1)),Gi={class:"editor-field__container two-wide"},Hi={class:"editor-content__tab-inner scale-in",role:"tabpanel",tabindex:"0","aria-labelledby":"tab-3",id:"tabpanel-3"},Ki=ie(()=>b("h2",{class:"group-header"},"Ability Scores",-1)),Wi={class:"editor-field__container three-wide"},Yi=ie(()=>b("h2",{class:"group-header"},"Saving Throws",-1)),Xi={class:"editor-field__container three-wide"},zi=ie(()=>b("label",{for:"strsaveprof","aria-label":"strength save proficiency"}," Proficient ",-1)),Ji=ie(()=>b("label",{for:"dexsaveprof","aria-label":"dexterity save proficiency"}," Proficient ",-1)),Zi=ie(()=>b("label",{for:"consaveprof","aria-label":"constitution save proficiency"}," Proficient ",-1)),Qi=ie(()=>b("label",{for:"intsaveprof","aria-label":"intelligence save proficiency"}," Proficient ",-1)),ki=ie(()=>b("label",{for:"wissaveprof","aria-label":"wisdom save proficiency"}," Proficient ",-1)),qi=ie(()=>b("label",{for:"chasaveprof","aria-label":"charisma save proficiency"}," Proficient ",-1)),_i=ie(()=>b("h2",{class:"group-header"},"Skills",-1)),el={class:"editor-field__container two-wide"},tl={class:"button-container"},nl=["onUpdate:modelValue","onClick","id"],rl=["for"],al=["onUpdate:modelValue","onClick","id"],ol=["for"],il=["onUpdate:modelValue","onClick","id"],ll=["for"],sl=["onClick"],ul={class:"editor-content__tab-inner scale-in",role:"tabpanel",tabindex:"0","aria-labelledby":"tab-4",id:"tabpanel-4"},dl={class:"editor-field__container three-wide"},fl={class:"editor-field__container two-wide"},cl={class:"editor-field__container two-wide"},pl={class:"editor-content__tab-inner scale-in",role:"tabpanel",tabindex:"0","aria-labelledby":"tab-5",id:"tabpanel-5"},ml={class:"group-header"},hl={class:"feature-button__container"},vl=["onClick"],gl=["onClick","id"],yl=["onUpdate:modelValue","id"],bl={class:"editor-content__tab-inner scale-in",role:"tabpanel",tabindex:"0","aria-labelledby":"tab-6",id:"tabpanel-6"},Sl=ie(()=>b("h2",{class:"group-header"},"Innate Spellcasting",-1)),El={class:"editor-field__container two-wide"},Ol={class:"editor-field__container two-wide"},wl=ie(()=>b("h2",{class:"group-header"},"Class spellcasting",-1)),Il={class:"editor-field__container two-wide"},Cl={key:0,class:"editor-field__container two-wide"},Pl=ie(()=>b("hr",null,null,-1)),Tl={class:"buttons"},Dl={class:"content-container__inner"},Al=ie(()=>b("p",null,"Insert the JSON as text gotten from clicking export on another creature within Bestiary Builder.",-1)),xl={class:"two-wide"},Nl=ie(()=>b("hr",null,null,-1)),Ml=ie(()=>b("p",null,"Insert 5e.tools JSON as text into this field, gotten from clicking export on 5e.tools and copying the JSON.",-1)),Ll={class:"two-wide"},Vl={key:0},Rl=ie(()=>b("p",{class:"warning"},[b("b",null,"Please note the following for this import:")],-1)),Fl=ie(()=>b("p",null,"Some features may not have automation as they should, aka description only features, but some might not have imported correctly or are missing certain parts. It is recommended to review.",-1)),jl={key:0},Ul={key:1},$l=ie(()=>b("p",null,'You can use this to add text to specific spells such as "self only" or "at 5th level".',-1)),Bl={class:"two-wide"},Gl=["onUpdate:modelValue","id"];function Hl(e,t,r,l,a,d){const n=He("font-awesome-icon"),i=He("Breadcrumbs"),o=He("LabelledComponent"),s=He("v-select"),f=He("LabelledNumberInput"),p=He("draggable"),c=He("FeatureWidget"),v=He("StatblockRenderer"),g=He("Modal"),y=Er("tooltip");return q(),oe("div",null,[e.bestiary&&(e.data.description.name||e.data.description.name==="")?(q(),lt(i,{key:0,routes:[{path:"../my-bestiaries/",text:e.shouldShowEditor?"My Bestiaries":"Public Bestiaries",isCurrent:!1},{path:"../bestiary-viewer/"+e.bestiary?._id,text:e.bestiary?.name,isCurrent:!1},{path:"",text:e.data?.description.name||"unnamed creature",isCurrent:!0}]},{default:j(()=>[!e.isOwner&&!e.isEditor?ee((q(),oe("button",{key:0,onClick:t[0]||(t[0]=u=>e.shouldShowEditor=!e.shouldShowEditor),"aria-label":"Toggle Editor for debugging purposes"},[e.shouldShowEditor?(q(),lt(n,{key:1,icon:["fas","eye-slash"]})):(q(),lt(n,{key:0,icon:["fas","eye"]}))])),[[y,"Toggle Editor for debugging purposes"]]):Pe("",!0),e.isOwner||e.isEditor?ee((q(),oe("button",{key:1,onClick:t[1]||(t[1]=u=>e.showImportModal=!0),"aria-label":"Import a creature's statblock"},[D(n,{icon:["fas","arrow-right-to-bracket"]})])),[[y,"Import a creature's statblock"]]):Pe("",!0),e.isOwner||e.isEditor?ee((q(),oe("button",{key:2,onClick:t[2]||(t[2]=u=>e.exportStatblock()),"aria-label":"Export a creature's statblock"},[D(n,{icon:["fas","arrow-right-from-bracket"]})])),[[y,"Export this creature as JSON to your clipboard."]]):Pe("",!0)]),_:1},8,["routes"])):Pe("",!0),b("div",{class:St(["content",{"is-statblock-only":!e.shouldShowEditor}])},[ee(b("div",qo,[b("div",_o,[b("button",{onClick:t[3]||(t[3]=u=>e.showSlides(1)),onKeydown:t[4]||(t[4]=(...u)=>e.moveSlide&&e.moveSlide(...u)),class:St([{"active-slide":e.slideIndex===1},"editor-nav__tab"]),role:"tab","aria-controls":"tabpanel-1",id:"tab-1"},"Description",34),b("button",{onClick:t[5]||(t[5]=u=>e.showSlides(2)),onKeydown:t[6]||(t[6]=(...u)=>e.moveSlide&&e.moveSlide(...u)),class:St([{"active-slide":e.slideIndex===2},"editor-nav__tab"]),role:"tab","aria-controls":"tabpanel-1",id:"tab-2"},"Core",34),b("button",{onClick:t[7]||(t[7]=u=>e.showSlides(3)),onKeydown:t[8]||(t[8]=(...u)=>e.moveSlide&&e.moveSlide(...u)),class:St([{"active-slide":e.slideIndex===3},"editor-nav__tab"]),role:"tab","aria-controls":"tabpanel-1",id:"tab-3"},"Stats",34),b("button",{onClick:t[9]||(t[9]=u=>e.showSlides(4)),onKeydown:t[10]||(t[10]=(...u)=>e.moveSlide&&e.moveSlide(...u)),class:St([{"active-slide":e.slideIndex===4},"editor-nav__tab"]),role:"tab","aria-controls":"tabpanel-1",id:"tab-4"},"Defenses",34),b("button",{onClick:t[11]||(t[11]=u=>e.showSlides(5)),onKeydown:t[12]||(t[12]=(...u)=>e.moveSlide&&e.moveSlide(...u)),class:St([{"active-slide":e.slideIndex===5},"editor-nav__tab"]),role:"tab","aria-controls":"tabpanel-1",id:"tab-5"},"Features",34),b("button",{onClick:t[13]||(t[13]=u=>e.showSlides(6)),onKeydown:t[14]||(t[14]=(...u)=>e.moveSlide&&e.moveSlide(...u)),class:St([{"active-slide":e.slideIndex===6},"editor-nav__tab"]),role:"tab","aria-controls":"tabpanel-1",id:"tab-6"},"Spells",34)]),b("div",ei,[b("div",ti,[b("div",ni,[D(o,{title:"Creature name"},{default:j(()=>[ee(b("input",{type:"text",maxlength:e.limits.nameLength,"onUpdate:modelValue":t[15]||(t[15]=u=>e.data.description.name=u),id:"creaturename"},null,8,ri),[[je,e.data.description.name]])]),_:1}),D(o,{title:"Proper Noun"},{default:j(()=>[b("span",null,[ee(b("input",{type:"checkbox","onUpdate:modelValue":t[16]||(t[16]=u=>e.data.description.isProperNoun=u),id:"propernounbox"},null,512),[[ze,e.data.description.isProperNoun]]),Ke(),b("label",ai,'Toggles display as "'+rt(e.data.description.name)+'" instead of "the '+rt(e.data.description.name)+'"? ',1)])]),_:1})]),b("div",oi,[D(o,{title:"Description"},{default:j(()=>[ee(b("textarea",{rows:"20",maxlength:e.limits.descriptionLength,"onUpdate:modelValue":t[17]||(t[17]=u=>e.data.description.description=u),id:"description"},null,8,ii),[[je,e.data.description.description]])]),_:1})]),b("div",li,[D(o,{title:"Image URL"},{default:j(()=>[ee(b("input",{type:"text","onUpdate:modelValue":t[18]||(t[18]=u=>e.data.description.image=u),id:"imageurl",pattern:e.limits.imageFormats?`(https://)(.+)(\\.${e.limits.imageFormats.join("|\\.")})`:""},null,8,si),[[je,e.data.description.image]])]),_:1}),D(o,{title:"Environment"},{default:j(()=>[ee(b("input",{type:"text","onUpdate:modelValue":t[19]||(t[19]=u=>e.data.description.environment=u),id:"environment"},null,512),[[je,e.data.description.environment]])]),_:1}),D(o,{title:"Faction"},{default:j(()=>[ee(b("input",{type:"text","onUpdate:modelValue":t[20]||(t[20]=u=>e.data.description.faction=u),id:"faction"},null,512),[[je,e.data.description.faction]])]),_:1}),D(o,{title:"Alignment","takes-custom-text-input":""},{default:j(()=>[D(s,{modelValue:e.data.description.alignment,"onUpdate:modelValue":t[21]||(t[21]=u=>e.data.description.alignment=u),options:["Unaligned","Good","Neutral","Evil","Lawful Good","Neutral Good","Chaotic Good","Lawful Neutral","Neutral","Chaotic Neutral","Lawful Evil","Neutral Evil","Chaotic Evil","Any Alignment","Typically Good","Typically Neutral","Typically Evil","Typically Lawful Good","Typically Neutral Good","Typically Chaotic Good","Typically Lawful Neutral","Typically Chaotic Neutral","Typically Lawful Evil","Typically Neutral Evil","Typically Chaotic Evil"],taggable:!0,pushTags:!0,inputId:"alignment"},null,8,["modelValue"])]),_:1})]),b("div",ui,[b("div",di,[fi,b("div",ci,[ee(b("input",{type:"number","onUpdate:modelValue":t[22]||(t[22]=u=>e.data.description.cr=u),min:"0",max:"30",inputmode:"numeric",id:"challengerating"},null,512),[[je,e.data.description.cr]]),b("div",pi,[b("div",{class:"quantity-button quantity-up",onClick:t[23]||(t[23]=u=>e.changeCR(!0)),"aria-label":"Increase CR"},"+"),b("div",{class:"quantity-button quantity-down",onClick:t[24]||(t[24]=u=>e.changeCR(!1)),"aria-label":"Decrease CR"},"-")])])]),D(f,{modelValue:e.data.core.proficiencyBonus,"onUpdate:modelValue":t[25]||(t[25]=u=>e.data.core.proficiencyBonus=u),min:0,title:"Proficiency Bonus",step:1},null,8,["modelValue"]),D(f,{modelValue:e.data.description.xp,"onUpdate:modelValue":t[26]||(t[26]=u=>e.data.description.xp=u),min:0,step:1,title:"Experience Points"},null,8,["modelValue"])])]),b("div",mi,[b("div",hi,[D(o,{title:"Race","takes-custom-text-input":""},{default:j(()=>[D(s,{modelValue:e.data.core.race,"onUpdate:modelValue":t[27]||(t[27]=u=>e.data.core.race=u),options:["Aberration","Beast","Celestial","Construct","Dragon","Elemental","Fey","Fiend","Giant","Humanoid","Monstrosity","Ooze","Plant","Undead"],taggable:!0,pushTags:!0,inputId:"race"},null,8,["modelValue"])]),_:1}),D(o,{title:"Size","takes-custom-text-input":""},{default:j(()=>[D(s,{modelValue:e.data.core.size,"onUpdate:modelValue":t[28]||(t[28]=u=>e.data.core.size=u),options:["Tiny","Small","Medium","Large","Huge","Gargantuan"],taggable:!0,pushTags:!0,inputId:"size"},null,8,["modelValue"])]),_:1})]),vi,D(p,{list:e.data.core.speed,handle:".handle","item-key":e.getDraggableKey,class:"editor-field__container two-wide",animation:150},{item:j(({element:u,index:E})=>[D(o,{title:u.name},{default:j(()=>[b("div",gi,[D(f,{title:"",modelValue:e.data.core.speed[E].value,"onUpdate:modelValue":O=>e.data.core.speed[E].value=O},null,8,["modelValue","onUpdate:modelValue"]),ee(b("select",{"onUpdate:modelValue":O=>e.data.core.speed[E].unit=O,class:"ghost unit-selector"},Ii,8,yi),[[_n,e.data.core.speed[E].unit]])]),b("div",Ci,[ee(b("input",{type:"text","onUpdate:modelValue":O=>e.data.core.speed[E].comment=O,placeholder:"Comment..."},null,8,Pi),[[je,e.data.core.speed[E].comment]]),b("span",Ti,[ee(D(n,{icon:["fas","trash"],class:"button-icon",onClick:O=>e.data.core.speed.splice(E,1)},null,8,["onClick"]),[[y,"Delete this speed"]]),D(n,{icon:["fas","grip-vertical"],class:"handle button-icon"})])])]),_:2},1032,["title"])]),footer:j(()=>[D(o,{title:"Add speed","takes-custom-text-input":""},{default:j(()=>[D(s,{modelValue:e.newSpeedName,"onUpdate:modelValue":t[29]||(t[29]=u=>e.newSpeedName=u),options:["Walk","Swim","Fly","Climb","Burrow"],taggable:!0,pushTags:!0,inputId:"addspeed",placeholder:"Select speed"},null,8,["modelValue"]),b("button",{class:"btn",onClick:t[30]||(t[30]=(...u)=>e.addNewSpeed&&e.addNewSpeed(...u))},"Create")]),_:1})]),_:1},8,["list","item-key"]),Di,D(p,{list:e.data.core.senses,handle:".handle","item-key":e.getDraggableKey,class:"editor-field__container two-wide",animation:150},{item:j(({element:u,index:E})=>[D(o,{title:u.name},{default:j(()=>[b("div",Ai,[D(f,{title:"",modelValue:u.value,"onUpdate:modelValue":O=>u.value=O},null,8,["modelValue","onUpdate:modelValue"]),ee(b("select",{"onUpdate:modelValue":O=>u.unit=O,class:"ghost unit-selector"},Fi,8,xi),[[_n,u.unit]])]),b("div",ji,[ee(b("input",{type:"text","onUpdate:modelValue":O=>u.comment=O,placeholder:"Comment..."},null,8,Ui),[[je,u.comment]]),b("span",$i,[ee(D(n,{icon:["fas","trash"],class:"button-icon",onClick:O=>e.data.core.senses.splice(E,1)},null,8,["onClick"]),[[y,"Delete this sense"]]),D(n,{icon:["fas","grip-vertical"],class:"handle button-icon"})])])]),_:2},1032,["title"])]),footer:j(()=>[D(o,{title:"Add sense","takes-custom-text-input":""},{default:j(()=>[D(s,{modelValue:e.newSenseName,"onUpdate:modelValue":t[31]||(t[31]=u=>e.newSenseName=u),options:["Darkvision","Blindsight","Truesight","Tremorsense"],taggable:!0,pushTags:!0,inputId:"addsense",placeholder:"Select sense"},null,8,["modelValue"]),b("button",{class:"btn",onClick:t[32]||(t[32]=u=>e.data.core.senses.push({name:e.newSenseName,value:30,unit:"ft",comment:""}))},"Create")]),_:1}),D(f,{modelValue:e.data.misc.passivePerceptionOverride,"onUpdate:modelValue":t[33]||(t[33]=u=>e.data.misc.passivePerceptionOverride=u),title:"Passive perc override",step:1,"is-clearable":!0},null,8,["modelValue"])]),_:1},8,["list","item-key"]),Bi,b("div",Gi,[D(o,{title:"Languages","takes-custom-text-input":""},{default:j(()=>[D(s,{placeholder:"Select a Language or type one",modelValue:e.data.core.languages,"onUpdate:modelValue":t[34]||(t[34]=u=>e.data.core.languages=u),multiple:"",deselectFromDropdown:!0,closeOnSelect:!1,options:e.languages,taggable:!0,pushTags:!0,inputId:"languages"},null,8,["modelValue","options"])]),_:1}),D(f,{modelValue:e.data.misc.telepathy,"onUpdate:modelValue":t[35]||(t[35]=u=>e.data.misc.telepathy=u),title:"Telepathy"},null,8,["modelValue"])])]),b("div",Hi,[Ki,b("div",Wi,[D(f,{modelValue:e.data.abilities.stats.str,"onUpdate:modelValue":t[36]||(t[36]=u=>e.data.abilities.stats.str=u),title:"Strength",step:1},null,8,["modelValue"]),D(f,{modelValue:e.data.abilities.stats.dex,"onUpdate:modelValue":t[37]||(t[37]=u=>e.data.abilities.stats.dex=u),title:"Dexterity",step:1},null,8,["modelValue"]),D(f,{modelValue:e.data.abilities.stats.con,"onUpdate:modelValue":t[38]||(t[38]=u=>e.data.abilities.stats.con=u),title:"Constitution",step:1},null,8,["modelValue"]),D(f,{modelValue:e.data.abilities.stats.int,"onUpdate:modelValue":t[39]||(t[39]=u=>e.data.abilities.stats.int=u),title:"Intelligence",step:1},null,8,["modelValue"]),D(f,{modelValue:e.data.abilities.stats.wis,"onUpdate:modelValue":t[40]||(t[40]=u=>e.data.abilities.stats.wis=u),title:"Wisdom",step:1},null,8,["modelValue"]),D(f,{modelValue:e.data.abilities.stats.cha,"onUpdate:modelValue":t[41]||(t[41]=u=>e.data.abilities.stats.cha=u),title:"Charisma",step:1},null,8,["modelValue"])]),Yi,b("div",Xi,[D(f,{modelValue:e.data.abilities.saves.str.override,"onUpdate:modelValue":t[43]||(t[43]=u=>e.data.abilities.saves.str.override=u),title:"Strength",step:1,"is-clearable":!0},{default:j(()=>[b("p",null,[ee(b("input",{type:"checkbox","onUpdate:modelValue":t[42]||(t[42]=u=>e.data.abilities.saves.str.isProficient=u),id:"strsaveprof","is-clearable":!0},null,512),[[ze,e.data.abilities.saves.str.isProficient]]),zi])]),_:1},8,["modelValue"]),D(f,{modelValue:e.data.abilities.saves.dex.override,"onUpdate:modelValue":t[45]||(t[45]=u=>e.data.abilities.saves.dex.override=u),title:"Dexterity",step:1,"is-clearable":!0},{default:j(()=>[b("p",null,[ee(b("input",{type:"checkbox","onUpdate:modelValue":t[44]||(t[44]=u=>e.data.abilities.saves.dex.isProficient=u),id:"dexsaveprof"},null,512),[[ze,e.data.abilities.saves.dex.isProficient]]),Ji])]),_:1},8,["modelValue"]),D(f,{modelValue:e.data.abilities.saves.con.override,"onUpdate:modelValue":t[47]||(t[47]=u=>e.data.abilities.saves.con.override=u),title:"Constitution",step:1,"is-clearable":!0},{default:j(()=>[b("p",null,[ee(b("input",{type:"checkbox","onUpdate:modelValue":t[46]||(t[46]=u=>e.data.abilities.saves.con.isProficient=u),id:"consaveprof"},null,512),[[ze,e.data.abilities.saves.con.isProficient]]),Zi])]),_:1},8,["modelValue"]),D(f,{modelValue:e.data.abilities.saves.int.override,"onUpdate:modelValue":t[49]||(t[49]=u=>e.data.abilities.saves.int.override=u),title:"Intelligence",step:1,"is-clearable":!0},{default:j(()=>[b("p",null,[ee(b("input",{type:"checkbox","onUpdate:modelValue":t[48]||(t[48]=u=>e.data.abilities.saves.int.isProficient=u),id:"intsaveprof"},null,512),[[ze,e.data.abilities.saves.int.isProficient]]),Qi])]),_:1},8,["modelValue"]),D(f,{modelValue:e.data.abilities.saves.wis.override,"onUpdate:modelValue":t[51]||(t[51]=u=>e.data.abilities.saves.wis.override=u),title:"Wisdom",step:1,"is-clearable":!0},{default:j(()=>[b("p",null,[ee(b("input",{type:"checkbox","onUpdate:modelValue":t[50]||(t[50]=u=>e.data.abilities.saves.wis.isProficient=u),id:"wissaveprof"},null,512),[[ze,e.data.abilities.saves.wis.isProficient]]),ki])]),_:1},8,["modelValue"]),D(f,{modelValue:e.data.abilities.saves.cha.override,"onUpdate:modelValue":t[53]||(t[53]=u=>e.data.abilities.saves.cha.override=u),title:"Charisma",step:1,"is-clearable":!0},{default:j(()=>[b("p",null,[ee(b("input",{type:"checkbox","onUpdate:modelValue":t[52]||(t[52]=u=>e.data.abilities.saves.cha.isProficient=u),id:"chasaveprof"},null,512),[[ze,e.data.abilities.saves.cha.isProficient]]),qi])]),_:1},8,["modelValue"])]),_i,b("div",el,[(q(!0),oe(_e,null,st(e.data.abilities.skills,(u,E)=>(q(),lt(o,{title:u.skillName},{default:j(()=>[b("div",tl,[b("p",null,[ee(b("input",{type:"checkbox","onUpdate:modelValue":O=>u.isProficient=O,onClick:O=>e.disableOtherSkills(E,"prof",u.isProficient),id:u.skillName+"prof"},null,8,nl),[[ze,u.isProficient]]),Ke(),b("label",{for:u.skillName+"prof"}," Proficient ",8,rl)]),b("p",null,[ee(b("input",{type:"checkbox","onUpdate:modelValue":O=>u.isExpertise=O,onClick:O=>e.disableOtherSkills(E,"exp",u.isExpertise),id:u.skillName+"exp"},null,8,al),[[ze,u.isExpertise]]),b("label",{for:u.skillName+"exp"}," Expertise ",8,ol)]),b("p",null,[ee(b("input",{type:"checkbox","onUpdate:modelValue":O=>u.isHalfProficient=O,onClick:O=>e.disableOtherSkills(E,"halfprof",u.isHalfProficient),id:u.skillName+"halfprof"},null,8,il),[[ze,u.isHalfProficient]]),b("label",{for:u.skillName+"halfprof"}," Half prof ",8,ll)])]),b("div",null,[D(f,{modelValue:u.override,"onUpdate:modelValue":O=>u.override=O,title:"",step:1,"is-clearable":!0},null,8,["modelValue","onUpdate:modelValue"])]),b("button",{class:"btn",onClick:O=>e.deleteSkill(E)},"Delete",8,sl)]),_:2},1032,["title"]))),256)),D(o,{title:"Add new skill"},{default:j(()=>[D(s,{placeholder:"Select skill",modelValue:e.newSkillName,"onUpdate:modelValue":t[54]||(t[54]=u=>e.newSkillName=u),options:["Acrobatics","Animal Handling","Arcana","Athletics","Deception","History","Insight","Intimidation","Investigation","Medicine","Nature","Perception","Performance","Persuasion","Religion","Sleight of Hand","Stealth","Survival"]},null,8,["modelValue"]),b("button",{class:"btn editor-field__plus-button",id:"addnewskill",onClick:t[55]||(t[55]=u=>e.addNewSkill())},"New Skill")]),_:1})])]),b("div",ul,[b("div",dl,[D(f,{modelValue:e.data.defenses.hp.sizeOfHitDie,"onUpdate:modelValue":t[56]||(t[56]=u=>e.data.defenses.hp.sizeOfHitDie=u),title:"Hit Die Size",step:2},null,8,["modelValue"]),D(f,{modelValue:e.data.defenses.hp.numOfHitDie,"onUpdate:modelValue":t[57]||(t[57]=u=>e.data.defenses.hp.numOfHitDie=u),title:"Hit Die Number",step:1},null,8,["modelValue"]),D(f,{modelValue:e.data.defenses.hp.override,"onUpdate:modelValue":t[58]||(t[58]=u=>e.data.defenses.hp.override=u),title:"HP Override",step:1,"is-clearable":!0},null,8,["modelValue"])]),b("div",fl,[D(f,{modelValue:e.data.defenses.ac.ac,"onUpdate:modelValue":t[59]||(t[59]=u=>e.data.defenses.ac.ac=u),title:"Armor Class",step:1},null,8,["modelValue"]),D(o,{title:"Armor Class source"},{default:j(()=>[ee(b("input",{type:"text","onUpdate:modelValue":t[60]||(t[60]=u=>e.data.defenses.ac.acSource=u),id:"armorclasssource"},null,512),[[je,e.data.defenses.ac.acSource]])]),_:1})]),b("div",cl,[D(o,{title:"Vulnerabilities","takes-custom-text-input":""},{default:j(()=>[D(s,{placeholder:"Type vulnerabilities...",modelValue:e.data.defenses.vulnerabilities,"onUpdate:modelValue":t[61]||(t[61]=u=>e.data.defenses.vulnerabilities=u),multiple:"",deselectFromDropdown:!0,closeOnSelect:!1,options:e.resistanceList,taggable:!0,pushTags:!0,inputId:"vulnerabilities"},null,8,["modelValue","options"])]),_:1}),D(o,{title:"Resistances","takes-custom-text-input":""},{default:j(()=>[D(s,{placeholder:"Type resistances...",modelValue:e.data.defenses.resistances,"onUpdate:modelValue":t[62]||(t[62]=u=>e.data.defenses.resistances=u),multiple:"",deselectFromDropdown:!0,closeOnSelect:!1,options:e.resistanceList,taggable:!0,pushTags:!0,inputId:"resistances"},null,8,["modelValue","options"])]),_:1}),D(o,{title:"Immunities","takes-custom-text-input":""},{default:j(()=>[D(s,{placeholder:"Type immunities...",modelValue:e.data.defenses.immunities,"onUpdate:modelValue":t[63]||(t[63]=u=>e.data.defenses.immunities=u),multiple:"",deselectFromDropdown:!0,closeOnSelect:!1,options:e.resistanceList,taggable:!0,pushTags:!0,inputId:"immunities"},null,8,["modelValue","options"])]),_:1}),D(o,{title:"Condition Immunities","takes-custom-text-input":""},{default:j(()=>[D(s,{placeholder:"Type condition immunities...",modelValue:e.data.defenses.conditionImmunities,"onUpdate:modelValue":t[64]||(t[64]=u=>e.data.defenses.conditionImmunities=u),multiple:"",deselectFromDropdown:!0,closeOnSelect:!1,options:["Blinded","Charmed","Deafened","Disease","Exhaustion","Frightened","Grappled","Incapacitated","Invisible","Paralyzed","Petrified","Poisoned","Prone","Restrained","Stunned","Unconscious"],taggable:!0,pushTags:!0,inputId:"conditionimmunities"},null,8,["modelValue"])]),_:1})])]),b("div",pl,[(q(!0),oe(_e,null,st(e.featureGenerator,(u,E)=>(q(),oe("div",null,[b("h2",ml,rt(u.replace("New ",""))+"s",1),D(p,{list:e.data.features[E],group:"features","item-key":e.getDraggableKey,handle:".handle",class:"editor-field__container two-wide",animation:150},{item:j(({element:O,index:m})=>[D(o,{title:O.name||`Unnamed ${m}`},{default:j(()=>[b("div",hl,[D(c,{index:m,type:E,data:e.data},null,8,["index","type","data"]),b("span",{class:"delete-button",onClick:h=>e.deleteFeature(E,m),"aria-label":"Delete feature"},[D(n,{icon:["fas","trash"]})],8,vl),D(n,{icon:["fas","grip-vertical"],class:"handle"})])]),_:2},1032,["title"])]),footer:j(()=>[D(o,{title:u},{default:j(()=>[b("button",{class:"btn",onClick:O=>e.createNewFeature(E),id:u.toLowerCase().replaceAll(" ","")},"Create",8,gl)]),_:2},1032,["title"]),D(o,{title:e.capitalizeFirstLetter(E)+" Header"},{default:j(()=>[ee(b("textarea",{"onUpdate:modelValue":O=>e.data.misc.featureHeaderTexts[E]=O,id:(E+" Header").toLowerCase().replaceAll(" ","")},null,8,yl),[[je,e.data.misc.featureHeaderTexts[E]]])]),_:2},1032,["title"]),E=="legendary"&&e.data.features[E].length>0?(q(),lt(f,{key:0,modelValue:e.data.misc.legActionsPerRound,"onUpdate:modelValue":t[65]||(t[65]=O=>e.data.misc.legActionsPerRound=O),title:"Legendary Actions per round",min:0,step:1},null,8,["modelValue"])):Pe("",!0)]),_:2},1032,["list","item-key"])]))),256))]),b("div",bl,[Sl,b("div",El,[D(o,{title:"Casting ability"},{default:j(()=>[D(s,{options:["str","dex","con","wis","int","cha"],modelValue:e.data.spellcasting.innateSpells.spellCastingAbility,"onUpdate:modelValue":t[66]||(t[66]=u=>e.data.spellcasting.innateSpells.spellCastingAbility=u),inputId:"castingability"},null,8,["modelValue"])]),_:1}),D(o,{title:"Not these components"},{default:j(()=>[D(s,{options:["Material","Verbal","Somatic"],modelValue:e.data.spellcasting.innateSpells.noComponentsOfType,"onUpdate:modelValue":t[67]||(t[67]=u=>e.data.spellcasting.innateSpells.noComponentsOfType=u),multiple:"",deselectFromDropdown:!0,closeOnSelect:!1,inputId:"notthesecomponents"},null,8,["modelValue"])]),_:1})]),b("div",Ol,[D(f,{modelValue:e.data.spellcasting.innateSpells.spellDcOverride,"onUpdate:modelValue":t[68]||(t[68]=u=>e.data.spellcasting.innateSpells.spellDcOverride=u),title:"DC override",step:1,"is-clearable":!0},null,8,["modelValue"]),D(f,{modelValue:e.data.spellcasting.innateSpells.spellBonusOverride,"onUpdate:modelValue":t[69]||(t[69]=u=>e.data.spellcasting.innateSpells.spellBonusOverride=u),title:"Attack bonus override",step:1,"is-clearable":!0},null,8,["modelValue"]),D(o,{title:"At will","takes-custom-text-input":""},{default:j(()=>[D(s,{options:e.spellListFlattened,modelValue:e.innateSpells[0],"onUpdate:modelValue":t[70]||(t[70]=u=>e.innateSpells[0]=u),multiple:"",deselectFromDropdown:!0,closeOnSelect:!1,inputId:"atwill",taggable:!0,pushTags:!0},null,8,["options","modelValue"])]),_:1}),D(o,{title:"1/day","takes-custom-text-input":""},{default:j(()=>[D(s,{options:e.spellListFlattened,modelValue:e.innateSpells[1],"onUpdate:modelValue":t[71]||(t[71]=u=>e.innateSpells[1]=u),multiple:"",deselectFromDropdown:!0,closeOnSelect:!1,inputId:"1/day",taggable:!0,pushTags:!0},null,8,["options","modelValue"])]),_:1}),D(o,{title:"2/day","takes-custom-text-input":""},{default:j(()=>[D(s,{options:e.spellListFlattened,modelValue:e.innateSpells[2],"onUpdate:modelValue":t[72]||(t[72]=u=>e.innateSpells[2]=u),multiple:"",deselectFromDropdown:!0,closeOnSelect:!1,inputId:"2/day",taggable:!0,pushTags:!0},null,8,["options","modelValue"])]),_:1}),D(o,{title:"3/day","takes-custom-text-input":""},{default:j(()=>[D(s,{options:e.spellListFlattened,modelValue:e.innateSpells[3],"onUpdate:modelValue":t[73]||(t[73]=u=>e.innateSpells[3]=u),multiple:"",deselectFromDropdown:!0,closeOnSelect:!1,inputId:"3/day",taggable:!0,pushTags:!0},null,8,["options","modelValue"])]),_:1}),D(o,{title:"Is psionics?"},{default:j(()=>[b("span",null,[ee(b("input",{type:"checkbox","onUpdate:modelValue":t[74]||(t[74]=u=>e.data.spellcasting.innateSpells.isPsionics=u),id:"ispsionics?"},null,512),[[ze,e.data.spellcasting.innateSpells.isPsionics]]),Ke(" Toggles display as psionics ")])]),_:1}),D(o,{title:"Display as action?"},{default:j(()=>[b("span",null,[ee(b("input",{type:"checkbox","onUpdate:modelValue":t[75]||(t[75]=u=>e.data.spellcasting.innateSpells.displayAsAction=u),id:"displayasaction?"},null,512),[[ze,e.data.spellcasting.innateSpells.displayAsAction]]),Ke(" Toggles display as action ")])]),_:1}),D(o,{title:"Edit specific spells"},{default:j(()=>[b("button",{class:"btn",onClick:t[76]||(t[76]=u=>e.showSpellModal=!0),id:"editspecificspells"},"Edit cast level/add comment")]),_:1})]),wl,b("div",Il,[D(o,{title:"Class"},{default:j(()=>[D(s,{modelValue:e.data.spellcasting.casterSpells.castingClass,"onUpdate:modelValue":t[77]||(t[77]=u=>e.data.spellcasting.casterSpells.castingClass=u),options:["Artificer","Bard","Cleric","Druid","Paladin","Ranger","Sorcerer","Warlock","Wizard"],inputId:"class"},null,8,["modelValue"])]),_:1}),D(o,{title:"Class level"},{default:j(()=>[D(s,{modelValue:e.data.spellcasting.casterSpells.casterLevel,"onUpdate:modelValue":t[78]||(t[78]=u=>e.data.spellcasting.casterSpells.casterLevel=u),options:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],inputId:"classlevel"},null,8,["modelValue"])]),_:1}),D(f,{modelValue:e.data.spellcasting.casterSpells.spellDcOverride,"onUpdate:modelValue":t[79]||(t[79]=u=>e.data.spellcasting.casterSpells.spellDcOverride=u),title:"DC override",step:1,"is-clearable":!0},null,8,["modelValue"]),D(f,{modelValue:e.data.spellcasting.casterSpells.spellBonusOverride,"onUpdate:modelValue":t[80]||(t[80]=u=>e.data.spellcasting.casterSpells.spellBonusOverride=u),title:"Attack bonus override",step:1},null,8,["modelValue"])]),e.data.spellcasting.casterSpells.castingClass?(q(),oe("div",Cl,[["Ranger","Paladin"].includes(e.data.spellcasting.casterSpells.castingClass)?Pe("",!0):(q(),lt(o,{key:0,title:"Cantrips","takes-custom-text-input":""},{default:j(()=>[D(s,{modelValue:e.data.spellcasting.casterSpells.spellList[0],"onUpdate:modelValue":t[81]||(t[81]=u=>e.data.spellcasting.casterSpells.spellList[0]=u),options:e.spellList[0],multiple:"",deselectFromDropdown:!0,closeOnSelect:!1,taggable:!0,pushTags:!0,inputId:"cantrips"},null,8,["modelValue","options"])]),_:1})),(q(!0),oe(_e,null,st(e.spellLevelList(),u=>(q(),lt(o,{title:"Level "+u,"takes-custom-text-input":""},{default:j(()=>[D(s,{modelValue:e.data.spellcasting.casterSpells.spellList[u],"onUpdate:modelValue":E=>e.data.spellcasting.casterSpells.spellList[u]=E,options:e.getSpellsByLevel(u),multiple:"",deselectFromDropdown:!0,closeOnSelect:!1,taggable:!0,pushTags:!0,title:"Level "+u},null,8,["modelValue","onUpdate:modelValue","options","title"])]),_:2},1032,["title"]))),256))])):Pe("",!0)])]),Pl,b("div",Tl,[b("button",{class:"btn confirm",onClick:t[82]||(t[82]=u=>e.saveStatblock())},"Save statblock")])],512),[[Qr,e.shouldShowEditor]]),b("div",Dl,[D(v,{data:e.data},null,8,["data"])])],2),D(g,{show:e.showImportModal,onClose:t[87]||(t[87]=u=>e.showImportModal=!1)},{header:j(()=>[Ke("Import Creatures")]),body:j(()=>[D(o,{title:"Bestiary Builder JSON"},{default:j(()=>[Al,b("div",xl,[ee(b("input",{type:"text","onUpdate:modelValue":t[83]||(t[83]=u=>e.bestiaryBuilderJson=u),id:"bestiarybuilderjson"},null,512),[[je,e.bestiaryBuilderJson]]),b("button",{class:"btn confirm",onClick:t[84]||(t[84]=(...u)=>e.importBestiaryBuilder&&e.importBestiaryBuilder(...u))},"Import")])]),_:1}),Nl,D(o,{title:"5e Tools JSON"},{default:j(()=>[Ml,b("div",Ll,[ee(b("input",{type:"text","onUpdate:modelValue":t[85]||(t[85]=u=>e.toolsjson=u),id:"5etoolsjson"},null,512),[[je,e.toolsjson]]),b("button",{class:"btn confirm",onClick:t[86]||(t[86]=kr((...u)=>e.import5etools&&e.import5etools(...u),["prevent"]))},"Import")])]),_:1}),JSON.stringify(e.notices)!=="{}"?(q(),oe("div",Vl,[Rl,Fl,(q(!0),oe(_e,null,st(e.notices,(u,E)=>(q(),oe("div",null,[u.length>0?(q(),oe("h3",jl,rt(E),1)):Pe("",!0),u.length>0?(q(),oe("ul",Ul,[(q(!0),oe(_e,null,st(u,O=>(q(),oe("li",null,rt(O),1))),256))])):Pe("",!0)]))),256))])):Pe("",!0)]),_:1},8,["show"]),D(g,{show:e.showSpellModal,onClose:t[88]||(t[88]=u=>e.showSpellModal=!1)},{header:j(()=>[Ke("Edit Innate Spellcasting list")]),body:j(()=>[$l,b("div",Bl,[(q(!0),oe(_e,null,st(e.data.spellcasting.innateSpells.spellList,u=>(q(),oe(_e,{key:u},[u.length>0?(q(!0),oe(_e,{key:0},st(u,(E,O)=>(q(),lt(o,{key:O,title:E.spell},{default:j(()=>[ee(b("input",{type:"text","onUpdate:modelValue":m=>E.comment=m,placeholder:"comment",id:E.spell},null,8,Gl),[[je,E.comment]])]),_:2},1032,["title"]))),128)):Pe("",!0)],64))),128))])]),_:1},8,["show"])])}const Jl=Sr(ko,[["render",Hl],["__scopeId","data-v-89eea6ce"]]);export{Jl as default};
