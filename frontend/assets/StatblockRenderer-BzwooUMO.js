import{_}from"./Markdown.vue_vue_type_script_setup_true_lang-DMPTTkBE.js";import{d as R,C as v,i as F,o as t,j as i,m as s,t as n,z as o,n as d,u as r,F as h,D as f,l as A,k as m,A as $,B as O,_ as z}from"./index-CzugAerY.js";import{h as U,d as L,s as C,a as N,b as P,p as M,c as V,e as H,f as W,S as B}from"./LabelledComponent-BuF7DO-v.js";const T=["str","dex","con","int","wis","cha"],j={vulnerabilities:"Vulnerabilities ",resistances:"Resistances ",immunities:"Immunities ",conditionImmunities:"Condition Immunities "},q={bonus:"Bonus Actions",reactions:"Reactions",legendary:"Legendary Actions",mythic:"Mythic Actions",lair:"Lair Actions",regional:"Regional Effects"},Je={features:"New Feature",actions:"New Action",bonus:"New Bonus Action",reactions:"New Reaction",legendary:"New Legendary Action",lair:"New Lair Action",mythic:"New Mythic Action",regional:"New Regional Effect"},Qe=["Acid","Bludgeoning","Cold","Fire","Force","Lightning","Necrotic","Piercing","Poison","Psychic","Radiant","Slashing","Thunder","Nonmagical Bludgeoning","Nonmagical Piercing","Nonmagical Slashing","Nonmagical Nonsilvered Bludgeoning","Nonmagical Nonsilvered Piercing","Nonmagical Nonsilvered Slashing"],Xe=["Blinded","Charmed","Deafened","Disease","Exhaustion","Frightened","Grappled","Incapacitated","Invisible","Paralyzed","Petrified","Poisoned","Prone","Restrained","Stunned","Unconscious"],Ze=["All","All languages it knew in life","Abyssal","Aarakocra","Aquan","Auran","Celestial","Common","Deep Speech","Draconic","Druidic","Dwarvish","Elvish","Giant","Gith","Gnomish","Goblin","Halfling","Ignan","Infernal","Orc","Primordial","Sylvan","Terran","Thieves' Cant","Undercommon","Understands the languages of its creator but can't speak"],xe=["Unaligned","Good","Neutral","Evil","Lawful Good","Neutral Good","Chaotic Good","Lawful Neutral","Neutral","Chaotic Neutral","Lawful Evil","Neutral Evil","Chaotic Evil","Any Alignment","Typically Good","Typically Neutral","Typically Evil","Typically Lawful Good","Typically Neutral Good","Typically Chaotic Good","Typically Lawful Neutral","Typically Chaotic Neutral","Typically Lawful Evil","Typically Neutral Evil","Typically Chaotic Evil"],ea=["Tiny","Small","Medium","Large","Huge","Gargantuan"],aa=["Aberration","Beast","Celestial","Construct","Dragon","Elemental","Fey","Fiend","Giant","Humanoid","Monstrosity","Ooze","Plant","Undead"],sa=["Artificer","Bard","Cleric","Druid","Paladin","Ranger","Sorcerer","Warlock","Wizard"],ta=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],u=y=>($("data-v-9cca26ac"),y=y(),O(),y),K={class:"stat-block"},Y={class:"stat-block__row"},J={class:"stat-block__name-container"},Q={class:"stat-block__core"},X=["src"],Z={class:"stat-block__row"},x=u(()=>s("b",null," Armor Class ",-1)),ee={key:0},ae=u(()=>s("b",null," Hit Points ",-1)),se={key:0},te={key:1},ie={class:"stat-block__speed-container"},ne=u(()=>s("b",null," Speed ",-1)),le={class:"stat-block__row stat-block__abilities"},oe={class:"stat-block__row"},re={key:0,class:"stat-block__save-container"},ce=u(()=>s("b",null," Saving Throws ",-1)),de={key:0},ue={key:1},pe={key:2,class:"ending-comma"},he={key:1,class:"stat-block__skills-container"},ge=u(()=>s("b",null," Skills ",-1)),_e={ckass:"stat-block__senses-container"},fe=u(()=>s("b",null," Senses ",-1)),me={class:"stat-block__language-container"},ye=u(()=>s("b",null," Languages ",-1)),ke={key:0},ve={key:1},be={key:2},Se={class:"challenge-prof"},Ne=u(()=>s("b",null," Challenge ",-1)),Ae=u(()=>s("b",null," Proficiency Bonus ",-1)),Ce={key:0,id:"yes",class:"stat-block__row"},we={class:"feature-container"},Le={key:0},Pe={key:0,class:"feature-container__automation-icon"},He={key:1},Be={key:0},Te={key:2},Ge=u(()=>s("b",null,[s("i",null,"Spellcasting")],-1)),De={key:1,class:"feature-container"},Ee=u(()=>s("h3",{class:"feature-container__title"}," Actions ",-1)),Ie={key:0},Re={key:0,class:"feature-container__automation-icon"},Fe={key:1},$e={key:0},Oe={class:"feature-container__title"},ze={key:0},Ue={key:1},Me={key:0,class:"feature-container__automation-icon"},Ve={key:2,class:"description"},We=u(()=>s("h2",{class:"feature-container__title"}," Description ",-1)),je=R({__name:"StatblockRenderer",props:{data:{}},setup(y){const c=y,G=v(()=>{for(const e of c.data.abilities.skills)if(e.isProficient||e.isHalfProficient||e.isExpertise||e.override||e.override===0)return!0;return!1}),w=v(()=>!!(c.data.spellcasting.casterSpells.casterLevel&&c.data.spellcasting.casterSpells.castingClass)),b=v(()=>c.data.spellcasting.innateSpells.spellCastingAbility!=null&&(c.data.spellcasting.innateSpells.spellList[0].length>0||c.data.spellcasting.innateSpells.spellList[1].length>0||c.data.spellcasting.innateSpells.spellList[2].length>0||c.data.spellcasting.innateSpells.spellList[3].length>0)),D=v(()=>{let e=Array.from(c.data.abilities.skills);e.sort((a,l)=>a.skillName.localeCompare(l.skillName));const k=new Set;e=e.filter(a=>k.has(a.skillName)?!1:(k.add(a.skillName),!0));const p=[];for(const a of e){if(!a.isExpertise&&!a.isHalfProficient&&!a.isProficient&&!a.override)continue;let l=0;for(const g in B)if(B[g].includes(a.skillName.replaceAll(" ","").toLowerCase().replace("animalh","animalH").replace("sleightofh","sleightOfH"))){if(a.override&&a.override!==null){const S=a.override;p.push(`${a.skillName} ${(S??0)>=0?"+":""}${S}`)}else l=N(g,c.data),a.isHalfProficient?l+=Math.floor(c.data.core.proficiencyBonus/2):a.isProficient?l+=c.data.core.proficiencyBonus:a.isExpertise&&(l+=c.data.core.proficiencyBonus*2),p.push(`${a.skillName} ${l>=0?"+":""}${l}`);break}else continue}return p.join(", ")}),E=v(()=>{const e=c.data.defenses.hp.numOfHitDie*N("con",c.data);return e!==0?e>0?`+${e.toString()}`:e.toString():""}),I=e=>{const k=(p,a)=>{const l=p.split(" ").pop(),g=a.split(" ").pop();return l.localeCompare(g)};return e.sort(k).map(p=>p.toLowerCase())};return(e,k)=>{const p=F("tooltip");return t(),i("div",K,[s("div",Y,[s("h1",J,n(e.data.description.name),1),s("span",Q,n(e.data.core.size)+" "+n(e.data.core.race)+n(e.data.description.alignment?",":"")+" "+n(e.data.description.alignment),1),e.data.description.image?(t(),i("img",{key:0,class:"stat-block__image",src:e.data.description.image},null,8,X)):o("",!0)]),s("div",Z,[s("div",null,[x,d(" "+n(e.data.defenses.ac.ac)+" ",1),e.data.defenses.ac.acSource?(t(),i("span",ee," ("+n(e.data.defenses.ac.acSource)+") ",1)):o("",!0)]),s("div",null,[ae,e.data.defenses.hp.override?(t(),i("span",se,n(e.data.defenses.hp.override),1)):(t(),i("span",te,n(r(U)(e.data))+" ("+n(e.data.defenses.hp.numOfHitDie)+"d"+n(e.data.defenses.hp.sizeOfHitDie)+n(E.value)+")",1))]),s("div",ie,[ne,d(" "+n(r(L)(e.data.core.speed)),1)])]),s("div",le,[(t(!0),i(h,null,f(r(T),a=>(t(),i("div",{key:a},[s("div",null,[s("b",null,n(a.toUpperCase()),1)]),s("span",null,n(e.data.abilities.stats[a])+" ("+n(r(C)(r(N)(a,e.data)))+")",1)]))),128))]),s("div",oe,[Object.values(e.data.abilities.saves).some(a=>a.isProficient===!0||a.override!==null)?(t(),i("div",re,[ce,(t(!0),i(h,null,f(r(T),a=>(t(),i(h,{key:a},[e.data.abilities.saves[a].override!==null?(t(),i("span",de,n(r(P)(a))+" "+n(r(C)(e.data.abilities.saves[a].override||0)),1)):e.data.abilities.saves[a].isProficient?(t(),i("span",ue,n(r(P)(a))+" "+n(r(C)(e.data.core.proficiencyBonus+r(N)(a,e.data))),1)):o("",!0),e.data.abilities.saves[a].override!==null||e.data.abilities.saves[a].isProficient?(t(),i("span",pe,", ")):o("",!0)],64))),128))])):o("",!0),G.value?(t(),i("div",he,[ge,d(" "+n(D.value),1)])):o("",!0),(t(!0),i(h,null,f(r(j),(a,l)=>(t(),i(h,null,[e.data.defenses[l].length>0?(t(),i("div",{key:l,class:"stat-block__res-container"},[s("b",null,n(a),1),s("span",null,n(I(e.data.defenses[l]).join(", ")),1)])):o("",!0)],64))),256)),s("div",_e,[fe,d(" "+n(r(L)(e.data.core.senses,!0))+" ",1),s("span",null," passive Perception "+n(r(M)(e.data)),1)]),s("div",me,[ye,e.data.core.languages&&e.data.core.languages.length===0&&!e.data.misc.telepathy?(t(),i("span",ke," — ")):(t(),i("span",ve,n(e.data.core.languages?.sort().join(", ")),1)),e.data.misc.telepathy?(t(),i("span",be," telepathy "+n(e.data.misc.telepathy)+"ft.",1)):o("",!0)]),s("div",Se,[s("span",null,[Ne,d(" "+n(r(V)(e.data.description.cr))+" ("+n(e.data.description.xp)+" xp) ",1)]),s("span",null,[Ae,d(" +"+n(e.data.core.proficiencyBonus),1)])])]),e.data.features.features.length>0||w.value||b.value&&!e.data.spellcasting.innateSpells.displayAsAction?(t(),i("div",Ce,[s("div",we,[e.data.misc.featureHeaderTexts.features?(t(),i("p",Le,n(e.data.misc.featureHeaderTexts.features),1)):o("",!0),(t(!0),i(h,null,f(e.data.features.features,(a,l)=>(t(),i("p",{key:l},[s("b",null,[s("i",null,n(a.name)+".",1),a.automation?A((t(),i("sup",Pe,[d("†")])),[[p,"Has Automation"]]):o("",!0)]),m(_,{class:"feature-container__desc",text:a.description,tag:"span"},null,8,["text"])]))),128)),b.value&&!e.data.spellcasting.innateSpells.displayAsAction?(t(),i("p",He,[s("b",null,[s("i",null,[d("Innate Spellcasting"),e.data.spellcasting.innateSpells.isPsionics?(t(),i("span",Be," (Psionics)")):o("",!0),d(".")])]),m(_,{class:"feature-container__desc",text:r(H)(e.data),tag:"span"},null,8,["text"])])):o("",!0),w.value&&e.data.spellcasting.casterSpells.castingClass&&e.data.spellcasting.casterSpells.casterLevel&&e.data.spellcasting.casterSpells.spellSlotList?(t(),i("p",Te,[Ge,m(_,{class:"feature-container__desc",text:r(W)(e.data),tag:"span"},null,8,["text"])])):o("",!0)])])):o("",!0),e.data.features.actions.length>0||b.value&&e.data.spellcasting.innateSpells.displayAsAction?(t(),i("div",De,[Ee,e.data.misc.featureHeaderTexts.actions?(t(),i("p",Ie,n(e.data.misc.featureHeaderTexts.actions),1)):o("",!0),(t(!0),i(h,null,f(e.data.features.actions,(a,l)=>(t(),i("p",{key:l},[s("b",null,[s("i",null,n(a.name)+".",1),a.automation?A((t(),i("sup",Re,[d("†")])),[[p,"Has Automation"]]):o("",!0)]),m(_,{class:"feature-container__desc",text:a.description,tag:"span"},null,8,["text"])]))),128)),b.value&&e.data.spellcasting.innateSpells.displayAsAction?(t(),i("p",Fe,[s("b",null,[s("i",null,[d("Spellcasting"),e.data.spellcasting.innateSpells.isPsionics?(t(),i("span",$e," (Psionics)")):o("",!0),d(".")])]),m(_,{class:"feature-container__desc",text:r(H)(e.data),tag:"span"},null,8,["text"])])):o("",!0)])):o("",!0),(t(!0),i(h,null,f(r(q),(a,l)=>(t(),i(h,null,[e.data.features[l].length>0?(t(),i("div",{key:l,class:"feature-container"},[s("h3",Oe,n(a),1),l==="legendary"&&e.data.misc.featureHeaderTexts[l]?(t(),i("p",ze,n(e.data.misc.featureHeaderTexts[l].replace("$NUM$",e.data.misc.legActionsPerRound.toString())),1)):e.data.misc.featureHeaderTexts[l]?(t(),i("p",Ue,n(e.data.misc.featureHeaderTexts[l]),1)):o("",!0),(t(!0),i(h,null,f(e.data.features[l],(g,S)=>(t(),i("p",{key:S},[s("b",null,[s("i",null,n(g.name)+".",1)]),g.automation?A((t(),i("sup",Me,[d("†")])),[[p,"Has Automation"]]):o("",!0),m(_,{class:"feature-container__desc",text:g.description,tag:"span"},null,8,["text"])]))),128))])):o("",!0)],64))),256)),e.data.description.description?(t(),i("div",Ve,[We,m(_,{text:e.data.description.description},null,8,["text"])])):o("",!0)])}}}),ia=z(je,[["__scopeId","data-v-9cca26ac"]]);export{ia as S,xe as a,Xe as b,aa as c,T as d,sa as e,ta as f,Ze as l,Je as n,Qe as r,ea as s};
