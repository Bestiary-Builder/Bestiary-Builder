import{d as k,U as b,Y as f,u as g,h as y,t as B,_ as v,r as l,o,c as i,a as p,l as h,F as w,H as I,z as C,b as t,f as r,i as u,C as L,T as U,p as $,j as R}from"./index-CCTs9utp.js";const S=k({data(){return{bestiaries:[],user:null}},components:{UserBanner:b,RouterLink:f},async beforeMount(){const e=this.$loading.show();this.user=await g,await this.getBestiaries(),e.hide()},methods:{async getBestiaries(){await fetch("/api/user/bookmarks").then(async e=>{let s=await y(e);s.success?this.bestiaries=s.data:(this.bestiaries=[],B.error(s.data.error))})}},computed:{bestiaryImages(){let e=[];for(let s of this.bestiaries){const n=s.description.match(/\!\[.*?\]\((.*?)\)/),d=(n||[])[1];n&&(s.description=s.description.replace(n[0],"")),e.push(d)}return e}}}),V=e=>($("data-v-e040cb21"),e=e(),R(),e),F={class:"content"},N={key:0,class:"tile-container"},j={class:"tile-header"},z=["src"],T={class:"tags"},Y={class:"description"},A={class:"tile-footer"},D={key:1,class:"no-bookmarks-notice"},E=V(()=>t("p",null,"You do not have any bookmarked bestiaries. View a Bestiary and click on the â­ icon to bookmark it.",-1)),G=[E];function H(e,s,n,d,M,q){const m=l("UserBanner"),_=l("RouterLink");return o(),i("div",F,[e.bestiaries.length>0?(o(),i("div",N,[p(U,{name:"popin"},{default:h(()=>[e.bestiaries?(o(!0),i(w,{key:0},I(e.bestiaries,(a,c)=>(o(),C(_,{class:"content-tile bestiary-tile",to:"/bestiary-viewer/"+a._id},{default:h(()=>[t("h2",j,r(a.name),1),t("div",{class:L(["tile-content",{"tile-has-image":e.bestiaryImages[c]}])},[e.bestiaryImages[c]?(o(),i("img",{key:0,class:"tile-image",src:e.bestiaryImages[c]},null,8,z)):u("",!0),t("div",T,r(a.tags.join(", ")),1),t("p",Y,r(a.description),1)],2),t("div",A,[p(m,{id:a.owner},null,8,["id"]),t("span",null,r(a.creatures.length)+"ğŸ‰",1)])]),_:2},1032,["to"]))),256)):u("",!0)]),_:1})])):(o(),i("div",D,G))])}const K=v(S,[["render",H],["__scopeId","data-v-e040cb21"]]);export{K as default};
