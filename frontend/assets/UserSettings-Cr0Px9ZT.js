import{_ as f,r as h,o as n,c as r,a as _,b as o,d as k,u as m,h as g,t as d,g as B,U as L,s as v,w as y,e as s,f as u,i as p,F as C,p as $,j as S}from"./index-CCTs9utp.js";import{B as P}from"./Breadcrumbs-Cgz29xMC.js";const j={},I={href:"https://www.patreon.com/join/BestiaryBuilder",class:"patreon"},Y=o("span",null," Become a patreon ",-1);function T(e,t){const i=h("font-awesome-icon");return n(),r("a",I,[_(i,{icon:"fa-brands fa-patreon"}),Y])}const D=f(j,[["render",T]]),N=k({data(){return{user:null}},async mounted(){let t=new URLSearchParams(window.location.search).get("code");t&&!await m?await fetch("/api/login/"+t).then(async i=>{let c=await g(i);c.success?(d.success("Succesfully logged in"),window.location.href=B()):(d.error(c.data.error),this.$router.push("/user"))}):this.user=await m},components:{UserBanner:L,Breadcrumbs:P,JoinPatreon:D},methods:{LoginClick(){v(this.$route.path)},async LogoutClick(){await fetch("/api/logout").then(async e=>{let t=await g(e);t.success?location.reload():d.error(t.data.error)})}}}),a=e=>($("data-v-c8d0c5a2"),e=e(),S(),e),U={class:"content less-wide"},A={key:0},V=a(()=>o("p",null," You are not logged in. Login with Discord to log in.",-1)),F=a(()=>o("hr",null,null,-1)),J={key:1},R={key:0,class:"patreon"},W=a(()=>o("p",null," If you enjoy using our site, consider supporting us on Patreon! As a Patreon, you will have several benefits and your support will help Bestiary Builder stay online. ",-1)),E={class:"center"},G={key:1},M=a(()=>o("b",null," Wyrmling ",-1)),q={key:2},z=a(()=>o("b",null," Greatwyrm ",-1)),H=a(()=>o("hr",null,null,-1));function K(e,t,i,c,O,Q){const w=h("Breadcrumbs"),b=h("JoinPatreon");return n(),r(C,null,[_(w,{routes:[{path:"",text:"User Settings",isCurrent:!0}],isLessWide:!0}),o("div",U,[e.user?(n(),r("div",J,[o("p",null,[s(" You are logged in to Bestiary Builder with Discord as "),o("b",null,u(e.user.username),1),s(".")]),o("p",null,[s(" You have been a user of Bestiary Builder since "),o("b",null,u(e.user.joinedAt?new Date(e.user.joinedAt).toDateString():"Not Found"),1),s(".")]),o("p",null,[s(" You have created "),o("b",null,u(e.user.bestiaries.length),1),s(" bestiaries since then.")]),o("p",null,[s(" Your user id is "),o("code",null,u(e.user._id),1),s(".")]),e.user.supporter==0?(n(),r("p",R,[W,o("span",E,[_(b)])])):p("",!0),e.user.supporter==1?(n(),r("p",G,[s(" You support us on Patreon as a "),M,s(" Tier supporter. Thank you so much for your pledge! If you cannot see your name display change on the website yet, make sure to join our discord. ")])):p("",!0),e.user.supporter==2?(n(),r("p",q,[s(" You support us on Patreon as a "),z,s(" Tier supporter. Thank you so much for your support! If you cannot see your name display change on the website yet, make sure to join our discord. ")])):p("",!0),H,o("button",{onClick:t[1]||(t[1]=y((...l)=>e.LogoutClick&&e.LogoutClick(...l),["prevent"])),class:"btn"},"Log out of Bestiary Builder ")])):(n(),r("div",A,[V,F,o("button",{class:"btn confirm",onClick:t[0]||(t[0]=y((...l)=>e.LoginClick&&e.LoginClick(...l),["prevent"]))},"Login")]))])],64)}const x=f(N,[["render",K],["__scopeId","data-v-c8d0c5a2"]]);export{x as default};
