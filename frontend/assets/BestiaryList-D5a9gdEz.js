import{e as y,K as D,r as I,M as N,o as t,c as o,b as i,z as h,F as L,T as S,A as V,d as a,t as c,i as d,s as u,l as m,P as f,N as v,w as b,k as M,Y as T,Z as U,_ as $}from"./index-Dftziylh.js";import{S as z,U as F}from"./StatusIcon-BtROKMR6.js";const j={class:"tile-container"},A={class:"tile-header"},E={key:0,class:"shared-notice"},G=["src"],K={class:"tags"},O={class:"description"},P={class:"tile-footer"},R={key:0},Y=["onClick"],Z={key:2},q=y({__name:"BestiaryList",props:{personal:{type:Boolean},bestiaries:{}},emits:["deleteBestiary"],setup(k,{emit:g}){const B=k,w=g,C=s=>{s&&w("deleteBestiary",s)},p=D(()=>{const s=[];for(const r of B.bestiaries){const n=r.description.match(/!\[.*?\]\((.*?)\)/),l=(n||[])[1];n&&(r.description=r.description.replace(n[0],"")),s.push(l)}return s});return(s,r)=>{const n=I("font-awesome-icon"),l=N("tooltip");return t(),o("div",j,[i(U,{name:"popin"},{default:h(()=>[(t(!0),o(L,null,S(s.bestiaries,(e,_)=>(t(),V(d(T),{key:e._id?.toString(),class:f(["content-tile bestiary-tile",{"four-tall":e.owner!==d(u).user?._id}]),to:`/bestiary-viewer/${e._id}`,"aria-label":`Open Bestiary ${e.name}`},{default:h(()=>[a("div",A,[a("h2",null,c(e.name),1)]),e.owner!==d(u).user?._id&&s.personal?(t(),o("span",E,"(shared)")):m("",!0),a("div",{class:f(["tile-content",{"tile-has-image":p.value[_]}])},[p.value[_]?(t(),o("img",{key:0,class:"tile-image",src:p.value[_]},null,8,G)):m("",!0),a("div",K,c(e.tags.join(", ")),1),a("p",O,c(e.description),1)],2),a("div",P,[s.personal?v((t(),o("span",R,[i(z,{icon:e.status},null,8,["icon"])])),[[l,e.status,void 0,{left:!0}]]):m("",!0),s.personal&&e.owner===d(u).user?._id?v((t(),o("span",{key:1,role:"button",class:"edit-button","aria-label":"Delete bestiary",onClick:b(H=>C(e),["stop","prevent"])},[i(n,{icon:["fas","trash"]})],8,Y)),[[l,"Delete bestiary"]]):(t(),o("span",Z,[i(F,{id:e.owner},null,8,["id"])])),a("span",null,[M(c(e.creatures.length),1),i(n,{icon:["fas","skull"]})])])]),_:2},1032,["to","class","aria-label"]))),128))]),_:1})])}}}),W=$(q,[["__scopeId","data-v-2531b345"]]);export{W as B};
