import{e as y,J as D,r as I,L,o as t,c as o,b as i,v as h,F as S,S as N,x as U,d as a,t as c,u as d,s as u,h as m,O as f,M as v,w as V,g as b,Y as M,U as $,_ as F}from"./index-Qg_Jh5vw.js";import{S as O,U as T}from"./StatusIcon-BfO8JYX5.js";const j={class:"tile-container"},z={class:"tile-header"},E={key:0,class:"shared-notice"},G=["src"],J={class:"tags"},R={class:"description"},Y={class:"tile-footer"},q={key:0},x=["onClick"],A={key:2},H=y({__name:"BestiaryList",props:{personal:{type:Boolean},bestiaries:{}},emits:["deleteBestiary"],setup(g,{emit:k}){const B=g,w=k,C=s=>{s&&w("deleteBestiary",s)},p=D(()=>{const s=[];for(const r of B.bestiaries){const n=r.description.match(/!\[.*?\]\((.*?)\)/),l=(n||[])[1];n&&(r.description=r.description.replace(n[0],"")),s.push(l)}return s});return(s,r)=>{const n=I("font-awesome-icon"),l=L("tooltip");return t(),o("div",j,[i($,{name:"popin"},{default:h(()=>[(t(!0),o(S,null,N(s.bestiaries,(e,_)=>(t(),U(d(M),{key:e._id?.toString(),class:f(["content-tile bestiary-tile",{"four-tall":e.owner!==d(u).user?._id}]),to:`/bestiary-viewer/${e._id}`,"aria-label":`Open Bestiary ${e.name}`},{default:h(()=>[a("div",z,[a("h2",null,c(e.name),1)]),e.owner!==d(u).user?._id&&s.personal?(t(),o("span",E,"(shared)")):m("",!0),a("div",{class:f(["tile-content",{"tile-has-image":p.value[_]}])},[p.value[_]?(t(),o("img",{key:0,class:"tile-image",src:p.value[_]},null,8,G)):m("",!0),a("div",J,c(e.tags.join(", ")),1),a("p",R,c(e.description),1)],2),a("div",Y,[s.personal?v((t(),o("span",q,[i(O,{icon:e.status},null,8,["icon"])])),[[l,e.status,void 0,{left:!0}]]):m("",!0),s.personal&&e.owner===d(u).user?._id?v((t(),o("span",{key:1,role:"button",class:"edit-button","aria-label":"Delete bestiary",onClick:V(K=>C(e),["stop","prevent"])},[i(n,{icon:["fas","trash"]})],8,x)),[[l,"Delete bestiary"]]):(t(),o("span",A,[i(T,{id:e.owner},null,8,["id"])])),a("span",null,[b(c(e.creatures.length),1),i(n,{icon:["fas","skull"]})])])]),_:2},1032,["to","class","aria-label"]))),128))]),_:1})])}}}),W=F(H,[["__scopeId","data-v-2531b345"]]);export{W as B};
