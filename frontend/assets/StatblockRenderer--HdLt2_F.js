import{_ as g}from"./Markdown.vue_vue_type_script_setup_true_lang-BJnpDf37.js";import{d as I,I as b,i as j,o as a,j as n,l as t,t as l,B as r,n as c,u as d,F as f,x as m,k as v,m as C,_ as E}from"./index-Eo6WqVUZ.js";import{h as V,d as _,s as P,r as z,p as F,a as R,b as L,e as T,f as W,S as B,g as S,i as A,j as N}from"./constants-D5I_1ZIC.js";const G={class:"stat-block"},M={class:"stat-block__row"},U={class:"stat-block__name-container"},K={class:"stat-block__core"},Y=["src"],q={class:"stat-block__row"},J={key:0},Q={key:0},X={key:1},Z={class:"stat-block__speed-container"},x={class:"stat-block__row stat-block__abilities"},ee={class:"stat-block__row"},se={key:0,class:"stat-block__save-container"},te={key:0},ae={key:1},ne={key:2,class:"ending-comma"},ie={key:1,class:"stat-block__skills-container"},le={ckass:"stat-block__senses-container"},oe={class:"stat-block__language-container"},re={key:0},de={key:1},ue={key:2},ce={class:"challenge-prof"},pe={key:0,id:"yes",class:"stat-block__row"},fe={class:"feature-container"},ke={key:0},ge={key:0,class:"feature-container__automation-icon"},me={key:1},ve={key:0},be={key:2},ye={key:1,class:"feature-container"},he={key:0},Se={key:0,class:"feature-container__automation-icon"},Ce={key:1},Ae={key:0},He={class:"feature-container__title"},_e={key:0},Pe={key:1},Le={key:0,class:"feature-container__automation-icon"},Be={key:2,class:"description"},Ne=I({__name:"StatblockRenderer",props:{data:{}},setup(u){const w=b(()=>{for(const e of u.data.abilities.skills)if(e.isProficient||e.isHalfProficient||e.isExpertise||e.override||e.override===0)return!0;return!1}),H=b(()=>!!(u.data.spellcasting.casterSpells.casterLevel&&u.data.spellcasting.casterSpells.castingClass)),y=b(()=>u.data.spellcasting.innateSpells.spellCastingAbility!=null&&(u.data.spellcasting.innateSpells.spellList[0].length>0||u.data.spellcasting.innateSpells.spellList[1].length>0||u.data.spellcasting.innateSpells.spellList[2].length>0||u.data.spellcasting.innateSpells.spellList[3].length>0)),$=b(()=>{let e=Array.from(u.data.abilities.skills);e.sort((s,o)=>s.skillName.localeCompare(o.skillName));const i=new Set;e=e.filter(s=>i.has(s.skillName)?!1:(i.add(s.skillName),!0));const p=[];for(const s of e){if(!s.isExpertise&&!s.isHalfProficient&&!s.isProficient&&!s.override)continue;let o=0;for(const k in B)if(B[k].includes(s.skillName.replaceAll(" ","").toLowerCase().replace("animalh","animalH").replace("sleightofh","sleightOfH"))){if(s.override&&s.override!==null){const h=s.override;p.push(`${s.skillName} ${(h??0)>=0?"+":""}${h}`)}else o=S(k,u.data),s.isHalfProficient?o+=Math.floor(u.data.core.proficiencyBonus/2):s.isProficient?o+=u.data.core.proficiencyBonus:s.isExpertise&&(o+=u.data.core.proficiencyBonus*2),p.push(`${s.skillName} ${o>=0?"+":""}${o}`);break}else continue}return p.join(", ")}),D=b(()=>{const e=u.data.defenses.hp.numOfHitDie*S("con",u.data);return e!==0?e>0?`+${e.toString()}`:e.toString():""}),O=e=>{const i=(p,s)=>{const o=p.split(" ").pop(),k=s.split(" ").pop();return o.localeCompare(k)};return e.sort(i).map(p=>p.toLowerCase())};return(e,i)=>{const p=j("tooltip");return a(),n("div",G,[t("div",M,[t("h1",U,l(e.data.description.name),1),t("span",K,l(e.data.core.size)+" "+l(e.data.core.race)+l(e.data.description.alignment?",":"")+" "+l(e.data.description.alignment),1),e.data.description.image?(a(),n("img",{key:0,class:"stat-block__image",src:e.data.description.image},null,8,Y)):r("",!0)]),t("div",q,[t("div",null,[i[0]||(i[0]=t("b",null," Armor Class ",-1)),c(" "+l(e.data.defenses.ac.ac)+" ",1),e.data.defenses.ac.acSource?(a(),n("span",J," ("+l(e.data.defenses.ac.acSource)+") ",1)):r("",!0)]),t("div",null,[i[1]||(i[1]=t("b",null," Hit Points ",-1)),e.data.defenses.hp.override?(a(),n("span",Q,l(e.data.defenses.hp.override),1)):(a(),n("span",X,l(d(V)(e.data))+" ("+l(e.data.defenses.hp.numOfHitDie)+"d"+l(e.data.defenses.hp.sizeOfHitDie)+l(D.value)+")",1))]),t("div",Z,[i[2]||(i[2]=t("b",null," Speed ",-1)),c(" "+l(d(_)(e.data.core.speed)),1)])]),t("div",x,[(a(!0),n(f,null,m(d(P),s=>(a(),n("div",{key:s},[t("div",null,[t("b",null,l(s.toUpperCase()),1)]),t("span",null,l(e.data.abilities.stats[s])+" ("+l(d(A)(d(S)(s,e.data)))+")",1)]))),128))]),t("div",ee,[Object.values(e.data.abilities.saves).some(s=>s.isProficient===!0||s.override!==null)?(a(),n("div",se,[i[3]||(i[3]=t("b",null," Saving Throws ",-1)),(a(!0),n(f,null,m(d(P),s=>(a(),n(f,{key:s},[e.data.abilities.saves[s].override!==null?(a(),n("span",te,l(d(N)(s))+" "+l(d(A)(e.data.abilities.saves[s].override||0)),1)):e.data.abilities.saves[s].isProficient?(a(),n("span",ae,l(d(N)(s))+" "+l(d(A)(e.data.core.proficiencyBonus+d(S)(s,e.data))),1)):r("",!0),e.data.abilities.saves[s].override!==null||e.data.abilities.saves[s].isProficient?(a(),n("span",ne,", ")):r("",!0)],64))),128))])):r("",!0),w.value?(a(),n("div",ie,[i[4]||(i[4]=t("b",null," Skills ",-1)),c(" "+l($.value),1)])):r("",!0),(a(!0),n(f,null,m(d(z),(s,o)=>(a(),n(f,null,[e.data.defenses[o].length>0?(a(),n("div",{key:o,class:"stat-block__res-container"},[t("b",null,l(s),1),t("span",null,l(O(e.data.defenses[o]).join(", ")),1)])):r("",!0)],64))),256)),t("div",le,[i[5]||(i[5]=t("b",null," Senses ",-1)),c(" "+l(d(_)(e.data.core.senses,!0))+" ",1),t("span",null," passive Perception "+l(d(F)(e.data)),1)]),t("div",oe,[i[6]||(i[6]=t("b",null," Languages ",-1)),e.data.core.languages&&e.data.core.languages.length===0&&!e.data.misc.telepathy?(a(),n("span",re," — ")):(a(),n("span",de,l(e.data.core.languages?.sort().join(", ")),1)),e.data.misc.telepathy?(a(),n("span",ue," telepathy "+l(e.data.misc.telepathy)+"ft.",1)):r("",!0)]),t("div",ce,[t("span",null,[i[7]||(i[7]=t("b",null," Challenge ",-1)),c(" "+l(d(R)(e.data.description.cr))+" ("+l(e.data.description.xp)+" xp) ",1)]),t("span",null,[i[8]||(i[8]=t("b",null," Proficiency Bonus ",-1)),c(" +"+l(e.data.core.proficiencyBonus),1)])])]),e.data.features.features.length>0||H.value||y.value&&!e.data.spellcasting.innateSpells.displayAsAction?(a(),n("div",pe,[t("div",fe,[e.data.misc.featureHeaderTexts.features?(a(),n("p",ke,l(e.data.misc.featureHeaderTexts.features),1)):r("",!0),(a(!0),n(f,null,m(e.data.features.features,(s,o)=>(a(),n("p",{key:o},[t("b",null,[t("i",null,l(s.name)+".",1),s.automation?C((a(),n("sup",ge,i[9]||(i[9]=[c("†")]))),[[p,"Has Automation"]]):r("",!0)]),v(g,{class:"feature-container__desc",text:s.description,tag:"span"},null,8,["text"])]))),128)),y.value&&!e.data.spellcasting.innateSpells.displayAsAction?(a(),n("p",me,[t("b",null,[t("i",null,[i[10]||(i[10]=c("Innate Spellcasting")),e.data.spellcasting.innateSpells.isPsionics?(a(),n("span",ve," (Psionics)")):r("",!0),i[11]||(i[11]=c("."))])]),v(g,{class:"feature-container__desc",text:d(L)(e.data),tag:"span"},null,8,["text"])])):r("",!0),H.value&&e.data.spellcasting.casterSpells.castingClass&&e.data.spellcasting.casterSpells.casterLevel&&e.data.spellcasting.casterSpells.spellSlotList?(a(),n("p",be,[i[12]||(i[12]=t("b",null,[t("i",null,"Spellcasting")],-1)),v(g,{class:"feature-container__desc",text:d(T)(e.data),tag:"span"},null,8,["text"])])):r("",!0)])])):r("",!0),e.data.features.actions.length>0||y.value&&e.data.spellcasting.innateSpells.displayAsAction?(a(),n("div",ye,[i[16]||(i[16]=t("h3",{class:"feature-container__title"}," Actions ",-1)),e.data.misc.featureHeaderTexts.actions?(a(),n("p",he,l(e.data.misc.featureHeaderTexts.actions),1)):r("",!0),(a(!0),n(f,null,m(e.data.features.actions,(s,o)=>(a(),n("p",{key:o},[t("b",null,[t("i",null,l(s.name)+".",1),s.automation?C((a(),n("sup",Se,i[13]||(i[13]=[c("†")]))),[[p,"Has Automation"]]):r("",!0)]),v(g,{class:"feature-container__desc",text:s.description,tag:"span"},null,8,["text"])]))),128)),y.value&&e.data.spellcasting.innateSpells.displayAsAction?(a(),n("p",Ce,[t("b",null,[t("i",null,[i[14]||(i[14]=c("Spellcasting")),e.data.spellcasting.innateSpells.isPsionics?(a(),n("span",Ae," (Psionics)")):r("",!0),i[15]||(i[15]=c("."))])]),v(g,{class:"feature-container__desc",text:d(L)(e.data),tag:"span"},null,8,["text"])])):r("",!0)])):r("",!0),(a(!0),n(f,null,m(d(W),(s,o)=>(a(),n(f,null,[e.data.features[o].length>0?(a(),n("div",{key:o,class:"feature-container"},[t("h3",He,l(s),1),o==="legendary"&&e.data.misc.featureHeaderTexts[o]?(a(),n("p",_e,l(e.data.misc.featureHeaderTexts[o].replace("$NUM$",e.data.misc.legActionsPerRound.toString())),1)):e.data.misc.featureHeaderTexts[o]?(a(),n("p",Pe,l(e.data.misc.featureHeaderTexts[o]),1)):r("",!0),(a(!0),n(f,null,m(e.data.features[o],(k,h)=>(a(),n("p",{key:h},[t("b",null,[t("i",null,l(k.name)+".",1)]),k.automation?C((a(),n("sup",Le,i[17]||(i[17]=[c("†")]))),[[p,"Has Automation"]]):r("",!0),v(g,{class:"feature-container__desc",text:k.description,tag:"span"},null,8,["text"])]))),128))])):r("",!0)],64))),256)),e.data.description.description?(a(),n("div",Be,[i[18]||(i[18]=t("h2",{class:"feature-container__title"}," Description ",-1)),v(g,{text:e.data.description.description},null,8,["text"])])):r("",!0)])}}}),Oe=E(Ne,[["__scopeId","data-v-6fb28d68"]]);export{Oe as S};
