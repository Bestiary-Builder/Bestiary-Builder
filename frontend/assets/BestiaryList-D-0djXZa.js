import{d as C,I as D,h as I,i as b,o as t,j as o,k as i,w as h,T as L,F as N,x as S,c as V,l as a,t as c,u as d,G as u,B as m,z as f,m as v,p as z,n as T,R as U,_ as $}from"./index-BmrAt_SM.js";import{S as j,U as F}from"./StatusIcon-B2Swfu6e.js";const G={key:0,class:"tile-container"},M={class:"tile-header"},R={key:0,class:"shared-notice"},E=["src"],O={class:"tags"},Y={class:"description"},q={class:"tile-footer"},A={key:0},H=["onClick"],J={key:2},K={key:1,class:"zero-found"},P=C({__name:"BestiaryList",props:{personal:{type:Boolean},bestiaries:{}},emits:["deleteBestiary"],setup(k,{emit:g}){const B=k,w=g,y=s=>{s&&w("deleteBestiary",s)},p=D(()=>{const s=[];for(const r of B.bestiaries){const n=r.description.match(/!\[.*?\]\((.*?)\)/),l=(n||[])[1];n&&(r.description=r.description.replace(n[0],"")),s.push(l)}return s});return(s,r)=>{const n=I("font-awesome-icon"),l=b("tooltip");return s.bestiaries.length>0?(t(),o("div",G,[i(L,{name:"popin"},{default:h(()=>[(t(!0),o(N,null,S(s.bestiaries,(e,_)=>(t(),V(d(U),{key:e._id?.toString(),class:f(["content-tile bestiary-tile",{"four-tall":e.owner!==d(u).user?._id}]),to:`/bestiary-viewer/${e._id}`,"aria-label":`Open Bestiary ${e.name}`},{default:h(()=>[a("div",M,[a("h2",null,c(e.name),1)]),e.owner!==d(u).user?._id&&s.personal?(t(),o("span",R,"(shared)")):m("",!0),a("div",{class:f(["tile-content",{"tile-has-image":p.value[_]}])},[p.value[_]?(t(),o("img",{key:0,class:"tile-image",src:p.value[_]},null,8,E)):m("",!0),a("div",O,c(e.tags.join(", ")),1),a("p",Y,c(e.description),1)],2),a("div",q,[s.personal?v((t(),o("span",A,[i(j,{icon:e.status},null,8,["icon"])])),[[l,e.status]]):m("",!0),s.personal&&e.owner===d(u).user?._id?v((t(),o("span",{key:1,role:"button",class:"edit-button","aria-label":"Delete bestiary",onClick:z(Q=>y(e),["stop","prevent"])},[i(n,{icon:["fas","trash"]})],8,H)),[[l,"Delete bestiary"]]):(t(),o("span",J,[i(F,{id:e.owner},null,8,["id"])])),a("span",null,[T(c(e.creatures.length),1),i(n,{icon:["fas","skull"]})])])]),_:2},1032,["to","class","aria-label"]))),128))]),_:1})])):(t(),o("div",K," You have no bestiaries. Create one in the top right. "))}}}),Z=$(P,[["__scopeId","data-v-820b3e3c"]]);export{Z as B};
